import{a as D}from"./chunk-KK6FVDB6.js";import{K as U,c as z,h as N,i as b,k as E,m as P,n as R}from"./chunk-WA5GEAJB.js";import{a as A}from"./chunk-U54OSGNH.js";import{f as W}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import{e as T}from"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Db as a,Dc as M,Ea as p,Ma as l,Na as u,Tb as k,Wa as w,Yc as F,Zc as _,_c as j,dd as i,jc as S,kc as g,ld as c,md as f,nd as L,vb as C,xb as y,xc as s,yc as d,yd as v,zc as h,zd as V}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var Q=["deepLinkingForm"],$=(()=>{class m{route=p(W);sanitizer=p(T);zone=p(w);jwt;id;actionLink;isLinking=!0;deepLinkingForm;ngOnInit(){this.route.params.subscribe(()=>{this.updateFormValues(),this.jwt&&this.id&&this.zone.runOutsideAngular(()=>{setTimeout(()=>this.autoSubmitForm())})})}updateFormValues(){let t=this.route.snapshot.queryParamMap.get("deepLinkUri")??"";if(this.actionLink=this.sanitizer.sanitize(C.URL,t)||"",this.jwt=this.route.snapshot.queryParamMap.get("jwt")??"",this.id=this.route.snapshot.queryParamMap.get("id")??"",this.actionLink===""||this.jwt===""||this.id===""){this.isLinking=!1;return}}autoSubmitForm(){let t=this.deepLinkingForm?.nativeElement;t&&(t.action=this.actionLink,t.submit())}static \u0275fac=function(n){return new(n||m)};static \u0275cmp=k({type:m,selectors:[["jhi-select-exercise"]],viewQuery:function(n,e){if(n&1&&F(Q,5),n&2){let r;_(r=j())&&(e.deepLinkingForm=r.first)}},decls:16,vars:7,consts:[["deepLinkingForm",""],["jhiTranslate","artemisApp.lti13.deepLinking.linking",3,"hidden"],["id","deepLinkingForm","method","post"],["hidden","true","id","JWT","name","JWT",3,"ngModelChange","ngModel"],["hidden","true","id","id","name","id",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.lti13.deepLinking.linkedFailed",3,"hidden"]],template:function(n,e){if(n&1){let r=M();h(0,"h1",1),i(1,`
`),s(2,"div"),i(3,`
    `),s(4,"form",2,0),v(6,"safeResourceUrl"),i(7,`
        `),s(8,"input",3),L("ngModelChange",function(o){return l(r),f(e.jwt,o)||(e.jwt=o),u(o)}),d(),i(9,`
        `),s(10,"input",4),L("ngModelChange",function(o){return l(r),f(e.id,o)||(e.id=o),u(o)}),d(),i(11,`
    `),d(),i(12,`
`),d(),i(13,`
`),h(14,"h2",5),i(15,`
`)}n&2&&(g("hidden",e.isLinking),a(4),S("action",V(6,5,e.actionLink),y),a(4),c("ngModel",e.jwt),a(2),c("ngModel",e.id),a(4),g("hidden",!e.isLinking))},dependencies:[A,U,R,z,N,b,P,E,D],encapsulation:2})}return m})();export{$ as Lti13SelectContentComponent};
//# sourceMappingURL=lti13-select-content.component-PDEVS4S2.js.map
