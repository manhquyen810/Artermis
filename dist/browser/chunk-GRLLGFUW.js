import{a as p}from"./chunk-NOBD5HSR.js";import{L as d,O as c}from"./chunk-IOA4DPXY.js";import{Ea as u,ya as i,z as a}from"./chunk-5LC5EQRR.js";var P=(()=>{class o{http=u(c);resourceUrl="api/assessment/courses";createGradingScaleForCourse(e,r){return this.http.post(`${this.resourceUrl}/${e}/grading-scale`,r,{observe:"response"})}updateGradingScaleForCourse(e,r){return this.http.put(`${this.resourceUrl}/${e}/grading-scale`,r,{observe:"response"})}findGradingScaleForCourse(e){return this.http.get(`${this.resourceUrl}/${e}/grading-scale`,{observe:"response"})}deleteGradingScaleForCourse(e){return this.http.delete(`${this.resourceUrl}/${e}/grading-scale`,{observe:"response"})}createGradingScaleForExam(e,r,t){return this.http.post(`${this.resourceUrl}/${e}/exams/${r}/grading-scale`,t,{observe:"response"})}updateGradingScaleForExam(e,r,t){return this.http.put(`${this.resourceUrl}/${e}/exams/${r}/grading-scale`,t,{observe:"response"})}findGradingScaleForExam(e,r){return this.http.get(`${this.resourceUrl}/${e}/exams/${r}/grading-scale`,{observe:"response"})}deleteGradingScaleForExam(e,r){return this.http.delete(`${this.resourceUrl}/${e}/exams/${r}/grading-scale`,{observe:"response"})}findGradeStepsForCourse(e){return this.http.get(`${this.resourceUrl}/${e}/grading-scale/grade-steps`,{observe:"response"})}findGradeStepsForExam(e,r){return this.http.get(`${this.resourceUrl}/${e}/exams/${r}/grading-scale/grade-steps`,{observe:"response"})}findGradeSteps(e,r){let t;return r!=null?t=this.findGradeStepsForExam(e,r):t=this.findGradeStepsForCourse(e),t.pipe(a(s=>s?.body??void 0))}findWithBonusGradeTypeForInstructor(e){let r=new d().set("pageSize",String(e.pageSize)).set("page",String(e.page)).set("sortingOrder",e.sortingOrder).set("searchTerm",e.searchTerm).set("sortedColumn",e.sortedColumn);return this.http.get("api/assessment/grading-scales",{params:r,observe:"response"})}matchPercentageToGradeStepForCourse(e,r){return this.http.get(`${this.resourceUrl}/${e}/grading-scale/match-grade-step?gradePercentage=${r}`,{observe:"response"})}matchPercentageToGradeStepForExam(e,r,t){return this.http.get(`${this.resourceUrl}/${e}/exams/${r}/grading-scale/match-grade-step?gradePercentage=${t}`,{observe:"response"})}matchPercentageToGradeStep(e,r,t){let s;return t!=null?s=this.matchPercentageToGradeStepForExam(r,t,e):s=this.matchPercentageToGradeStepForCourse(r,e),s.pipe(a(n=>{if(n&&n.body)return n.body}))}sortGradeSteps(e){return e.sort((r,t)=>r.lowerBoundPercentage-t.lowerBoundPercentage)}matchGradePercentage(e,r){return Math.abs(r-e.lowerBoundPercentage)<.01?e.lowerBoundInclusive:Math.abs(r-e.upperBoundPercentage)<.01?e.upperBoundInclusive:r>e.lowerBoundPercentage&&r<e.upperBoundPercentage}findMatchingGradeStep(e,r){let t=e.find(n=>this.matchGradePercentage(n,r));if(t)return t;let s=[];return e.forEach(n=>s.push(Object.assign({},n))),s=this.sortGradeSteps(s),r>s.last().upperBoundPercentage?s.last():void 0}findMatchingGradeStepByPoints(e,r,t){let s=r/t*100;return this.findMatchingGradeStep(e,s)}maxGrade(e){return e.find(t=>t.upperBoundInclusive&&t.upperBoundPercentage===100)?.gradeName||""}setGradePoints(e,r){for(let t of e)t.lowerBoundPoints=r*t.lowerBoundPercentage/100,t.upperBoundPoints=r*t.upperBoundPercentage/100}hasPointsSet(e){for(let r of e)if(r.lowerBoundPoints==null||r.upperBoundPoints==null||r.upperBoundPoints===0)return!1;return e.length!==0}getGradingScaleCourse(e){return e?.exam?.course??e?.course}getGradingScaleTitle(e){return e?.exam?.title??e?.course?.title}getGradingScaleMaxPoints(e){return(e?.exam?.examMaxPoints??e?.course?.maxPoints)||0}getNumericValueForGradeName(e){if(e==null)return;e=e.replace(",",".");let r=parseFloat(e);if(isNaN(r)){p(new Error(`Grade name: ${e} cannot be parsed as float`));return}return r}static \u0275fac=function(r){return new(r||o)};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{P as a};
//# sourceMappingURL=chunk-GRLLGFUW.js.map
