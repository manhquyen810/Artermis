import{a as M}from"./chunk-WLHCEJZ5.js";import"./chunk-IQWRONMP.js";import{a as j}from"./chunk-X237AILQ.js";import"./chunk-ZPITQMA6.js";import"./chunk-HK7MJBP6.js";import"./chunk-2CUFQLAH.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import{a as E}from"./chunk-FGAONQTL.js";import{a as _}from"./chunk-HQ6UGNQX.js";import{c as d}from"./chunk-5MVJAZRV.js";import"./chunk-JNO6DNVW.js";import"./chunk-EELXLOHY.js";import"./chunk-WA5GEAJB.js";import{c as L}from"./chunk-JXJXC4DZ.js";import"./chunk-EDXSOKK5.js";import"./chunk-DID2YGL7.js";import"./chunk-S4QLGR2R.js";import"./chunk-Z4VHWOB5.js";import"./chunk-NOBD5HSR.js";import{a as I}from"./chunk-U54OSGNH.js";import{f as D,h as y}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{A as m,Db as G,Ea as o,Id as T,Mc as S,Tb as b,W as h,aa as a,dd as n,f as g,kc as p,oa as C,pa as s,xc as l,yc as c,zc as v}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var K=(()=>{class u{activatedRoute=o(D);router=o(y);tutorialGroupsConfigurationService=o(E);courseStorageService=o(_);alertService=o(L);cdr=o(T);ngUnsubscribe=new g;isLoading=!1;tutorialGroupsConfiguration;formData;course;tutorialGroupConfigurationId;ngOnInit(){this.isLoading=!0,m([this.activatedRoute.paramMap,this.activatedRoute.data]).pipe(h(1),C(([t,{course:i}])=>(this.tutorialGroupConfigurationId=Number(t.get("tutorialGroupsConfigurationId")),this.course=i,this.tutorialGroupsConfigurationService.getOneOfCourse(this.course.id))),a(()=>this.isLoading=!1),s(this.ngUnsubscribe)).subscribe({next:t=>{t.body&&(this.tutorialGroupsConfiguration=t.body,this.formData={period:[this.tutorialGroupsConfiguration.tutorialPeriodStartInclusive.toDate(),this.tutorialGroupsConfiguration.tutorialPeriodEndInclusive.toDate()],useTutorialGroupChannels:this.tutorialGroupsConfiguration.useTutorialGroupChannels,usePublicTutorialGroupChannels:this.tutorialGroupsConfiguration.usePublicTutorialGroupChannels})},error:t=>d(this.alertService,t)}).add(()=>this.cdr.detectChanges())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}updateTutorialGroupsConfiguration(t){let{period:i,useTutorialGroupChannels:r,usePublicTutorialGroupChannels:f}=t;this.isLoading=!0,this.tutorialGroupsConfiguration.useTutorialGroupChannels=r,this.tutorialGroupsConfiguration.usePublicTutorialGroupChannels=f,this.tutorialGroupsConfigurationService.update(this.course.id,this.tutorialGroupConfigurationId,this.tutorialGroupsConfiguration,i??[]).pipe(a(()=>{this.isLoading=!1,this.router.navigate(["/course-management",this.course.id,"tutorial-groups"])}),s(this.ngUnsubscribe)).subscribe({next:e=>{let P=e.body;this.course.tutorialGroupsConfiguration=P,this.courseStorageService.updateCourse(this.course)},error:e=>d(this.alertService,e)}).add(()=>this.cdr.detectChanges())}static \u0275fac=function(i){return new(i||u)};static \u0275cmp=b({type:u,selectors:[["jhi-edit-tutorial-groups-configuration"]],decls:7,vars:4,consts:[[3,"isLoading"],["jhiTranslate","artemisApp.pages.editTutorialGroupsConfiguration.title"],[3,"formSubmitted","formData","isEditMode","course"]],template:function(i,r){i&1&&(l(0,"jhi-loading-indicator-container",0),n(1,`
    `),v(2,"h3",1),n(3,`
    `),l(4,"jhi-tutorial-groups-configuration-form",2),S("formSubmitted",function(e){return r.updateTutorialGroupsConfiguration(e)}),c(),n(5,`
`),c(),n(6,`
`)),i&2&&(p("isLoading",r.isLoading),G(4),p("formData",r.formData)("isEditMode",!0)("course",r.course))},dependencies:[j,I,M],encapsulation:2,changeDetection:0})}return u})();export{K as EditTutorialGroupsConfigurationComponent};
//# sourceMappingURL=edit-tutorial-groups-configuration.component-VRHRNOFY.js.map
