import{a as D}from"./chunk-R56P6PAY.js";import{c as _}from"./chunk-65Z25AP3.js";import"./chunk-5M3YV54C.js";import"./chunk-RYZEETVB.js";import"./chunk-VTF2OQPK.js";import"./chunk-BNRTXX46.js";import"./chunk-N4VVKRBU.js";import{k as M,u as y}from"./chunk-5AQXEKLE.js";import"./chunk-3JSWSN6W.js";import"./chunk-7XNS72RJ.js";import"./chunk-KYCCMZSV.js";import"./chunk-DXTZ4GAW.js";import"./chunk-2UXGFGK3.js";import"./chunk-O4VJ5OXY.js";import"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-OTNXTVPX.js";import"./chunk-Z2YUBN6N.js";import"./chunk-6EYB5QBP.js";import"./chunk-GERFCPB6.js";import"./chunk-QA7Y7QBM.js";import"./chunk-ZPITQMA6.js";import"./chunk-2CUFQLAH.js";import"./chunk-Z6NSEM73.js";import{c as C}from"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-JNO6DNVW.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-VK7JPHFE.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import"./chunk-K3W6YFKH.js";import"./chunk-JXJXC4DZ.js";import"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import{p as x}from"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import"./chunk-U54OSGNH.js";import{f as b}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Db as d,Ea as a,Oc as g,Tb as p,Zb as m,dd as l,kc as h,sc as u,zc as f}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";function k(t,v){if(t&1&&(l(0,`
    `),f(1,"jhi-result-detail",0),l(2,`
`)),t&2){let e=g();d(),h("exercise",e.exercise)("result",e.result)("showScoreChart",!0)("exerciseType",e.exerciseType)("latestDueDate",e.latestDueDate)("messageKey",e.messageKey)("showMissingAutomaticFeedbackInformation",e.showMissingAutomaticFeedbackInformation)}}var R=(()=>{class t{route=a(b);exerciseService=a(C);exerciseCacheService=a(D,{optional:!0});exercise;result;showMissingAutomaticFeedbackInformation=!1;messageKey;exerciseType;latestDueDate;ngOnInit(){this.route.params.subscribe(e=>{let s=parseInt(e.exerciseId,10),i=parseInt(e.participationId,10),S=parseInt(e.resultId,10);this.exerciseService.getExerciseDetails(s).subscribe(r=>{this.exercise=r.body.exercise;let o=this.exercise?.studentParticipations?.find(c=>c.id===i);o&&(o.exercise=this.exercise);let n=o?.results?.find(c=>c.id==S);n&&(n.participation=o),this.result=n,y(this.exercise,o,n,!1)==M.MISSING?this.messageKey="artemisApp.result.notLatestSubmission":this.messageKey=void 0,this.setup()}),(this.exerciseCacheService??this.exerciseService).getLatestDueDate(s).subscribe(r=>{this.latestDueDate=r,this.setup()})})}setup(){this.exercise&&this.result&&(this.exerciseType=this.exercise.type,this.latestDueDate&&(this.showMissingAutomaticFeedbackInformation=x().isBefore(this.latestDueDate)))}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=p({type:t,selectors:[["jhi-standalone-feedback"]],decls:1,vars:1,consts:[[1,"modal-padding",3,"exercise","result","showScoreChart","exerciseType","latestDueDate","messageKey","showMissingAutomaticFeedbackInformation"]],template:function(s,i){s&1&&m(0,k,3,7),s&2&&u(i.exercise&&i.result&&i.exerciseType?0:-1)},dependencies:[_],styles:["[_nghost-%COMP%]   .feedback-header[_ngcontent-%COMP%]{color:#fff;background-color:var(--artemis-dark);display:flex;justify-content:space-between}[_nghost-%COMP%]   .feedback-header__close[_ngcontent-%COMP%]{background:none;border:none;color:#fff}[_nghost-%COMP%]   .result-score-chart[_ngcontent-%COMP%]{margin-bottom:3rem}[_nghost-%COMP%]   .result-score-chart[_ngcontent-%COMP%]   .chart-tooltip-space[_ngcontent-%COMP%]   .chart-tooltip-space-content[_ngcontent-%COMP%]{width:250px;height:20px;top:-15px;position:absolute}[_nghost-%COMP%]   -shadowcsshost  .legend-labels{background-color:transparent!important;text-align:center!important;font-weight:bolder}[_nghost-%COMP%]   -shadowcsshost  .legend-label{color:var(--artemis-dark)!important}[_nghost-%COMP%]   -shadowcsshost  .legend-label-color{border:1px solid}[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{min-width:100%}",".modal-padding[_ngcontent-%COMP%]{--bs-modal-padding: 1rem;--bs-modal-header-padding: 1rem 1rem}"]})}return t})();export{R as StandaloneFeedbackComponent};
//# sourceMappingURL=standalone-feedback.component-AWAHNMPS.js.map
