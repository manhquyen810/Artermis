import{a as ve}from"./chunk-XX5ZSHAB.js";import{a as Ae}from"./chunk-HPCUFM6M.js";import{a as N}from"./chunk-2QXIMOEO.js";import{a as Te,c as Ee,d as Se,e as Pe}from"./chunk-HK7MJBP6.js";import{c as Ce}from"./chunk-CK7FH6VF.js";import{a as A}from"./chunk-PZ7IDTIM.js";import{i as be}from"./chunk-CT44YL7Q.js";import{c as De}from"./chunk-JNO6DNVW.js";import{K as L,a as le,b as ce,c as de,h as R,m as I}from"./chunk-WA5GEAJB.js";import{k as H}from"./chunk-5GXY5RYT.js";import{a as ye}from"./chunk-K3W6YFKH.js";import{d as j}from"./chunk-EDXSOKK5.js";import{p as oe}from"./chunk-DID2YGL7.js";import{f as fe}from"./chunk-CXQURQM5.js";import{Ad as he,Qb as xe,Wb as ge,ad as _e,ob as ue,u as pe}from"./chunk-Z4VHWOB5.js";import{a as W}from"./chunk-U54OSGNH.js";import{f as re}from"./chunk-M6Z6DKZQ.js";import{c as me}from"./chunk-E2KBL4LX.js";import{s as se,u as ae}from"./chunk-IOA4DPXY.js";import{Ad as G,Db as a,Dc as h,Ea as v,La as ee,Ma as x,Mc as f,Na as g,Oc as o,Tb as O,Va as te,Yc as k,Za as ie,Zb as C,Zc as F,_c as V,cd as Q,dd as i,f as Y,fd as M,kc as d,ld as D,mc as S,md as T,nd as E,pd as ne,qd as y,ra as Z,sc as p,xa as $,xc as l,yc as c,yd as P,zc as m,zd as z}from"./chunk-5LC5EQRR.js";var Oe=["dateInput"];function ke(n,u){if(n&1&&(i(0,`
            `),m(1,"jhi-help-icon",8),i(2,`
        `)),n&2){let e=o();a(),d("text",e.tooltipText)}}function Fe(n,u){if(n&1&&(i(0,`
        `),l(1,"button",9),i(2,`
            `),m(3,"fa-icon",10),i(4,`
        `),c(),i(5,`
    `)),n&2){let e=o();a(),S("btn-lifecycle--deactivated",!e.selectedDate)("btn-lifecycle--disabled",e.readOnly),a(2),d("icon",e.faCalendarPlus)}}function Ve(n,u){if(n&1&&(i(0,`
        `),l(1,"button",11),i(2,`
            `),m(3,"fa-icon",10),i(4,`
        `),c(),i(5,`
    `)),n&2){let e=o(),s=Q(21);a(),S("btn-lifecycle--deactivated",!e.selectedDate)("btn-lifecycle--disabled",e.readOnly),d("owlDateTimeTrigger",s),a(2),d("icon",e.faCalendarPlus)}}function Re(n,u){if(n&1){let e=h();i(0,`
        `),l(1,"button",12),f("click",function(){x(e);let t=o();return g(!t.readOnly&&t.resetDate())}),i(2,`
            `),m(3,"fa-icon",13),i(4,`
        `),c(),i(5,`
    `)}if(n&2){let e=o();a(3),d("icon",e.faCalendarCheck)}}function Ie(n,u){if(n&1){let e=h();i(0,`
        `),l(1,"button",14),f("click",function(){x(e);let t=o();return g(!t.readOnly&&t.resetDate())}),i(2,`
            `),m(3,"fa-icon",13),i(4,`
            `),m(5,"fa-icon",15),i(6,`
        `),c(),i(7,`
    `)}if(n&2){let e=o();a(3),d("icon",e.faCalendarCheck),a(2),d("icon",e.faCalendarMinus)}}function Le(n,u){if(n&1&&(i(0,`
        `),l(1,"div",16),i(2),P(3,"artemisDate"),m(4,"br"),i(5),P(6,"artemisDate"),c(),i(7,`
    `)),n&2){let e=o();a(2),M(`
            `,G(3,2,e.selectedDate,"long-date"),""),a(3),M(`
            `,G(6,5,e.selectedDate,"time"),`
        `)}}function je(n,u){n&1&&(i(0,`
        `),m(1,"div",17),i(2,`
    `))}var U=(()=>{class n{dateInput;selectedDate;startAt;min;max;label;tooltipText;readOnly;onDateReset=new te;faCalendarMinus=he;faCalendarCheck=xe;faCalendarPlus=ge;_onChange=()=>{};registerOnChange(e){this._onChange=e}registerOnTouched(){}setDisabledState(){}writeValue(e){this.selectedDate!==e&&(this.selectedDate=!e||be(e)?e:e.toDate(),this.selectedDate?.setSeconds(0,0),this._onChange(e))}resetDate(){this.writeValue(void 0),this.onDateReset.emit()}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=O({type:n,selectors:[["jhi-programming-exercise-test-schedule-date-picker"]],viewQuery:function(s,t){if(s&1&&k(Oe,5),s&2){let r;F(r=V())&&(t.dateInput=r.first)}},inputs:{selectedDate:"selectedDate",startAt:"startAt",min:"min",max:"max",label:"label",tooltipText:"tooltipText",readOnly:"readOnly"},outputs:{onDateReset:"onDateReset"},features:[ne([{provide:le,multi:!0,useExisting:$(()=>n)}])],decls:24,vars:13,consts:[["dateInput","ngModel"],["dt",""],[1,"test-schedule-date-content"],[1,"mb-2","test-schedule-date-title"],[3,"jhiTranslate"],[1,"invisible-date-time-picker"],[1,"form-control",3,"ngModelChange","ngModel","min","max","owlDateTime"],[3,"startAt"],[3,"text"],["type","button",1,"btn","btn-light","btn-lifecycle"],["size","2x",1,"icon-calendar-plus",3,"icon"],["type","button",1,"btn","btn-light","btn-lifecycle",3,"owlDateTimeTrigger"],["type","button",1,"btn","btn-light","btn-lifecycle","btn-lifecycle--disabled",3,"click"],["size","2x",1,"icon-static",3,"icon"],["type","button",1,"btn","btn-light","btn-lifecycle","calendar-event-toggle",3,"click"],["size","2x",1,"icon-remove",3,"icon"],[1,"mt-2"],["jhiTranslate","artemisApp.programmingExercise.timeline.notSet",1,"mt-2","text-danger"]],template:function(s,t){if(s&1){let r=h();l(0,"div",2),i(1,`
    `),l(2,"div",3),i(3,`
        `),m(4,"span",4),i(5,`
        `),C(6,ke,3,1),c(),i(7,`
    `),l(8,"div",5),i(9,`
        `),l(10,"input",6,0),f("ngModelChange",function(w){return x(r),g(t.writeValue(w))}),c(),i(12,`
    `),c(),i(13,`
    `),C(14,Fe,6,5)(15,Ve,6,6)(16,Re,6,1)(17,Ie,8,2)(18,Le,8,8)(19,je,3,0),m(20,"owl-date-time",7,1),i(22,`
`),c(),i(23,`
`)}if(s&2){let r=Q(21);a(4),d("jhiTranslate",t.label),a(2),p(t.tooltipText?6:-1),a(4),d("ngModel",t.selectedDate)("min",t.min)("max",t.max)("owlDateTime",r),a(4),p(!t.selectedDate&&t.readOnly?14:-1),a(),p(!t.selectedDate&&!t.readOnly?15:-1),a(),p(t.selectedDate&&t.readOnly?16:-1),a(),p(t.selectedDate&&!t.readOnly?17:-1),a(),p(t.selectedDate?18:-1),a(),p(t.selectedDate?-1:19),a(),d("startAt",t.startAt)}},dependencies:[W,N,L,de,R,I,Pe,Te,Se,Ee,j,De],styles:['.timeline-box[_ngcontent-%COMP%]{padding:10px 0;overflow-x:auto}.test-schedule-date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px}.test-schedule-date[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{vertical-align:initial}.test-schedule[_ngcontent-%COMP%]{display:table;width:100%;position:relative;margin-bottom:2rem}.test-schedule-date[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:default}.test-schedule-date-title[_ngcontent-%COMP%]{height:34px;line-height:17px}.test-schedule-date-title-small-button[_ngcontent-%COMP%]{margin-bottom:12px}.test-schedule-row[_ngcontent-%COMP%]:before{top:59px;bottom:0;position:absolute;content:" ";width:100%;height:4px;background-color:#3e8acc;z-index:0}.test-schedule-date[_ngcontent-%COMP%]{display:table-cell;text-align:center;position:relative;width:max-content}.btn-lifecycle.btn-lifecycle[_ngcontent-%COMP%]{width:40px;height:40px;text-align:center;padding:6px 0;font-size:12px;line-height:1.428571429;border-radius:20px;background-color:#3cb371}.btn-lifecycle.btn-lifecycle--deactivated[_ngcontent-%COMP%]{background-color:orange}.btn-lifecycle.btn-lifecycle--disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.btn-lifecycle.btn-lifecycle.btn-light[_ngcontent-%COMP%]{border-color:#3e8acc;border-width:2px}.btn-lifecycle.btn-lifecycle.btn-light.scheduled-test[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:15px}.btn-lifecycle.btn-lifecycle.btn-light.scheduled-test--can-toggle[_ngcontent-%COMP%]{cursor:pointer}.invisible-date-time-picker[_ngcontent-%COMP%]{visibility:hidden;width:0;height:0}.calendar-event-toggle[_ngcontent-%COMP%]:hover   .icon-static[_ngcontent-%COMP%], .calendar-event-toggle[_ngcontent-%COMP%]   .icon-remove[_ngcontent-%COMP%]{display:none}.calendar-event-toggle[_ngcontent-%COMP%]:hover   .icon-remove[_ngcontent-%COMP%]{display:inline}']})}return n})();var q=()=>({color:"grey"}),B=()=>({});function We(n,u){if(n&1){let e=h();i(0,`
                `),l(1,"jhi-programming-exercise-test-schedule-date-picker",9),E("ngModelChange",function(t){x(e);let r=o();return T(r.exercise.releaseDate,t)||(r.exercise.releaseDate=t),g(t)}),f("ngModelChange",function(t){x(e);let r=o();return g(r.updateReleaseDate(t))}),c(),i(2,`
            `)}if(n&2){let e=o();a(),D("ngModel",e.exercise.releaseDate),d("readOnly",e.readOnly)}}function Ne(n,u){if(n&1){let e=h();i(0,`
                `),l(1,"jhi-programming-exercise-test-schedule-date-picker",10),E("ngModelChange",function(t){x(e);let r=o();return T(r.exercise.startDate,t)||(r.exercise.startDate=t),g(t)}),f("ngModelChange",function(t){x(e);let r=o();return g(r.updateStartDate(t))})("onDateReset",function(){x(e);let t=o();return g(t.exercise.startDate=void 0)}),c(),i(2,`
            `)}if(n&2){let e=o();a(),D("ngModel",e.exercise.startDate),d("startAt",e.exercise.releaseDate)("min",e.exercise.releaseDate)("readOnly",e.readOnly)}}function Ue(n,u){if(n&1){let e=h();i(0,`
                `),l(1,"jhi-programming-exercise-test-schedule-date-picker",11),E("ngModelChange",function(t){x(e);let r=o();return T(r.exercise.dueDate,t)||(r.exercise.dueDate=t),g(t)}),f("ngModelChange",function(t){x(e);let r=o();return g(r.updateExampleSolutionPublicationDate(t))})("onDateReset",function(){x(e);let t=o();return g(t.exercise.buildAndTestStudentSubmissionsAfterDueDate=void 0)}),c(),i(2,`
            `)}if(n&2){let e,s,t=o();a(),D("ngModel",t.exercise.dueDate),d("startAt",(e=t.exercise.startDate)!==null&&e!==void 0?e:t.exercise.releaseDate)("min",(s=t.exercise.startDate)!==null&&s!==void 0?s:t.exercise.releaseDate)("readOnly",t.readOnly)}}function qe(n,u){if(n&1){let e=h();i(0,`
                `),l(1,"jhi-programming-exercise-test-schedule-date-picker",12),E("ngModelChange",function(t){x(e);let r=o();return T(r.exercise.buildAndTestStudentSubmissionsAfterDueDate,t)||(r.exercise.buildAndTestStudentSubmissionsAfterDueDate=t),g(t)}),c(),i(2,`
            `)}if(n&2){let e=o();a(),D("ngModel",e.exercise.buildAndTestStudentSubmissionsAfterDueDate),d("startAt",e.exercise.dueDate)("min",e.exercise.dueDate)("readOnly",e.readOnly)}}function Be(n,u){if(n&1){let e=h();i(0,`
                        `),l(1,"jhi-programming-exercise-test-schedule-date-picker",17),E("ngModelChange",function(t){x(e);let r=o(2);return T(r.exercise.assessmentDueDate,t)||(r.exercise.assessmentDueDate=t),g(t)}),c(),i(2,`
                    `)}if(n&2){let e=o(2);a(),D("ngModel",e.exercise.assessmentDueDate),d("startAt",e.exercise.dueDate)("min",e.exercise.dueDate)("readOnly",e.readOnly)}}function Qe(n,u){if(n&1){let e=h();i(0,`
                `),l(1,"div"),i(2,`
                    `),l(3,"div",3),i(4,`
                        `),l(5,"div",4),i(6,`
                            `),m(7,"span",13),i(8,`
                            `),m(9,"jhi-help-icon",14),i(10,`
                        `),c(),i(11,`
                        `),l(12,"div",15),f("click",function(){x(e);let t=o();return g(!t.readOnly&&t.toggleAssessmentType())}),i(13,`
                            `),m(14,"fa-icon",8),i(15,`
                        `),c(),i(16,`
                        `),l(17,"div",16),i(18),P(19,"artemisTranslate"),c(),i(20,`
                    `),c(),i(21,`
                    `),C(22,Be,3,4),c(),i(23,`
            `)}if(n&2){let e=o();a(9),d("text","artemisApp.programmingExercise.timeline."+(e.exercise.assessmentType===e.assessmentType.SEMI_AUTOMATIC?"assessmentTypeTooltipManualAssessment":"assessmentTypeTooltipAutomaticAssessment")),a(3),S("btn-lifecycle--disabled",e.readOnly),a(2),d("icon",e.exercise.assessmentType===e.assessmentType.SEMI_AUTOMATIC?e.faUserCheck:e.faUserSlash),a(4),M(`
                            `,z(19,6,"artemisApp.programmingExercise.timeline."+(e.exercise.assessmentType===e.assessmentType.SEMI_AUTOMATIC?"manualAssessment":"automaticAssessment")),`
                        `),a(4),p(e.exercise.assessmentType===e.assessmentType.SEMI_AUTOMATIC&&!e.isExamMode&&!e.exercise.allowFeedbackRequests?22:-1)}}function ze(n,u){if(n&1){let e=h();i(0,`
                `),l(1,"div"),i(2,`
                    `),l(3,"jhi-programming-exercise-test-schedule-date-picker",18),E("ngModelChange",function(t){x(e);let r=o();return T(r.exercise.exampleSolutionPublicationDate,t)||(r.exercise.exampleSolutionPublicationDate=t),g(t)}),c(),i(4,`
                `),c(),i(5,`
            `)}if(n&2){let e,s,t=o();a(3),D("ngModel",t.exercise.exampleSolutionPublicationDate),d("readOnly",t.readOnly)("startAt",(e=(e=t.exercise.dueDate)!==null&&e!==void 0?e:t.exercise.startDate)!==null&&e!==void 0?e:t.exercise.releaseDate)("min",(s=(s=t.exercise.includedInOverallScore!==t.IncludedInOverallScore.NOT_INCLUDED?t.exercise.dueDate:void 0)!==null&&s!==void 0?s:t.exercise.startDate)!==null&&s!==void 0?s:t.exercise.releaseDate)}}function Ge(n,u){if(n&1){let e=h();i(0,`
            `),l(1,"div",20),i(2,`
                `),l(3,"input",21),f("change",function(){x(e);let t=o(2);return g(t.toggleComplaintsType())}),c(),i(4,`
                `),m(5,"label",22),i(6,`
                `),m(7,"jhi-help-icon",23),i(8,`
            `),c(),i(9,`
        `)}if(n&2){let e=o(2);a(3),d("checked",e.exercise.allowComplaintsForAutomaticAssessments)("disabled",e.exercise.assessmentType!==e.assessmentType.AUTOMATIC||!e.isExamMode&&!e.exercise.dueDate),a(2),d("ngStyle",e.exercise.assessmentType!==e.assessmentType.AUTOMATIC||!e.isExamMode&&!e.exercise.dueDate?y(4,q):y(5,B)),a(2),d("text","artemisApp.programmingExercise.timeline.complaintOnAutomaticAssessmentTooltip")}}function He(n,u){if(n&1){let e=h();i(0,`
            `),l(1,"div",20),i(2,`
                `),l(3,"input",24),f("change",function(){x(e);let t=o(2);return g(t.toggleSetTestCaseVisibilityToAfterDueDate())}),c(),i(4,`
                `),m(5,"label",25),i(6,`
                `),m(7,"jhi-help-icon",23),i(8,`
            `),c(),i(9,`
        `)}if(n&2){let e=o(2);a(3),d("checked",e.importOptions.setTestCaseVisibilityToAfterDueDate),a(4),d("text","artemisApp.programmingExercise.timeline.setTestCaseVisibilityToAfterReleaseDateOfResultsTooltip")}}function Je(n,u){if(n&1&&(i(0,`
                    `),m(1,"label",27),i(2,`
                    `),m(3,"jhi-help-icon",23),i(4,`
                `)),n&2){let e=o(3);a(),d("ngStyle",e.exercise.assessmentType!==e.assessmentType.SEMI_AUTOMATIC?y(2,q):y(3,B)),a(2),d("text","artemisApp.programmingExercise.timeline.allowFeedbackRequestsTooltip")}}function Ke(n,u){if(n&1&&(i(0,`
                    `),m(1,"label",28),i(2,`
                    `),m(3,"jhi-help-icon",23),i(4,`
                `)),n&2){let e=o(3);a(),d("ngStyle",e.exercise.assessmentType!==e.assessmentType.SEMI_AUTOMATIC?y(2,q):y(3,B)),a(2),d("text","artemisApp.programmingExercise.timeline.manualFeedbackRequestsTooltip")}}function Xe(n,u){if(n&1){let e=h();i(0,`
            `),l(1,"div",20),i(2,`
                `),l(3,"input",26),f("change",function(){x(e);let t=o(2);return g(t.toggleFeedbackRequests())}),c(),i(4,`
                `),C(5,Je,5,4),P(6,"async"),C(7,Ke,5,4),c(),i(8,`
        `)}if(n&2){let e=o(2);a(3),d("checked",e.exercise.allowFeedbackRequests)("disabled",e.exercise.assessmentType!==e.assessmentType.SEMI_AUTOMATIC),a(2),p(z(6,3,e.isAthenaEnabled$)?5:7)}}function Ye(n,u){if(n&1){let e=h();i(0,`
            `),l(1,"div",20),i(2,`
                `),l(3,"input",29),E("ngModelChange",function(t){x(e);let r=o(2);return T(r.exercise.showTestNamesToStudents,t)||(r.exercise.showTestNamesToStudents=t),g(t)}),c(),i(4,`
                `),m(5,"label",30),i(6,`
                `),m(7,"jhi-help-icon",23),i(8,`
            `),c(),i(9,`
        `)}if(n&2){let e=o(2);a(3),d("disabled",e.readOnly),D("ngModel",e.exercise.showTestNamesToStudents),a(4),d("text","artemisApp.programmingExercise.showTestNamesToStudentsTooltip")}}function Ze(n,u){if(n&1){let e=h();i(0,`
            `),l(1,"div",20),i(2,`
                `),l(3,"input",31),f("change",function(){x(e);let t=o(2);return g(t.toggleReleaseTests())}),c(),i(4,`
                `),m(5,"label",32),i(6,`
                `),m(7,"jhi-help-icon",23),i(8,`
            `),c(),i(9,`
        `)}if(n&2){let e=o(2);a(3),d("checked",e.exercise.releaseTestsWithExampleSolution)("disabled",!e.exercise.exampleSolutionPublicationDate&&!(!(e.exercise.exerciseGroup==null||e.exercise.exerciseGroup.exam==null)&&e.exercise.exerciseGroup.exam.exampleSolutionPublicationDate)),a(2),d("ngStyle",!e.exercise.exampleSolutionPublicationDate&&!(!(e.exercise.exerciseGroup==null||e.exercise.exerciseGroup.exam==null)&&e.exercise.exerciseGroup.exam.exampleSolutionPublicationDate)?y(4,q):y(5,B)),a(2),d("text","artemisApp.programmingExercise.timeline.releaseTestsWithExampleSolutionTooltip")}}function $e(n,u){if(n&1&&(i(0,`
            `),m(1,"jhi-exercise-feedback-suggestion-options",33),i(2,`
        `)),n&2){let e=o(2);a(),d("exercise",e.exercise)("dueDate",e.exercise.dueDate)("readOnly",e.readOnly)}}function et(n,u){if(n&1&&(i(0,`
        `),m(1,"h6",19),i(2,`
        `),C(3,Ge,10,6)(4,He,10,2)(5,Xe,9,5)(6,Ye,10,3)(7,Ze,10,6)(8,$e,3,3)),n&2){let e,s,t,r,_=o();a(3),p(((e=_.isEditFieldDisplayedRecord())!=null&&e.complaintOnAutomaticAssessment||!_.isEditFieldDisplayedRecord())&&(_.isExamMode||_.exercise.course!=null&&_.exercise.course.complaintsEnabled)?3:-1),a(),p(_.isExamMode&&_.isImport&&_.importOptions?4:-1),a(),p(((s=_.isEditFieldDisplayedRecord())!=null&&s.manualFeedbackRequests||!_.isEditFieldDisplayedRecord())&&!_.isExamMode?5:-1),a(),p((t=_.isEditFieldDisplayedRecord())!=null&&t.showTestNamesToStudents||!_.isEditFieldDisplayedRecord()?6:-1),a(),p((r=_.isEditFieldDisplayedRecord())!=null&&r.includeTestsIntoExampleSolution||!_.isEditFieldDisplayedRecord()?7:-1),a(),p(_.isExamMode?-1:8)}}var zt=(()=>{class n{translateService=v(me);exerciseService=v(Ce);athenaService=v(Ae);activatedRoute=v(re);assessmentType=A;IncludedInOverallScore=fe;faCogs=_e;faUserCheck=pe;faUserSlash=ue;exercise;isExamMode;readOnly;importOptions;isEditFieldDisplayedRecord=ie();datePickerComponents;formValid;formEmpty;formValidChanges=new Y;inputfieldSubscriptions=[];datePickerChildrenSubscription;isAthenaEnabled$;isImport=!1;urlSubscription;ngOnInit(){this.exercise.id||(this.exercise.assessmentType=A.AUTOMATIC),this.isAthenaEnabled$=this.athenaService.isEnabled(),this.updateIsImportBasedOnUrl()}updateIsImportBasedOnUrl(){let e=!1;this.urlSubscription=this.activatedRoute.url.pipe(Z(s=>{e=s.some(t=>t.path==="import")})).subscribe(()=>{this.isImport=e})}ngAfterViewInit(){this.setupDateFieldSubscriptions(),this.datePickerChildrenSubscription=this.datePickerComponents.changes.subscribe(()=>this.setupDateFieldSubscriptions())}ngOnChanges(e){if(e.exercise){let s=e.exercise.currentValue;this.exerciseService.hasDueDateError(s)?(this.updateReleaseDate(s.releaseDate),this.updateExampleSolutionPublicationDate(s.dueDate)):(this.updateExampleSolutionPublicationDate(s.dueDate),this.updateReleaseDate(s.releaseDate))}}ngOnDestroy(){this.datePickerChildrenSubscription?.unsubscribe(),this.unsubscribeDateFieldSubscriptions(),this.urlSubscription?.unsubscribe()}calculateFormStatus(){let e=this.datePickerComponents.toArray();this.formValid=H(e,s=>s?.dateInput?.valid??!0),this.formEmpty=!H(e,s=>s instanceof U?s.selectedDate:!1),this.formValidChanges.next(this.formValid)}setupDateFieldSubscriptions(){this.unsubscribeDateFieldSubscriptions(),this.datePickerComponents.toArray().forEach(e=>this.inputfieldSubscriptions.push(e.dateInput?.valueChanges?.subscribe(()=>setTimeout(()=>this.calculateFormStatus()))))}unsubscribeDateFieldSubscriptions(){for(let e of this.inputfieldSubscriptions)e?.unsubscribe()}toggleSetTestCaseVisibilityToAfterDueDate(){this.importOptions&&(this.importOptions.setTestCaseVisibilityToAfterDueDate=!this.importOptions.setTestCaseVisibilityToAfterDueDate)}toggleFeedbackRequests(){this.exercise.allowFeedbackRequests=!this.exercise.allowFeedbackRequests,this.exercise.allowFeedbackRequests&&(this.exercise.assessmentDueDate=void 0,this.exercise.buildAndTestStudentSubmissionsAfterDueDate=void 0)}toggleAssessmentType(){this.exercise.assessmentType===A.SEMI_AUTOMATIC?(this.exercise.assessmentType=A.AUTOMATIC,this.exercise.assessmentDueDate=void 0,this.exercise.allowComplaintsForAutomaticAssessments=!1,this.exercise.feedbackSuggestionModule=void 0):(this.exercise.assessmentType=A.SEMI_AUTOMATIC,this.exercise.allowComplaintsForAutomaticAssessments=!1,this.exercise.allowFeedbackRequests=!1)}toggleComplaintsType(){this.exercise.allowComplaintsForAutomaticAssessments=!this.exercise.allowComplaintsForAutomaticAssessments}toggleReleaseTests(){this.exercise.releaseTestsWithExampleSolution=!this.exercise.releaseTestsWithExampleSolution}updateReleaseDate(e){if(this.exercise.releaseDate=e,this.readOnly)return;if(this.exerciseService.hasStartDateError(this.exercise)){this.updateStartDate(e);return}let s=this.exercise.startDate??e;this.exerciseService.hasDueDateError(this.exercise)&&s&&this.updateDueDate(s),this.updateExampleSolutionPublicationDate(s)}updateStartDate(e){this.exercise.startDate=e,!this.readOnly&&(this.exerciseService.hasDueDateError(this.exercise)&&this.updateDueDate(e),this.updateExampleSolutionPublicationDate(e))}updateDueDate(e){alert(this.translateService.instant("artemisApp.programmingExercise.timeline.alertNewDueDate")),this.exercise.dueDate=e;let s=this.exercise.buildAndTestStudentSubmissionsAfterDueDate;s&&e.isAfter(s)&&(this.exercise.buildAndTestStudentSubmissionsAfterDueDate=e,alert(this.translateService.instant("artemisApp.programmingExercise.timeline.alertNewAfterDueDate")))}updateExampleSolutionPublicationDate(e){if(!this.readOnly&&this.exerciseService.hasExampleSolutionPublicationDateError(this.exercise)){let s=e&&oe(e).isSame(this.exercise.dueDate)?"artemisApp.programmingExercise.timeline.alertNewExampleSolutionPublicationDateAsDueDate":"artemisApp.programmingExercise.timeline.alertNewExampleSolutionPublicationDateAsReleaseDate";alert(this.translateService.instant(s)),this.exercise.exampleSolutionPublicationDate=e,e||(this.exercise.releaseTestsWithExampleSolution=!1)}}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=O({type:n,selectors:[["jhi-programming-exercise-lifecycle"]],viewQuery:function(s,t){if(s&1&&k(U,5),s&2){let r;F(r=V())&&(t.datePickerComponents=r)}},inputs:{exercise:"exercise",isExamMode:"isExamMode",readOnly:"readOnly",importOptions:"importOptions",isEditFieldDisplayedRecord:[1,"isEditFieldDisplayedRecord"]},features:[ee],decls:31,vars:10,consts:[[1,"timeline-box"],[1,"test-schedule"],[1,"test-schedule-row","d-flex","justify-content-around"],[1,"test-schedule-date","px-1"],[1,"test-schedule-date-title","test-schedule-date-title-small-button"],["jhiTranslate","artemisApp.programmingExercise.timeline.automaticTests"],["text","artemisApp.programmingExercise.timeline.automaticTestsMandatoryTooltip"],[1,"btn","btn-light","scheduled-test","btn-lifecycle"],["size","lg",3,"icon"],["label","artemisApp.exercise.releaseDate","tooltipText","artemisApp.programmingExercise.timeline.releaseDateTooltip",1,"test-schedule-date","px-1",3,"ngModelChange","ngModel","readOnly"],["label","artemisApp.exercise.startDate","tooltipText","artemisApp.programmingExercise.timeline.startDateTooltip",1,"test-schedule-date","px-1",3,"ngModelChange","onDateReset","ngModel","startAt","min","readOnly"],["label","artemisApp.exercise.dueDate","tooltipText","artemisApp.programmingExercise.timeline.dueDateTooltip","id","programming-exercise-due-date-picker",1,"test-schedule-date","px-1",3,"ngModelChange","onDateReset","ngModel","startAt","min","readOnly"],["label","artemisApp.programmingExercise.timeline.afterDueDate","tooltipText","artemisApp.programmingExercise.timeline.afterDueDateTooltip",1,"test-schedule-date","px-1",3,"ngModelChange","ngModel","startAt","min","readOnly"],["jhiTranslate","artemisApp.programmingExercise.timeline.assessmentType"],[3,"text"],[1,"btn","btn-light","scheduled-test","scheduled-test--can-toggle","btn-lifecycle","calendar-event-toggle",3,"click"],[1,"mt-2"],["label","artemisApp.programmingExercise.timeline.assessmentDueDate","tooltipText","artemisApp.programmingExercise.timeline.assessmentDueDateTooltip",1,"test-schedule-date",3,"ngModelChange","ngModel","startAt","min","readOnly"],["label","artemisApp.exercise.exampleSolutionPublicationDate","tooltipText","artemisApp.programmingExercise.timeline.exampleSolutionPublicationDateTooltip",1,"test-schedule-date","px-1",3,"ngModelChange","ngModel","readOnly","startAt","min"],["jhiTranslate","artemisApp.assessment.assessment"],[1,"form-check"],["type","checkbox","name","allowComplaintsForAutomaticAssessment","id","allowComplaintsForAutomaticAssessment",1,"form-check-input",3,"change","checked","disabled"],["for","allowComplaintsForAutomaticAssessment","jhiTranslate","artemisApp.programmingExercise.timeline.complaintOnAutomaticAssessment",1,"form-control-label",3,"ngStyle"],["placement","right auto",3,"text"],["type","checkbox","name","setTestCaseVisibilityToAfterDueDate","id","setTestCaseVisibilityToAfterDueDate-checkbox",1,"form-check-input",3,"change","checked"],["for","setTestCaseVisibilityToAfterDueDate-checkbox","jhiTranslate","artemisApp.programmingExercise.timeline.setTestCaseVisibilityToAfterReleaseDateOfResults",1,"form-control-label"],["type","checkbox","name","allowFeedbackRequests","id","allowFeedbackRequests",1,"form-check-input",3,"change","checked","disabled"],["for","allowFeedbackRequests","jhiTranslate","artemisApp.programmingExercise.timeline.allowFeedbackRequests",1,"form-control-label",3,"ngStyle"],["for","allowFeedbackRequests","jhiTranslate","artemisApp.programmingExercise.timeline.manualFeedbackRequests",1,"form-control-label",3,"ngStyle"],["type","checkbox","name","showTestNamesToStudents","id","field_showTestNamesToStudents","checked","",1,"form-check-input",3,"ngModelChange","disabled","ngModel"],["for","field_showTestNamesToStudents","jhiTranslate","artemisApp.programmingExercise.showTestNamesToStudents",1,"form-control-label"],["type","checkbox","name","releaseTestsWithExampleSolution","id","releaseTestsWithExampleSolution",1,"form-check-input",3,"change","checked","disabled"],["for","releaseTestsWithExampleSolution","jhiTranslate","artemisApp.programmingExercise.timeline.releaseTestsWithExampleSolution",1,"form-control-label",3,"ngStyle"],[3,"exercise","dueDate","readOnly"]],template:function(s,t){if(s&1&&(l(0,"div",0),i(1,`
    `),l(2,"div",1),i(3,`
        `),l(4,"div",2),i(5,`
            `),C(6,We,3,2)(7,Ne,3,4),l(8,"div",3),i(9,`
                `),l(10,"div",4),i(11,`
                    `),m(12,"span",5),i(13,`
                    `),m(14,"jhi-help-icon",6),i(15,`
                `),c(),i(16,`
                `),l(17,"div",7),i(18,`
                    `),m(19,"fa-icon",8),i(20,`
                `),c(),i(21,`
            `),c(),i(22,`
            `),C(23,Ue,3,4)(24,qe,3,4)(25,Qe,24,8)(26,ze,6,4),c(),i(27,`
    `),c(),i(28,`
    `),C(29,et,9,6),c(),i(30,`
`)),s&2){let r,_,w,J,K,X,b;a(6),p(((r=t.isEditFieldDisplayedRecord())!=null&&r.releaseDate||!t.isEditFieldDisplayedRecord())&&!t.isExamMode?6:-1),a(),p(((_=t.isEditFieldDisplayedRecord())!=null&&_.startDate||!t.isEditFieldDisplayedRecord())&&!t.isExamMode?7:-1),a(10),S("btn-lifecycle--disabled",t.readOnly),a(2),d("icon",t.faCogs),a(4),p(((w=t.isEditFieldDisplayedRecord())!=null&&w.dueDate||!t.isEditFieldDisplayedRecord())&&!t.isExamMode?23:-1),a(),p(((J=t.isEditFieldDisplayedRecord())!=null&&J.runTestsAfterDueDate||!t.isEditFieldDisplayedRecord())&&(t.isExamMode||t.exercise.dueDate)?24:-1),a(),p(((K=t.isEditFieldDisplayedRecord())!=null&&K.assessmentDueDate||!t.isEditFieldDisplayedRecord())&&(t.isExamMode||t.exercise.dueDate)?25:-1),a(),p(((X=t.isEditFieldDisplayedRecord())!=null&&X.exampleSolutionPublicationDate||!t.isEditFieldDisplayedRecord())&&!t.isExamMode?26:-1),a(3),p(!t.readOnly&&(!t.isEditFieldDisplayedRecord()||(b=t.isEditFieldDisplayedRecord())!=null&&b.complaintOnAutomaticAssessment||(b=t.isEditFieldDisplayedRecord())!=null&&b.manualFeedbackRequests||(b=t.isEditFieldDisplayedRecord())!=null&&b.showTestNamesToStudents||(b=t.isEditFieldDisplayedRecord())!=null&&b.includeTestsIntoExampleSolution)?29:-1)}},dependencies:[U,L,ce,R,I,W,N,j,se,ve,ae,ye],styles:['.timeline-box[_ngcontent-%COMP%]{padding:10px 0;overflow-x:auto}.test-schedule-date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px}.test-schedule-date[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{vertical-align:initial}.test-schedule[_ngcontent-%COMP%]{display:table;width:100%;position:relative;margin-bottom:2rem}.test-schedule-date[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:default}.test-schedule-date-title[_ngcontent-%COMP%]{height:34px;line-height:17px}.test-schedule-date-title-small-button[_ngcontent-%COMP%]{margin-bottom:12px}.test-schedule-row[_ngcontent-%COMP%]:before{top:59px;bottom:0;position:absolute;content:" ";width:100%;height:4px;background-color:#3e8acc;z-index:0}.test-schedule-date[_ngcontent-%COMP%]{display:table-cell;text-align:center;position:relative;width:max-content}.btn-lifecycle.btn-lifecycle[_ngcontent-%COMP%]{width:40px;height:40px;text-align:center;padding:6px 0;font-size:12px;line-height:1.428571429;border-radius:20px;background-color:#3cb371}.btn-lifecycle.btn-lifecycle--deactivated[_ngcontent-%COMP%]{background-color:orange}.btn-lifecycle.btn-lifecycle--disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.btn-lifecycle.btn-lifecycle.btn-light[_ngcontent-%COMP%]{border-color:#3e8acc;border-width:2px}.btn-lifecycle.btn-lifecycle.btn-light.scheduled-test[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:15px}.btn-lifecycle.btn-lifecycle.btn-light.scheduled-test--can-toggle[_ngcontent-%COMP%]{cursor:pointer}.invisible-date-time-picker[_ngcontent-%COMP%]{visibility:hidden;width:0;height:0}.calendar-event-toggle[_ngcontent-%COMP%]:hover   .icon-static[_ngcontent-%COMP%], .calendar-event-toggle[_ngcontent-%COMP%]   .icon-remove[_ngcontent-%COMP%]{display:none}.calendar-event-toggle[_ngcontent-%COMP%]:hover   .icon-remove[_ngcontent-%COMP%]{display:inline}']})}return n})();export{zt as a};
//# sourceMappingURL=chunk-3GEJHWIQ.js.map
