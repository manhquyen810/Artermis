import{a as Q}from"./chunk-NGVPTCRP.js";import{a as z}from"./chunk-3FYXV53Z.js";import{a as q}from"./chunk-YUF2Y3HT.js";import{b as W}from"./chunk-T624HJJL.js";import{a as O}from"./chunk-PZ7IDTIM.js";import{K as k}from"./chunk-VZRSC3LP.js";import{r as G}from"./chunk-VK7JPHFE.js";import{c as w}from"./chunk-BNDLMKXK.js";import{a as F}from"./chunk-K3W6YFKH.js";import{a as j}from"./chunk-JXJXC4DZ.js";import{d as X}from"./chunk-EDXSOKK5.js";import{c as p}from"./chunk-CXQURQM5.js";import{A as R,Bb as N,S as $,Vb as M,_c as I,hb as B,qd as U,u as D,wa as P}from"./chunk-Z4VHWOB5.js";import{a as V}from"./chunk-U54OSGNH.js";import{h as L,i as S}from"./chunk-M6Z6DKZQ.js";import{Db as n,Dc as T,Ea as l,Ma as h,Mc as b,Na as C,Oc as m,Rc as v,Tb as _,Zb as f,dd as i,f as g,kc as r,sc as c,xc as s,yc as a,yd as y,zc as o,zd as A}from"./chunk-5LC5EQRR.js";import{j as E}from"./chunk-3E746U5Y.js";function H(t,x){if(t&1&&(i(0,`
            `),s(1,"a",1),i(2,`
                `),o(3,"fa-icon",2),i(4,`
                `),o(5,"span",3),i(6,`
            `),a(),i(7,`
        `)),t&2){let e=m(2);n(),r("routerLink",e.baseResource+"edit"),n(2),r("icon",e.faWrench)}}function J(t,x){if(t&1&&(i(0,`
            `),s(1,"a",4),i(2,`
                `),o(3,"fa-icon",2),i(4,`
                `),o(5,"span",5),i(6,`
            `),a(),i(7,`
        `)),t&2){let e=m(2);n(),r("routerLink",e.baseResource+"participations"),n(2),r("icon",e.faListAlt)}}function K(t,x){if(t&1&&(i(0,`
            `),s(1,"a",4),i(2,`
                `),o(3,"fa-icon",2),i(4,`
                `),o(5,"span",6),i(6,`
            `),a(),i(7,`
        `)),t&2){let e=m(2);n(),r("routerLink",e.teamBaseResource+"teams"),n(2),r("icon",e.faUsers)}}function Y(t,x){if(t&1&&(i(0,`
            `),s(1,"a",7),i(2,`
                `),o(3,"fa-icon",2),i(4,`
                `),o(5,"span",8),i(6,`
            `),a(),i(7,`
        `)),t&2){let e=m(2);n(),r("routerLink",e.shortBaseResource+"assessment-dashboard/"+e.exercise.id),n(2),r("icon",e.faUserCheck)}}function Z(t,x){if(t&1&&(i(0,`
            `),i(1,`
            `),s(2,"a",7),i(3,`
                `),o(4,"fa-icon",2),i(5,`
                `),o(6,"span",9),i(7,`
            `),a(),i(8,`
            `),i(9,`
            `),s(10,"a",7),i(11,`
                `),o(12,"fa-icon",2),i(13,`
                `),o(14,"span",10),i(15,`
            `),a(),i(16,`
        `)),t&2){let e=m(2);n(2),r("routerLink",e.baseResource+"scores"),n(2),r("icon",e.faTable),n(6),r("routerLink",e.baseResource+"exercise-statistics"),n(2),r("icon",e.faChartBar)}}function ee(t,x){if(t&1&&(i(0,`
            `),i(1,`
            `),s(2,"a",11),y(3,"artemisTranslate"),i(4,`
                `),o(5,"fa-icon",2),i(6,`
                `),o(7,"span",12),i(8,`
            `),a(),i(9,`
        `)),t&2){let e=m(2);n(2),v("ngbTooltip",A(3,3,"artemisApp.iris.settings.button.textExercise.tooltip")),r("routerLink",e.baseResource+"iris-settings"),n(3),r("icon",e.faRobot)}}function ie(t,x){if(t&1&&(i(0,`
            `),s(1,"a",13),i(2,`
                `),o(3,"fa-icon",2),i(4,`
                `),o(5,"span",14),i(6,`
            `),a(),i(7,`
        `)),t&2){let e=m(2);n(),r("routerLink",e.baseResource+"example-submissions"),n(2),r("icon",e.faBook)}}function te(t,x){if(t&1&&(i(0,`
            `),s(1,"a",15),i(2,`
                `),o(3,"fa-icon",2),i(4,`
                `),o(5,"span",16),i(6,`
            `),a(),i(7,`
        `)),t&2){let e=m(2);n(),r("routerLink",e.baseResource+"tutor-effort-statistics"),n(2),r("icon",e.faChartBar)}}function ne(t,x){t&1&&(i(0,`
            `),s(1,"a",17),i(2,`
                `),o(3,"span",18),i(4,`
            `),a(),i(5,`
        `))}function re(t,x){if(t&1){let e=T();i(0,`
            `),s(1,"button",19),b("delete",function(){h(e);let u=m(2);return C(u.deleteExercise())}),i(2,`
                `),o(3,"fa-icon",2),i(4,`
            `),a(),i(5,`
        `)}if(t&2){let e=m(2);n(),r("entityTitle",e.exercise.title||"")("dialogError",e.dialogError$),n(2),r("icon",e.faTrash)}}function oe(t,x){if(t&1&&(i(0,`
    `),s(1,"div",0),i(2,`
        `),i(3,`
        `),f(4,H,8,2)(5,J,8,2)(6,K,8,2)(7,Y,8,2)(8,Z,17,4)(9,ee,10,5)(10,ie,8,2)(11,te,8,2)(12,ne,6,0)(13,re,6,3),a(),i(14,`
`)),t&2){let e=m();n(4),c(e.exercise.isAtLeastEditor?4:-1),n(),c(e.course?5:-1),n(),c(e.exercise.teamMode&&e.exercise.isAtLeastTutor?6:-1),n(),c(e.exercise.assessmentType===e.AssessmentType.SEMI_AUTOMATIC||e.exercise.assessmentType===e.AssessmentType.MANUAL||e.exercise.allowComplaintsForAutomaticAssessments?7:-1),n(),c(e.course&&e.exercise.isAtLeastTutor?8:-1),n(),c(e.irisEnabled&&e.exercise.type===e.ExerciseType.TEXT&&e.exercise.isAtLeastInstructor&&e.exercise.course&&!e.isExamExercise?9:-1),n(),c(e.exercise.isAtLeastEditor&&(e.exercise.type===e.ExerciseType.MODELING||e.exercise.type===e.ExerciseType.TEXT)?10:-1),n(),c(e.exercise.isAtLeastInstructor&&e.exercise.type===e.ExerciseType.TEXT?11:-1),n(),c((e.exercise.type===e.ExerciseType.TEXT||e.exercise.type===e.ExerciseType.MODELING)&&e.exercise.isAtLeastEditor?12:-1),n(),c(e.exercise.isAtLeastInstructor?13:-1)}}var De=(()=>{class t{textExerciseService=l(z);fileUploadExerciseService=l(Q);modelingExerciseService=l(q);profileService=l(w);eventManager=l(j);router=l(L);exercise;course;isExamExercise=!1;dialogErrorSource=new g;dialogError$=this.dialogErrorSource.asObservable();teamBaseResource;baseResource;shortBaseResource;irisEnabled=!1;ExerciseType=p;AssessmentType=O;faTrash=N;faBook=U;faWrench=B;faUsers=$;faTable=R;faListAlt=M;faChartBar=P;faUserCheck=D;faRobot=I;ngOnInit(){this.isExamExercise?(this.baseResource=`/course-management/${this.course.id}/exams/${this.exercise.exerciseGroup?.exam?.id}/exercise-groups/${this.exercise.exerciseGroup?.id}/${this.exercise.type}-exercises/${this.exercise.id}/`,this.teamBaseResource=`/course-management/${this.course.id}/exams/${this.exercise.exerciseGroup?.exam?.id}/exercise-groups/${this.exercise.exerciseGroup?.id}/exercises/${this.exercise.id}/`,this.shortBaseResource=`/course-management/${this.course.id}/exams/${this.exercise.exerciseGroup?.exam?.id}/`):(this.baseResource=`/course-management/${this.course.id}/${this.exercise.type}-exercises/${this.exercise.id}/`,this.teamBaseResource=`/course-management/${this.course.id}/exercises/${this.exercise.id}/`,this.shortBaseResource=`/course-management/${this.course.id}/`),this.profileService.getProfileInfo().subscribe(e=>E(this,null,function*(){this.irisEnabled=e.activeProfiles.includes(G)}))}deleteExercise(){switch(this.exercise.type){case p.TEXT:this.textExerciseService.delete(this.exercise.id).subscribe({next:()=>{this.eventManager.broadcast({name:"textExerciseListModification",content:"Deleted a textExercise"}),this.dialogErrorSource.next(""),this.navigateToOverview()},error:e=>this.dialogErrorSource.next(e.message)});break;case p.FILE_UPLOAD:this.fileUploadExerciseService.delete(this.exercise.id).subscribe({next:()=>{this.eventManager.broadcast({name:"fileUploadExerciseListModification",content:"Deleted an fileUploadExercise"}),this.dialogErrorSource.next(""),this.navigateToOverview()},error:e=>this.dialogErrorSource.next(e.message)});break;case p.MODELING:this.modelingExerciseService.delete(this.exercise.id).subscribe({next:()=>{this.eventManager.broadcast({name:"modelingExerciseListModification",content:"Deleted an modelingExercise"}),this.dialogErrorSource.next(""),this.navigateToOverview()},error:e=>this.dialogErrorSource.next(e.message)});break;default:}}navigateToOverview(){this.isExamExercise?this.router.navigateByUrl(`/course-management/${this.course.id}/exams/${this.exercise.exerciseGroup?.exam?.id}/exercise-groups`):this.router.navigateByUrl(`/course-management/${this.course.id}/exercises`)}static \u0275fac=function(d){return new(d||t)};static \u0275cmp=_({type:t,selectors:[["jhi-non-programming-exercise-detail-common-actions"]],inputs:{exercise:"exercise",course:"course",isExamExercise:"isExamExercise"},decls:1,vars:1,consts:[[1,"d-flex","flex-wrap","gap-2"],[1,"btn","btn-warning","btn-sm",3,"routerLink"],[3,"icon"],["jhiTranslate","entity.action.edit",1,"d-none","d-md-inline"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],["jhiTranslate","artemisApp.exercise.participations",1,"d-none","d-md-inline"],["jhiTranslate","artemisApp.exercise.teams",1,"d-none","d-md-inline"],[1,"btn","btn-info","btn-sm",3,"routerLink"],["jhiTranslate","artemisApp.exercise.exerciseAssessmentDashboard",1,"d-none","d-md-inline"],["jhiTranslate","entity.action.scores",1,"d-none","d-md-inline"],["jhiTranslate","statistics.statistics-title",1,"d-none","d-md-inline"],[1,"btn","btn-warning","btn-sm",3,"routerLink","ngbTooltip"],["jhiTranslate","artemisApp.iris.settings.button.textExercise.title"],["id","example-submissions-button",1,"btn","btn-success","btn-sm",3,"routerLink"],["jhiTranslate","entity.action.exampleSubmissions",1,"d-none","d-md-inline"],[1,"btn","btn-success","btn-sm",3,"routerLink"],["jhiTranslate","artemisApp.textExercise.tutorEffortStatistics.title",1,"d-none","d-md-inline"],["id","check-plagiarism-download","routerLink","plagiarism",1,"btn","btn-info","btn-sm"],["jhiTranslate","artemisApp.textExercise.checkPlagiarism"],["jhiDeleteButton","","deleteQuestion","artemisApp.exercise.delete.question","deleteConfirmationText","artemisApp.exercise.delete.typeNameToConfirm",3,"delete","entityTitle","dialogError"]],template:function(d,u){d&1&&f(0,oe,15,10),d&2&&c(u.exercise?0:-1)},dependencies:[S,X,V,k,W,F],encapsulation:2})}return t})();export{De as a};
//# sourceMappingURL=chunk-WXB2CQV4.js.map
