import{a as j}from"./chunk-SLVT6IA5.js";import{a as M}from"./chunk-2QXIMOEO.js";import{k as L}from"./chunk-CXQURQM5.js";import{a as F}from"./chunk-U54OSGNH.js";import{E as I,t as w}from"./chunk-IOA4DPXY.js";import{Cc as x,Db as o,Ea as D,Ed as A,La as b,Oc as p,Tb as C,Va as T,Zb as m,cd as k,dd as e,fd as y,gd as S,hd as R,kc as u,mc as E,oc as B,qd as g,rd as O,sc as h,uc as f,vc as _,wc as P,xc as r,yc as a,zc as c}from"./chunk-5LC5EQRR.js";function V(i,s){if(i&1&&(e(0,`
            `),r(1,"li"),e(2,`
                `),r(3,"code"),e(4),a(),e(5,`
            `),a(),e(6,`
        `)),i&2){let t=s.$implicit,n=p(2);o(4),S("",n.ROOT_DIRECTORY_PATH,"",t.checkoutDirectory," ")}}function Y(i,s){if(i&1&&(e(0,`
    `),c(1,"hr",0),e(2,`
    `),r(3,"ul"),e(4,`
        `),r(5,"li"),e(6,`
            `),r(7,"code"),e(8),a(),e(9,`
        `),a(),e(10,`
        `),r(11,"li"),e(12,`
            `),r(13,"code"),e(14),a(),e(15,`
        `),a(),e(16,`
        `),r(17,"li"),e(18,`
            `),r(19,"code"),e(20),a(),e(21,`
        `),a(),e(22,`
        `),_(23,V,7,2,null,null,f),a(),e(25,`
`)),i&2){let t=p();o(5),E("invisible",!t.checkoutDirectories.exerciseCheckoutDirectory),o(3),y("",t.checkoutDirectories.exerciseCheckoutDirectory," "),o(3),E("invisible",!t.checkoutDirectories.solutionCheckoutDirectory),o(3),y("",t.checkoutDirectories.solutionCheckoutDirectory," "),o(3),E("invisible",!t.checkoutDirectories.testCheckoutDirectory),o(3),y(" ",t.checkoutDirectories.testCheckoutDirectory," "),o(3),P(t.auxiliaryRepositories)}}var N=(()=>{class i{checkoutDirectories;auxiliaryRepositories;ROOT_DIRECTORY_PATH="/";static \u0275fac=function(n){return new(n||i)};static \u0275cmp=C({type:i,selectors:[["jhi-programming-exercise-build-plan-checkout-directories"]],inputs:{checkoutDirectories:"checkoutDirectories",auxiliaryRepositories:"auxiliaryRepositories"},decls:1,vars:1,consts:[[1,"pt-0","pb-0","mt-1","mb-1"]],template:function(n,l){n&1&&m(0,Y,26,9),n&2&&h(l.checkoutDirectories?0:-1)},styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return i})();var $=()=>({helpIconText:"artemisApp.programmingExercise.preview.templateRepoTooltip",trailingRepoSlug:"-exercise"}),z=()=>({helpIconText:"artemisApp.programmingExercise.preview.solutionRepoTooltip",trailingRepoSlug:"-solution"}),K=()=>({helpIconText:"artemisApp.programmingExercise.preview.testRepoTooltip",trailingRepoSlug:"-tests"}),W=i=>({trailingRepoSlug:i,isAuxRepo:!0}),q=()=>({helpIconText:"artemisApp.programmingExercise.preview.templateBuildPlanTooltip",trailingRepoSlug:"-BASE",isBuildPlan:!0}),G=()=>({helpIconText:"artemisApp.programmingExercise.preview.solutionBuildPlanTooltip",trailingRepoSlug:"-SOLUTION",isBuildPlan:!0}),U=()=>[];function J(i,s){i&1&&x(0)}function Q(i,s){i&1&&x(0)}function X(i,s){i&1&&x(0)}function Z(i,s){i&1&&x(0)}function ee(i,s){if(i&1&&(e(0,`
                        `),m(1,Z,1,0,"ng-container",5),e(2,`
                    `)),i&2){let t=s.$implicit;p(2);let n=k(29);o(),u("ngTemplateOutlet",n)("ngTemplateOutletContext",O(2,W,"-"+t.name))}}function te(i,s){if(i&1&&(e(0,`
                    `),_(1,ee,3,4,null,null,f)),i&2){let t=p();o(),P(t.programmingExercise.auxiliaryRepositories)}}function ie(i,s){i&1&&x(0)}function ne(i,s){i&1&&x(0)}function oe(i,s){if(i&1&&(e(0,`
        `),r(1,"div",2),e(2,`
            `),r(3,"div"),e(4,`
                `),c(5,"span",6),e(6,`
            `),a(),e(7,`
            `),c(8,"hr",4),e(9,`
            `),r(10,"ul"),e(11,`
                `),m(12,ie,1,0,"ng-container",5),e(13,`
                `),m(14,ne,1,0,"ng-container",5),e(15,`
            `),a(),e(16,`
        `),a(),e(17,`
    `)),i&2){p();let t=k(29);o(12),u("ngTemplateOutlet",t)("ngTemplateOutletContext",g(4,q)),o(2),u("ngTemplateOutlet",t)("ngTemplateOutletContext",g(5,G))}}function re(i,s){if(i&1&&(e(0,`
        `),r(1,"div",7),e(2,`
            `),r(3,"div"),e(4,`
                `),c(5,"span",8),e(6,`
                `),c(7,"jhi-help-icon",9),e(8,`
            `),a(),e(9,`
            `),c(10,"jhi-programming-exercise-build-plan-checkout-directories",10),e(11,`
        `),a(),e(12,`
        `),r(13,"div",11),e(14,`
            `),r(15,"div"),e(16,`
                `),c(17,"span",12),e(18,`
                `),c(19,"jhi-help-icon",13),e(20,`
            `),a(),e(21,`
            `),c(22,"jhi-programming-exercise-build-plan-checkout-directories",10),e(23,`
        `),a(),e(24,`
    `)),i&2){let t,n,l=p();o(10),u("checkoutDirectories",l.checkoutDirectories.submissionBuildPlanCheckoutDirectories)("auxiliaryRepositories",(t=l.programmingExercise.auxiliaryRepositories)!==null&&t!==void 0?t:g(4,U)),o(12),u("checkoutDirectories",l.checkoutDirectories.solutionBuildPlanCheckoutDirectories)("auxiliaryRepositories",(n=l.programmingExercise.auxiliaryRepositories)!==null&&n!==void 0?n:g(5,U))}}function ae(i,s){if(i&1&&(e(0,`
            `),c(1,"jhi-help-icon",14),e(2,`
        `)),i&2){let t=p().helpIconText;o(),u("text",t)}}function se(i,s){if(i&1&&(e(0,`
    `),r(1,"li"),e(2,`
        `),r(3,"code"),e(4),a(),e(5,`
        `),m(6,ae,3,1),a(),e(7,`
`)),i&2){let t=s.helpIconText,n=s.trailingRepoSlug,l=s.isBuildPlan,d=s.isAuxRepo,v=p();o(3),B("text-white badge label-preview "+(l?" text-uppercase":"text-lowercase")+(d?" bg-success":" bg-primary")),o(),R(`
            `,v.courseShortName,"",v.programmingExercise==null?null:v.programmingExercise.shortName,"",n,`
        `),o(2),h(t?6:-1)}}var De=(()=>{class i{programmingExerciseService=D(j);programmingExercise;programmingExerciseBuildConfig;programmingLanguage;isLocal;checkoutSolutionRepository=!0;isCreateOrEdit=!1;isEditMode=!1;submissionBuildPlanEvent=new T;checkoutDirectorySubscription;courseShortName;checkoutDirectories;ngOnInit(){this.updateCourseShortName(),this.isLocal&&this.updateCheckoutDirectories()}ngOnChanges(t){let n=t.programmingLanguage?.currentValue!==t.programmingLanguage?.previousValue,l=t.checkoutSolutionRepository?.currentValue!==t.checkoutSolutionRepository?.previousValue;this.isLocal&&(n||l)&&(this.isCreateOrEdit&&!this.isEditMode&&this.resetProgrammingExerciseBuildCheckoutPaths(),this.updateCheckoutDirectories());let d=this.isBuildConfigAvailable(this.programmingExercise.buildConfig);this.isLocal&&this.isCreateOrEdit&&d&&(this.checkoutDirectories=this.setCheckoutDirectoriesFromBuildConfig(this.checkoutDirectories))}ngOnDestroy(){this.checkoutDirectorySubscription?.unsubscribe()}updateCheckoutDirectories(){if(!this.programmingLanguage)return;this.checkoutDirectorySubscription?.unsubscribe();let t=!0;this.checkoutDirectorySubscription=this.programmingExerciseService.getCheckoutDirectoriesForProgrammingLanguage(this.programmingLanguage,this.checkoutSolutionRepository??t).subscribe(n=>{this.isCreateOrEdit&&!this.isEditMode||!this.isBuildConfigAvailable(this.programmingExercise.buildConfig)?(this.checkoutDirectories=n,this.submissionBuildPlanEvent.emit(n.submissionBuildPlanCheckoutDirectories)):this.checkoutDirectories=this.setCheckoutDirectoriesFromBuildConfig(n)})}setCheckoutDirectoriesFromBuildConfig(t){return(this.programmingExercise.buildConfig||t)&&(t={solutionBuildPlanCheckoutDirectories:{solutionCheckoutDirectory:this.addLeadingSlash(this.programmingExercise.buildConfig?.assignmentCheckoutPath)||t?.solutionBuildPlanCheckoutDirectories?.solutionCheckoutDirectory,testCheckoutDirectory:this.addLeadingSlash(this.programmingExercise.buildConfig?.testCheckoutPath)||t?.solutionBuildPlanCheckoutDirectories?.testCheckoutDirectory||"/"},submissionBuildPlanCheckoutDirectories:{exerciseCheckoutDirectory:this.addLeadingSlash(this.programmingExercise.buildConfig?.assignmentCheckoutPath)||t?.submissionBuildPlanCheckoutDirectories?.exerciseCheckoutDirectory,solutionCheckoutDirectory:this.addLeadingSlash(this.programmingExercise.buildConfig?.solutionCheckoutPath)||t?.submissionBuildPlanCheckoutDirectories?.solutionCheckoutDirectory,testCheckoutDirectory:this.addLeadingSlash(this.programmingExercise.buildConfig?.testCheckoutPath)||t?.submissionBuildPlanCheckoutDirectories?.testCheckoutDirectory||"/"}}),t}updateCourseShortName(){this.programmingExercise&&(this.courseShortName=L(this.programmingExercise)?.shortName)}addLeadingSlash(t){if(t)return t.startsWith("/")?t:`/${t}`}isBuildConfigAvailable(t){return t!==void 0&&(t.assignmentCheckoutPath!==void 0&&t.assignmentCheckoutPath.trim()!==""||t.testCheckoutPath!==void 0&&t.testCheckoutPath.trim()!==""||t.solutionCheckoutPath!==void 0&&t.solutionCheckoutPath.trim()!=="")}resetProgrammingExerciseBuildCheckoutPaths(){this.programmingExercise.buildConfig.assignmentCheckoutPath=void 0,this.programmingExercise.buildConfig.testCheckoutPath=void 0,this.programmingExercise.buildConfig.solutionCheckoutPath=void 0}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=C({type:i,selectors:[["jhi-programming-exercise-repository-and-build-plan-details"]],inputs:{programmingExercise:"programmingExercise",programmingExerciseBuildConfig:"programmingExerciseBuildConfig",programmingLanguage:"programmingLanguage",isLocal:"isLocal",checkoutSolutionRepository:"checkoutSolutionRepository",isCreateOrEdit:"isCreateOrEdit",isEditMode:"isEditMode"},outputs:{submissionBuildPlanEvent:"submissionBuildPlanEvent"},features:[b],decls:31,vars:11,consts:[["repositoryBadge",""],["id","preview",1,"row","ms-0","mt-1","mb-1","pt-1","pb-1"],[1,"col-auto","rounded","pt-1","pb-1","preview-box"],["jhiTranslate","artemisApp.programmingExercise.preview.repositories",1,"font-weight-bold"],[1,"pt-0","pb-0","mt-1","mb-1"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["jhiTranslate","artemisApp.programmingExercise.preview.buildPlans",1,"font-weight-bold"],["id","checkout-directory-preview-submission-build-plan",1,"col-auto","rounded","pt-1","pb-1","preview-box"],["jhiTranslate","artemisApp.programmingExercise.preview.submissionBuildPlan",1,"font-weight-bold"],["text","artemisApp.programmingExercise.preview.templateBuildPlanTooltip"],[3,"checkoutDirectories","auxiliaryRepositories"],["id","checkout-directory-preview-solution-build-plan",1,"col-auto","rounded","pt-1","pb-1","preview-box"],["jhiTranslate","artemisApp.programmingExercise.preview.solutionBuildPlan",1,"font-weight-bold"],["text","artemisApp.programmingExercise.preview.solutionBuildPlanTooltip"],[3,"text"]],template:function(n,l){if(n&1&&(r(0,"div",1),e(1,`
    `),r(2,"div",2),e(3,`
        `),r(4,"div"),e(5,`
            `),r(6,"div"),e(7,`
                `),c(8,"span",3),e(9,`
            `),a(),e(10,`
            `),c(11,"hr",4),e(12,`
            `),r(13,"ul"),e(14,`
                `),m(15,J,1,0,"ng-container",5),e(16,`
                `),m(17,Q,1,0,"ng-container",5),e(18,`
                `),m(19,X,1,0,"ng-container",5),e(20,`

                `),m(21,te,3,0),a(),e(22,`
        `),a(),e(23,`
    `),a(),e(24,`
    `),m(25,oe,18,6)(26,re,25,6),a(),e(27,`

`),m(28,se,8,6,"ng-template",null,0,A),e(30,`
`)),n&2){let d=k(29);o(15),u("ngTemplateOutlet",d)("ngTemplateOutletContext",g(8,$)),o(2),u("ngTemplateOutlet",d)("ngTemplateOutletContext",g(9,z)),o(2),u("ngTemplateOutlet",d)("ngTemplateOutletContext",g(10,K)),o(2),h(!(l.programmingExercise==null||l.programmingExercise.auxiliaryRepositories==null)&&l.programmingExercise.auxiliaryRepositories.length?21:-1),o(4),h(l.isLocal?l.checkoutDirectories?26:-1:25)}},dependencies:[N,M,I,w,F],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return i})();export{De as a};
//# sourceMappingURL=chunk-HTZAAFOQ.js.map
