import{p as f}from"./chunk-DID2YGL7.js";import{Ab as a,Jd as N,Ta as T,_a as D,s as M,xc as A,zd as R}from"./chunk-Z4VHWOB5.js";var e=function(t){return t.REMEMBER="REMEMBER",t.UNDERSTAND="UNDERSTAND",t.APPLY="APPLY",t.ANALYZE="ANALYZE",t.EVALUATE="EVALUATE",t.CREATE="CREATE",t}(e||{}),l=function(t){return t.ASSUMES="ASSUMES",t.EXTENDS="EXTENDS",t.MATCHES="MATCHES",t}(l||{});var g=function(t){return t[t.TITLE_MAX=255]="TITLE_MAX",t[t.DESCRIPTION_MAX=1e4]="DESCRIPTION_MAX",t[t.MASTERY_THRESHOLD_MIN=0]="MASTERY_THRESHOLD_MIN",t[t.MASTERY_THRESHOLD_MAX=100]="MASTERY_THRESHOLD_MAX",t}(g||{}),H=function(t){return t.COMPETENCY="competency",t.PREREQUISITE="prerequisite",t}(H||{}),h=100,v=1,F=.5,K=.25,B=.375,Q=.75,_=class{id;title;description;taxonomy},i=class extends _{softDueDate;masteryThreshold;optional;linkedStandardizedCompetency;exerciseLinks;lectureUnitLinks;userProgress;courseProgress;course;linkedCourseCompetency;type;constructor(r){super(),this.type=r,this.masteryThreshold=h}},O=class extends i{constructor(){super(H.COMPETENCY)}},c=class{competency;weight;constructor(r,E){this.competency=r,this.weight=E}};var p=class extends c{lectureUnit;constructor(r,E,o){super(r,o),this.lectureUnit=E}},d=class{competencyId;jolValue;judgementTime;competencyProgress;competencyConfidence;static shouldPromptForJol(r,E,o){let I=f(),n=r.softDueDate?.subtract(1,"day"),s=E?.progress??0;if(s===void 0||s===0)return!1;if(n&&I.isAfter(n)&&s>=20)return!0;let S=o.filter(u=>u.softDueDate&&u.softDueDate.isBefore(I));if(S.length===0)return n?!1:s>=20;let L=S.reduce((u,x)=>{let P=x.userProgress?.first()?.progress??0;return u+P},0)/S.length;return s>=.8*L}},Y=function(t){return t.NO_REASON="NO_REASON",t.RECENT_SCORES_LOWER="RECENT_SCORES_LOWER",t.RECENT_SCORES_HIGHER="RECENT_SCORES_HIGHER",t.MORE_EASY_POINTS="MORE_EASY_POINTS",t.MORE_HARD_POINTS="MORE_HARD_POINTS",t.QUICKLY_SOLVED_EXERCISES="QUICKLY_SOLVED_EXERCISES",t.MORE_LOW_WEIGHTED_EXERCISES="MORE_LOW_WEIGHTED_EXERCISES",t.MORE_HIGH_WEIGHTED_EXERCISES="MORE_HIGH_WEIGHTED_EXERCISES",t}(Y||{});function Z(t){return t?{[e.REMEMBER]:R,[e.UNDERSTAND]:M,[e.APPLY]:a,[e.ANALYZE]:A,[e.EVALUATE]:N,[e.CREATE]:D}[t]:T}function U(t){return Math.round(t?.progress??0)}function G(t){return t?.confidence??1}function j(t){return Math.min(100,Math.max(0,Math.round(U(t)*G(t))))}function k(t,r){return t.softDueDate?r.softDueDate?t.softDueDate.isSame(r.softDueDate)?0:t.softDueDate.isBefore(r.softDueDate)?-1:1:-1:r.softDueDate?1:0}export{e as a,l as b,g as c,H as d,h as e,v as f,F as g,K as h,B as i,Q as j,i as k,O as l,c as m,p as n,d as o,Y as p,Z as q,U as r,G as s,j as t,k as u};
//# sourceMappingURL=chunk-DOLVNMRR.js.map
