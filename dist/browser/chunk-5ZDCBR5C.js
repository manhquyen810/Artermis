import{a as mt}from"./chunk-JMXR2R6B.js";import{a as dt}from"./chunk-D5TENQWV.js";import{a as ct}from"./chunk-GAL3C3KF.js";import{a as xt}from"./chunk-T4P5LSLH.js";import{a as _t}from"./chunk-N54JTLDY.js";import{b as ie}from"./chunk-VOBYQYWS.js";import{a as ft}from"./chunk-F452EUSG.js";import{a as ut}from"./chunk-F75WZTS2.js";import{d as pt}from"./chunk-2SI4Q343.js";import{b as lt}from"./chunk-43F7XNEH.js";import{a as st}from"./chunk-BCAUGGBR.js";import{a as rt}from"./chunk-UQAVYGM7.js";import{b as ot}from"./chunk-7WZTW6CZ.js";import{a as tt,b as it,d as nt,f as at,g as te}from"./chunk-PR2Y3QVB.js";import{a as et}from"./chunk-HGMQBA4T.js";import{a as Je}from"./chunk-5FAM7LIP.js";import{b as Ye}from"./chunk-PTO7UATL.js";import{b as G}from"./chunk-IJRVZ46L.js";import{a as Xe}from"./chunk-RTRBZQHM.js";import{a as He}from"./chunk-A2A6JFSH.js";import{b as Ze}from"./chunk-T4L3VFV2.js";import{a as Qe}from"./chunk-22YQSX6Z.js";import{a as Ke}from"./chunk-R56P6PAY.js";import{c as $e}from"./chunk-65Z25AP3.js";import{a as Ve}from"./chunk-VPHPBAVR.js";import{b as je,j as We,l as Ne,u as ee,w as Le,x as Ue}from"./chunk-5AQXEKLE.js";import{d as ke}from"./chunk-6EYB5QBP.js";import{a as ze}from"./chunk-MYJYCKA4.js";import{a as De}from"./chunk-FZY4YCJJ.js";import{b as Be}from"./chunk-4I367PEU.js";import{a as j}from"./chunk-QA7Y7QBM.js";import{c as J}from"./chunk-CK7FH6VF.js";import{a as Y}from"./chunk-PZ7IDTIM.js";import{e as U,f as qe}from"./chunk-CT44YL7Q.js";import{c as Fe}from"./chunk-JNO6DNVW.js";import{K as Ee,a as he}from"./chunk-VZRSC3LP.js";import{m as Ge}from"./chunk-VK7JPHFE.js";import{c as we}from"./chunk-BNDLMKXK.js";import{e as X}from"./chunk-5GXY5RYT.js";import{a as I}from"./chunk-K3W6YFKH.js";import{c as Me}from"./chunk-JXJXC4DZ.js";import{d as R}from"./chunk-EDXSOKK5.js";import{p as y}from"./chunk-DID2YGL7.js";import{c as b,f as L,h as oe}from"./chunk-CXQURQM5.js";import{Fc as Te,Gd as Re,Ob as Ie,T as ve,Uc as Oe,Y as Se,bd as Ae,nb as be,oa as Pe,qa as ye}from"./chunk-Z4VHWOB5.js";import{a as M}from"./chunk-NOBD5HSR.js";import{a as P}from"./chunk-U54OSGNH.js";import{f as _e,h as Ce,i as ge}from"./chunk-M6Z6DKZQ.js";import{n as z}from"./chunk-IOA4DPXY.js";import{Ac as W,Ad as S,Bc as N,Db as o,Dc as V,Ea as h,Id as fe,La as B,Ma as $,Mc as A,Na as K,Oc as m,Pc as me,Qc as ae,Rc as de,Sc as H,Tb as g,Zb as x,dd as e,ed as E,fd as _,gd as Z,hd as ce,id as xe,jc as le,kc as u,mc as Q,oc as w,rd as ue,sc as d,sd as T,td as pe,uc as q,vc as F,wc as k,xb as re,xc as s,yc as r,yd as f,zc as c,zd as C}from"./chunk-5LC5EQRR.js";import{j as se}from"./chunk-3E746U5Y.js";function It(i,l){i&1&&(e(0,`
        `),c(1,"h3",2),e(2,`
    `))}function Tt(i,l){i&1&&(e(0,`
                    `),s(1,"tr"),e(2,`
                        `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                        `),s(7,"td"),e(8,`
                            `),c(9,"span",3),e(10,`
                        `),r(),e(11,`
                    `),r(),e(12,`
                `)),i&2&&(o(4),_("",C(5,1,"artemisApp.examManagement.testExam.examMode"),":"))}function Ot(i,l){if(i&1&&(e(0,`
                    `),s(1,"tr"),e(2,`
                        `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                        `),s(7,"td"),e(8),r(),e(9,`
                    `),r(),e(10,`
                `)),i&2){let t=m();o(4),_("",C(5,2,"artemisApp.examManagement.moduleNumber"),":"),o(4),E(t.exam.moduleNumber)}}function At(i,l){if(i&1&&(e(0,`
                    `),s(1,"tr"),e(2,`
                        `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                        `),s(7,"td"),e(8),r(),e(9,`
                    `),r(),e(10,`
                `)),i&2){let t=m();o(4),_("",C(5,2,"artemisApp.exam.course"),":"),o(4),E(t.exam.courseName)}}function Rt(i,l){if(i&1&&(e(0,`
                    `),s(1,"tr"),e(2,`
                        `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                        `),s(7,"td"),e(8),r(),e(9,`
                    `),r(),e(10,`
                `)),i&2){let t=m();o(4),_("",C(5,2,"artemisApp.examManagement.examiner"),":"),o(4),E(t.exam.examiner)}}function wt(i,l){if(i&1&&(e(0,`
                    `),s(1,"tr",4),e(2,`
                        `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                        `),s(7,"td"),e(8),r(),e(9,`
                    `),r(),e(10,`
                `)),i&2){let t=m();o(4),_("",C(5,2,"artemisApp.examManagement.examTitle"),":"),o(4),E(t.exam.title)}}function Mt(i,l){if(i&1&&(e(0,`
                        `),s(1,"tr"),e(2,`
                            `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                            `),s(7,"td"),e(8),f(9,"artemisDate"),f(10,"artemisDate"),f(11,"artemisDate"),f(12,"artemisDate"),r(),e(13,`
                        `),r(),e(14,`
                    `)),i&2){let t=m(2);o(4),_("",C(5,5,"artemisApp.exam.time"),":"),o(4),xe(`
                                `,S(9,7,t.exam.startDate,"long-date")," ",S(10,10,t.exam.startDate,"time")," \xA0-\xA0",S(11,13,t.examEndDate,"long-date"),`
                                `,S(12,16,t.examEndDate,"time"),`
                            `)}}function Gt(i,l){if(i&1&&(e(0,`
                        `),s(1,"tr",5),e(2,`
                            `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                            `),s(7,"td"),e(8),f(9,"artemisDate"),r(),e(10,`
                        `),r(),e(11,`
                        `),s(12,"tr",5),e(13,`
                            `),s(14,"th"),e(15),f(16,"artemisTranslate"),r(),e(17,`
                            `),s(18,"td"),e(19),f(20,"artemisDate"),f(21,"artemisDate"),r(),e(22,`
                        `),r(),e(23,`
                    `)),i&2){let t=m(2);o(4),_("",C(5,5,"artemisApp.exam.date"),":"),o(4),E(S(9,7,t.exam.startDate,"long-date")),o(7),_("",C(16,10,"artemisApp.exam.workingTime"),":"),o(4),Z("",S(20,12,t.exam.startDate,"time")," - ",S(21,15,t.examEndDate,"time"),"")}}function Dt(i,l){if(i&1&&(e(0,`
                        `),s(1,"tr"),e(2,`
                            `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                            `),s(7,"td"),c(8,"jhi-student-exam-working-time",6),r(),e(9,`
                        `),r(),e(10,`
                    `)),i&2){let t=m(2);o(4),_("",C(5,2,"artemisApp.exam.duration"),":"),o(4),u("studentExam",t.studentExam)}}function Bt(i,l){if(i&1&&(e(0,`
                    `),x(1,Mt,15,19)(2,Gt,24,18)(3,Dt,11,4)),i&2){let t=m();o(),d(t.isExamOverMultipleDays?1:2),o(2),d(t.exam.endDate&&(t.studentExam!=null&&t.studentExam.workingTime)?3:-1)}}function qt(i,l){if(i&1&&(e(0,`
                        `),s(1,"tr"),e(2,`
                            `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                            `),s(7,"td"),e(8),r(),e(9,`
                        `),r(),e(10,`
                    `)),i&2){let t=m(2);o(4),_("",C(5,2,"artemisApp.exam.points"),":"),o(4),E(t.exam.examMaxPoints)}}function Ft(i,l){if(i&1&&(e(0,`
                        `),s(1,"tr"),e(2,`
                            `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                            `),s(7,"td"),e(8),r(),e(9,`
                        `),r(),e(10,`
                    `)),i&2){let t=m(2);o(4),_("",C(5,2,"artemisApp.exam.exercises"),":"),o(4),E(t.exam.numberOfExercisesInExam)}}function kt(i,l){if(i&1&&(e(0,`
                    `),x(1,qt,11,4)(2,Ft,11,4)),i&2){let t=m();o(),d(t.exam.examMaxPoints?1:-1),o(),d(t.exam.numberOfExercisesInExam?2:-1)}}function zt(i,l){if(i&1&&(e(0,`
                                `),s(1,"span"),e(2),f(3,"artemisDate"),r(),e(4,`
                            `)),i&2){let t=m(2);o(2),_(" ",C(3,1,t.exam.examStudentReviewStart)," ")}}function jt(i,l){i&1&&(e(0,`
                                `),s(1,"span"),e(2,"\xA0-\xA0"),r(),e(3,`
                            `))}function Wt(i,l){if(i&1&&(e(0,`
                                `),s(1,"span"),e(2),f(3,"artemisDate"),r(),e(4,`
                            `)),i&2){let t=m(2);o(2),E(C(3,1,t.exam.examStudentReviewEnd))}}function Nt(i,l){i&1&&(e(0,`
                                `),c(1,"div",8),e(2,`
                            `))}function Lt(i,l){if(i&1&&(e(0,`
                    `),s(1,"tr"),e(2,`
                        `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                        `),s(7,"td",7),e(8,`
                            `),x(9,zt,5,3)(10,jt,4,0)(11,Wt,5,3)(12,Nt,3,0),r(),e(13,`
                    `),r(),e(14,`
                `)),i&2){let t=m();o(4),_("",C(5,5,"artemisApp.exam.examStudentReviewTimespan"),":\xA0"),o(5),d(t.exam.examStudentReviewStart?9:-1),o(),d(t.exam.examStudentReviewStart&&t.exam.examStudentReviewEnd?10:-1),o(),d(t.exam.examStudentReviewEnd?11:-1),o(),d(t.reviewIsOpen?12:-1)}}function Ut(i,l){if(i&1&&(e(0,`
                    `),s(1,"tr"),e(2,`
                        `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                        `),s(7,"td"),e(8),r(),e(9,`
                    `),r(),e(10,`
                `)),i&2){let t=m();o(4),_("",C(5,2,"artemisApp.exam.examinedStudent"),":"),o(4),E(t.studentExam.user.name)}}function $t(i,l){if(i&1&&(e(0,`
                        `),s(1,"tr"),e(2,`
                            `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                            `),s(7,"td"),e(8),f(9,"artemisDurationFromSeconds"),r(),e(10,`
                            `),c(11,"td"),e(12,`
                        `),r(),e(13,`
                    `)),i&2){let t=m(2);o(4),_("",C(5,2,"artemisApp.exam.workingTime"),":"),o(4),E(C(9,4,t.exam.workingTime))}}function Kt(i,l){if(i&1&&(e(0,`
                        `),s(1,"tr"),e(2,`
                            `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                            `),s(7,"td"),e(8,`
                                `),c(9,"jhi-test-exam-working-time",6),e(10,`
                            `),r(),e(11,`
                        `),r(),e(12,`
                    `)),i&2){let t=m(2);o(4),_("",C(5,2,"artemisApp.exam.overview.testExam.workingTimeCalculated")," :"),o(5),u("studentExam",t.studentExam)}}function Qt(i,l){if(i&1&&(e(0,`
                    `),s(1,"tr"),e(2,`
                        `),s(3,"th"),e(4),f(5,"artemisTranslate"),r(),e(6,`
                        `),s(7,"td"),e(8),f(9,"artemisDate"),r(),e(10,`
                    `),r(),e(11,`
                    `),x(12,$t,14,6)(13,Kt,13,4)),i&2){let t=m();o(4),_("",C(5,4,"artemisApp.exam.date"),":"),o(4),E(S(9,6,t.currentDate,"long-date")),o(4),d(t.exam!=null&&t.exam.workingTime?12:-1),o(),d(t.studentExam.submitted&&t.studentExam.submissionDate&&t.studentExam.startedDate?13:-1)}}var Ct=(()=>{class i{exam;studentExam;reviewIsOpen=!1;displayOnExamCover=!1;examEndDate;normalWorkingTime;additionalWorkingTime;isExamOverMultipleDays;isTestExam;currentDate;ngOnChanges(){this.examEndDate=tt(this.exam,this.studentExam),this.normalWorkingTime=it(this.exam),this.additionalWorkingTime=nt(this.exam,this.studentExam),this.isExamOverMultipleDays=at(this.exam,this.studentExam),this.isTestExam=this.exam?.testExam,this.isTestExam&&(this.currentDate=y())}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-exam-general-information"]],inputs:{exam:"exam",studentExam:"studentExam",reviewIsOpen:"reviewIsOpen",displayOnExamCover:"displayOnExamCover"},features:[B],decls:23,vars:11,consts:[[1,"ml-4","mt-3","mb-4"],[1,"table","table-borderless","mx-auto","d-block"],["id","general-information-title","jhiTranslate","artemisApp.exam.examSummary.generalInformation"],["jhiTranslate","artemisApp.examManagement.testExam.testExam",1,"badge","bg-primary"],["id","exam-title"],[1,"mb-2"],[3,"studentExam"],[1,"d-flex","align-items-center"],["jhiTranslate","artemisApp.exam.studentReviewEnabled",1,"mx-2","badge","bg-success"]],template:function(n,a){n&1&&(s(0,"div"),e(1,`
    `),x(2,It,3,0),s(3,"div",0),e(4,`
        `),s(5,"table",1),e(6,`
            `),s(7,"tbody"),e(8,`
                `),x(9,Tt,13,3)(10,Ot,11,4)(11,At,11,4)(12,Rt,11,4)(13,wt,11,4)(14,Bt,4,2)(15,kt,3,2)(16,Lt,15,7)(17,Ut,11,4)(18,Qt,14,9),r(),e(19,`
        `),r(),e(20,`
    `),r(),e(21,`
`),r(),e(22,`
`)),n&2&&(o(2),d(a.displayOnExamCover?-1:2),o(7),d(a.isTestExam?9:-1),o(),d(a.exam!=null&&a.exam.moduleNumber?10:-1),o(),d(a.exam!=null&&a.exam.courseName?11:-1),o(),d(a.exam!=null&&a.exam.examiner?12:-1),o(),d(a.exam!=null&&a.exam.title?13:-1),o(),d(a.exam&&!a.isTestExam&&a.exam.startDate?14:-1),o(),d(a.displayOnExamCover?15:-1),o(),d(a.exam&&(a.studentExam!=null&&a.studentExam.ended)&&(a.exam.examStudentReviewStart||a.exam.examStudentReviewEnd)?16:-1),o(),d(!(a.studentExam==null||a.studentExam.user==null)&&a.studentExam.user.name?17:-1),o(),d(a.exam&&a.isTestExam?18:-1))},dependencies:[P,st,rt,Fe,I,Ve],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:start;padding:.25em}"]})}return i})();var Vt=[[["",8,"header"]],[["",8,"collapsible-content"]]],Ht=[".header",".collapsible-content"],ne=(()=>{class i{isCardContentCollapsed;toggleCollapse;faAngleRight=Se;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-collapsible-card"]],inputs:{isCardContentCollapsed:"isCardContentCollapsed",toggleCollapse:"toggleCollapse"},ngContentSelectors:Ht,decls:18,vars:6,consts:[[1,"question","card"],[1,"card-header","d-flex","align-items-center","justify-content-between",3,"click"],[1,"btn","rotate-icon"],["size","2x",3,"icon"],[1,"card-body","question-card-body",3,"ngbCollapse"]],template:function(n,a){n&1&&(me(Vt),s(0,"div",0),e(1,`
    `),s(2,"div",1),A("click",function(){return a.toggleCollapse()}),e(3,`
        `),ae(4),e(5,`
        `),s(6,"button",2),e(7,`
            `),c(8,"fa-icon",3),e(9,`
        `),r(),e(10,`
    `),r(),e(11,`

    `),s(12,"div",4),e(13,`
        `),ae(14,1),e(15,`
    `),r(),e(16,`
`),r(),e(17,`
`)),n&2&&(o(6),Q("rotated",!a.isCardContentCollapsed),le("aria-expanded",a.isCardContentCollapsed)("aria-controls",a.isCardContentCollapsed),o(2),u("icon",a.faAngleRight),o(4),u("ngbCollapse",a.isCardContentCollapsed))},dependencies:[R,he],styles:[".question[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;border:1px solid var(--course-exercise-card-border-color);margin-bottom:18px;background:var(--course-exercise-card-background)}.question[_ngcontent-%COMP%]:first-of-type{margin-top:1rem}.question[_ngcontent-%COMP%]   .question-title[_ngcontent-%COMP%]{flex:1}.question[_ngcontent-%COMP%]   .question-title[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{width:100%}",".question-options[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.question-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .question-options[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]{display:inline-block;width:1rem}.question-options[_ngcontent-%COMP%]   .datepicker-input[_ngcontent-%COMP%]{max-width:140px}.question-options[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:inline-block}.question-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:100%}.question-options[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 5px 15px}.question-options[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 4px}.question-options[_ngcontent-%COMP%]   .background-file[_ngcontent-%COMP%]{display:flex}.edit-quiz-footer-content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-between}.edit-quiz-footer-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .edit-quiz-footer-content[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]{width:auto}.edit-quiz-footer-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center}.edit-quiz-footer-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 4px}.edit-quiz-footer-content[_ngcontent-%COMP%]   .invalid-reasons-tooltip[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{text-align:left;max-width:300px}.edit-quiz-footer-content[_ngcontent-%COMP%]   .invalid-reasons-tooltip[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;padding:4px}.edit-quiz-footer-content[_ngcontent-%COMP%]   #remaining-time[_ngcontent-%COMP%]{text-align:center;width:100%}.edit-quiz-footer-content[_ngcontent-%COMP%]   #remaining-time[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center;width:100%}.edit-quiz-footer-content[_ngcontent-%COMP%]   #remaining-time-value[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap}.edit-quiz-footer-content[_ngcontent-%COMP%]   #quiz-score[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:green}.edit-quiz-footer-content[_ngcontent-%COMP%]   #quiz-score.incorrect[_ngcontent-%COMP%]{color:#000}.edit-quiz-footer-content[_ngcontent-%COMP%]   .time-warning[_ngcontent-%COMP%]{color:orange}.edit-quiz-footer-content[_ngcontent-%COMP%]   .time-critical[_ngcontent-%COMP%]{color:red}@media (max-width: 767.98px){.edit-quiz-footer-content[_ngcontent-%COMP%]   .connection-status-quiz[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 767.98px){.edit-quiz-footer-content[_ngcontent-%COMP%]{font-size:12px}}",".exam-points-summary-container[_ngcontent-%COMP%]{max-width:980px}.exercise-buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.exercise-buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:1.5rem!important}"]})}return i})();var Zt=(i,l)=>({"font-italic text-danger font-weight-bold":i,"font-italic text-warning font-weight-bold":l}),gt=(i,l)=>({achievedPoints:i,normalPoints:l}),Xt=(i,l)=>({achievedBonus:i,bonusFromTitle:l});function Yt(i,l){i&1&&(e(0,`
                                `),c(1,"th",15),e(2,`
                            `))}function Jt(i,l){i&1&&(e(0,`
                                `),c(1,"th",16),e(2,`
                            `))}function ei(i,l){if(i&1&&(e(0,`
                                        `),s(1,"div",19),e(2,`
                                            `),c(3,"fa-icon",20),e(4,`
                                        `),r(),e(5,`
                                    `)),i&2){let t=m().$implicit,n=m(2);o(3),u("icon",n.exerciseInfos[t.id].icon)}}function ti(i,l){if(i&1&&(e(0,`
                                    `),s(1,"td",12),e(2),r(),e(3,`
                                `)),i&2){let t=m().$implicit,n=m(2);o(2),E(n.exerciseService.isIncludedInScore(t))}}function ii(i,l){if(i&1&&(e(0,`
                                        `),s(1,"span"),e(2),r(),e(3,`
                                    `)),i&2){let t=m().$implicit,n=m(2);o(2),E(t.includedInOverallScore===n.IncludedInOverallScore.INCLUDED_AS_BONUS?0:t.maxPoints)}}function ni(i,l){if(i&1&&(e(0,`
                                        `),s(1,"span"),e(2),r(),e(3,`
                                    `)),i&2){let t=m().$implicit,n=m(2);o(),w(n.exerciseInfos[t.id].colorClass),o(),_(" ",n.exerciseInfos[t.id].achievedPercentage," % ")}}function ai(i,l){i&1&&e(0,`
                                        -
                                    `)}function oi(i,l){if(i&1&&(e(0,`
                                            `),s(1,"span"),e(2),r(),e(3,`
                                        `)),i&2){let t=m(2).$implicit,n=m(2);o(2),E(t.includedInOverallScore===n.IncludedInOverallScore.INCLUDED_AS_BONUS?t.maxPoints:t.bonusPoints)}}function si(i,l){if(i&1&&(e(0,`
                                    `),s(1,"td"),e(2,`
                                        `),x(3,oi,4,1),r(),e(4,`
                                `)),i&2){let t=m().$implicit;o(3),d(t.bonusPoints!==void 0?3:-1)}}function ri(i,l){if(i&1){let t=V();e(0,`
                            `),s(1,"tr",17),A("click",function(){let a=$(t).$implicit,p=m(2);return K(p.scrollToExercise(a.id))}),e(2,`
                                `),s(3,"th",18),e(4),r(),e(5,`
                                `),s(6,"td"),e(7,`
                                    \xA0
                                    `),x(8,ei,6,1),s(9,"span"),e(10),r(),e(11,`
                                `),r(),e(12,`
                                `),x(13,ti,4,1),s(14,"td",12),e(15),r(),e(16,`
                                `),s(17,"td",12),e(18,`
                                    `),x(19,ii,4,1),r(),e(20,`
                                `),s(21,"td",12),e(22,`
                                    `),x(23,ni,4,3)(24,ai,1,0),r(),e(25,`
                                `),x(26,si,5,1),r(),e(27,`
                        `)}if(i&2){let t,n,a=l.$implicit,p=l.$index,v=m(2);o(),Q("not-included-in-score",a.includedInOverallScore===v.IncludedInOverallScore.NOT_INCLUDED),u("ngClass",T(11,Zt,a.includedInOverallScore===v.IncludedInOverallScore.NOT_INCLUDED,a.includedInOverallScore===v.IncludedInOverallScore.INCLUDED_AS_BONUS)),o(3),E(p+1),o(4),d(a!=null&&a.type&&v.exerciseInfos[a.id]!==void 0?8:-1),o(2),E((t=a==null||a.exerciseGroup==null?null:a.exerciseGroup.title)!==null&&t!==void 0?t:"-"),o(3),d(v.showIncludedInScoreColumn?13:-1),o(2),_(`
                                    `,(n=v.studentExamWithGrade==null||v.studentExamWithGrade.achievedPointsPerExercise==null?null:v.studentExamWithGrade.achievedPointsPerExercise[a.id])!==null&&n!==void 0?n:0,`
                                `),o(4),d(a.maxPoints!==void 0?19:-1),o(4),d(v.exerciseInfos[a.id]!==void 0&&v.exerciseInfos[a.id].achievedPercentage!==void 0?23:24),o(3),d(v.studentExamWithGrade!=null&&v.studentExamWithGrade.maxBonusPoints?26:-1)}}function li(i,l){i&1&&(e(0,`
                                `),s(1,"td",12),e(2,"-"),r(),e(3,`
                            `))}function mi(i,l){if(i&1&&(e(0,`
                                    `),s(1,"span"),e(2),r(),e(3,`
                                `)),i&2){let t=m(2);o(),w(t.hasPassed?"text-success":"text-danger"),o(),_(" ",t.overallAchievedPercentageRoundedByCourseSettings," % ")}}function di(i,l){i&1&&(e(0,`
                                    `),c(1,"jhi-no-data"),e(2,`
                                `))}function ci(i,l){if(i&1&&(e(0,`
                                `),s(1,"th"),e(2),r(),e(3,`
                            `)),i&2){let t=m(2);o(2),_(`
                                    `,t.studentExamWithGrade==null?null:t.studentExamWithGrade.maxBonusPoints,`
                                `)}}function xi(i,l){if(i&1&&(e(0),f(1,"artemisTranslate")),i&2){let t=m(2);_(`
                            `,S(1,1,"artemisApp.exam.examSummary.points.youAchievedWithBonus",T(4,gt,t.overallAchievedPoints,t.maxPoints)),`
                        `)}}function ui(i,l){if(i&1&&(e(0),f(1,"artemisTranslate")),i&2){let t=m(2);_(`
                            `,S(1,1,"artemisApp.exam.examSummary.points.youAchieved",T(4,gt,t.overallAchievedPoints,t.maxPoints)),`
                        `)}}function pi(i,l){if(i&1&&(e(0),f(1,"artemisTranslate")),i&2){let t=m(2);_(`
                            `,S(1,1,"artemisApp.exam.examSummary.points.youAchievedFromBonus."+t.studentExamWithGrade.studentResult.gradeWithBonus.bonusStrategy,T(4,Xt,t.studentExamWithGrade.studentResult.gradeWithBonus.bonusGrade,t.studentExamWithGrade.studentResult.gradeWithBonus.bonusFromTitle)),`
                        `)}}function fi(i,l){if(i&1&&(e(0,`
                        `),s(1,"div",14),e(2,`
                            `),c(3,"span",21),e(4),r(),e(5,`
                        `),s(6,"div",14),e(7,`
                            `),c(8,"span",22),e(9),r(),e(10,`
                    `)),i&2){let t=m(2);o(4),_(`
                            `,t.studentExamWithGrade.studentResult.overallGrade,`
                        `),o(5),_(`
                            `,t.studentExamWithGrade.studentResult.gradeWithBonus==null?null:t.studentExamWithGrade.studentResult.gradeWithBonus.finalGrade,`
                        `)}}function _i(i,l){if(i&1&&(e(0,`
                        `),s(1,"div",14),e(2,`
                            `),c(3,"span",23),e(4),r(),e(5,`
                    `)),i&2){let t=m(2);o(4),_(`
                            `,t.studentExamWithGrade.studentResult.overallGrade,`
                        `)}}function Ci(i,l){if(i&1&&(e(0,`
                `),s(1,"jhi-collapsible-card",1),e(2,`
                    `),s(3,"div",24),e(4,`
                        `),c(5,"fa-icon",25),e(6,`\xA0
                        `),c(7,"span",29),e(8,`
                    `),r(),e(9,`

                    `),s(10,"div",27),e(11,`
                        `),c(12,"jhi-grade-key-table",30),e(13,`
                    `),r(),e(14,`
                `),r(),e(15,`
            `)),i&2){let t,n=m(3);o(),u("isCardContentCollapsed",n.isCollapsed["bonus-grading-key"])("toggleCollapse",n.toggleCollapse("bonus-grading-key")),o(4),u("icon",n.faAward),o(7),u("studentGradeOrBonusPointsOrGradeBonus",""+((t=n.studentExamWithGrade.studentResult.gradeWithBonus==null?null:n.studentExamWithGrade.studentResult.gradeWithBonus.bonusGrade)!==null&&t!==void 0?t:0))("forBonus",!0)}}function gi(i,l){if(i&1&&(e(0,`
            `),s(1,"jhi-collapsible-card",1),e(2,`
                `),s(3,"div",24),e(4,`
                    `),c(5,"fa-icon",25),e(6,` \xA0
                    `),c(7,"span",26),e(8,`
                `),r(),e(9,`

                `),s(10,"div",27),e(11,`
                    `),c(12,"jhi-grade-key-table",28),e(13,`
                `),r(),e(14,`
            `),r(),e(15,`

            `),x(16,Ci,16,5)),i&2){let t=m(2);o(),u("isCardContentCollapsed",t.isCollapsed["grading-key"])("toggleCollapse",t.toggleCollapse("grading-key")),o(4),u("icon",t.faClipboard),o(7),u("studentGradeOrBonusPointsOrGradeBonus",t.grade),o(4),d(t.isBonusGradingKeyDisplayed?16:-1)}}function hi(i,l){if(i&1&&(e(0,`
    `),s(1,"div"),e(2,`
        `),c(3,"h3",0),e(4,`

        `),s(5,"jhi-collapsible-card",1),e(6,`
            `),c(7,"div",2),e(8,`

            `),s(9,"div",3),e(10,`
                `),s(11,"table",4),e(12,`
                    `),s(13,"thead"),e(14,`
                        `),s(15,"tr"),e(16,`
                            `),s(17,"th",5),e(18,"#"),r(),e(19,`
                            `),c(20,"th",6),e(21,`
                            `),x(22,Yt,3,0),c(23,"th",7),e(24,`
                            `),c(25,"th",8),e(26,`
                            `),c(27,"th",9),e(28,`
                            `),x(29,Jt,3,0),r(),e(30,`
                    `),r(),e(31,`
                    `),s(32,"tbody"),e(33,`
                        `),F(34,ri,28,14,null,null,q),r(),e(36,`
                    `),s(37,"tfoot",10),e(38,`
                        `),s(39,"tr"),e(40,`
                            `),c(41,"th",11),e(42,`
                            `),x(43,li,4,0),s(44,"th",12),e(45),r(),e(46,`
                            `),s(47,"th",12),e(48),r(),e(49,`
                            `),s(50,"th",12),e(51,`
                                `),x(52,mi,4,3)(53,di,3,0),r(),e(54,`
                            `),x(55,ci,4,1),r(),e(56,`
                    `),r(),e(57,`
                `),r(),e(58,`
                `),s(59,"div",13),e(60,`
                    `),s(61,"div",14),e(62,`
                        `),x(63,xi,2,7)(64,ui,2,7)(65,pi,2,7),r(),e(66,`
                    `),x(67,fi,11,2)(68,_i,6,1),r(),e(69,`
            `),r(),e(70,`
        `),r(),e(71,`

        `),x(72,gi,17,5),r(),e(73,`
`)),i&2){let t=m();o(5),u("isCardContentCollapsed",t.isCollapsed["grading-table"])("toggleCollapse",t.toggleCollapse("grading-table")),o(17),d(t.showIncludedInScoreColumn?22:-1),o(7),d(t.studentExamWithGrade!=null&&t.studentExamWithGrade.maxBonusPoints?29:-1),o(5),k(t.studentExamWithGrade==null||t.studentExamWithGrade.studentExam==null?null:t.studentExamWithGrade.studentExam.exercises),o(9),d(t.showIncludedInScoreColumn?43:-1),o(2),_(`
                                `,t.overallAchievedPoints,`
                            `),o(3),_(`
                                `,t.maxPoints,`
                            `),o(4),d(t.studentExamWithGrade.studentResult.overallScoreAchieved!==void 0?52:53),o(3),d(t.studentExamWithGrade!=null&&t.studentExamWithGrade.maxBonusPoints?55:-1),o(8),d(t.studentExamWithGrade!=null&&t.studentExamWithGrade.maxBonusPoints?63:-1),o(),d(t.studentExamWithGrade!=null&&t.studentExamWithGrade.maxBonusPoints?64:-1),o(),d(t.studentExamWithGrade.studentResult.gradeWithBonus!==void 0?65:-1),o(2),d(!(t.studentExamWithGrade==null||t.studentExamWithGrade.studentResult==null||t.studentExamWithGrade.studentResult.gradeWithBonus==null)&&t.studentExamWithGrade.studentResult.gradeWithBonus.finalGrade?67:68),o(5),d(t.gradingScaleExists?72:-1)}}var ht=(()=>{class i{serverDateService=h(j);exerciseService=h(J);changeDetector=h(fe);IncludedInOverallScore=L;BonusStrategy=ot;studentExamWithGrade;isGradingKeyCollapsed=!0;isBonusGradingKeyCollapsed=!0;exerciseInfos;isTestRun=!1;gradingScaleExists=!1;isBonus=!1;hasPassed=!1;grade;faClipboard=ye;faAward=Ae;faChevronRight=Oe;showIncludedInScoreColumn=!1;maxPoints=0;overallAchievedPoints=0;overallAchievedPercentageRoundedByCourseSettings=0;isBonusGradingKeyDisplayed=!1;showResultOverview=!1;isCollapsed={"grading-table":!1,"grading-key":!0,"bonus-grading-key":!0};ngOnInit(){this.areResultsPublished()&&this.setExamGrade(),this.updateLocalVariables()}ngOnChanges(){this.updateLocalVariables()}areResultsPublished(){return te(this.isTestRun,this.studentExamWithGrade?.studentExam?.exam,this.serverDateService)}updateLocalVariables(){this.showResultOverview=!!(this.areResultsPublished()&&this.hasAtLeastOneResult()),this.showIncludedInScoreColumn=this.containsExerciseThatIsNotIncludedCompletely(),this.maxPoints=this.studentExamWithGrade?.maxPoints??0,this.isBonusGradingKeyDisplayed=this.studentExamWithGrade.studentResult.gradeWithBonus?.bonusGrade!=null,this.overallAchievedPoints=this.getOverallAchievedPoints(),this.overallAchievedPercentageRoundedByCourseSettings=this.getOverallAchievedPercentageRoundedByCourseSettings()}sumExerciseScores(){return(this.studentExamWithGrade.studentExam?.exercises??[]).reduce((t,n)=>{let a=this.studentExamWithGrade?.achievedPointsPerExercise?.[n.id]??0;return t+a},0)}getOverallAchievedPoints(){let t=this.studentExamWithGrade?.studentResult.overallPointsAchieved;return t===void 0||t===0?this.sumExerciseScores():t}getOverallAchievedPercentageRoundedByCourseSettings(){let t=this.studentExamWithGrade.studentResult.overallScoreAchieved;return(t===void 0||t===0)&&(t=this.summedAchievedExerciseScorePercentage()),U(t/100,this.studentExamWithGrade.studentExam?.exam?.course)}summedAchievedExerciseScorePercentage(){let t=0,n=0;return Object.entries(this.exerciseInfos).forEach(([,a])=>{t+=a.achievedPercentage??0,n++}),n===0?0:t/n}containsExerciseThatIsNotIncludedCompletely(){for(let t of this.studentExamWithGrade?.studentExam?.exercises??[])if(t.includedInOverallScore!==L.INCLUDED_COMPLETELY)return!0;return!1}setExamGrade(){this.studentExamWithGrade?.studentResult?.overallGrade!=null&&(this.gradingScaleExists=!0,this.grade=this.studentExamWithGrade.studentResult.overallGrade,this.isBonus=this.studentExamWithGrade.gradeType===Ye.BONUS,this.hasPassed=!!this.studentExamWithGrade.studentResult.hasPassed,this.changeDetector.detectChanges())}getMaxNormalAndBonusPointsSum(){let t=this.studentExamWithGrade?.maxBonusPoints??0;return this.maxPoints+t}scrollToExercise(t){if(t===void 0)return;let n=`exercise-${t}`,a=document.getElementById(n);if(a)a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"});else{let p="Cannot scroll to exercise, could not find exercise with corresponding id";M(new Error(p),{extra:{exerciseId:t,searchedId:n,targetElement:a}})}}hasAtLeastOneResult(){let t=this.studentExamWithGrade?.studentExam?.exercises;return t?.length>0?t.some(n=>n.studentParticipations?.[0]?.results?.length>0):!1}toggleCollapse(t){return()=>this.isCollapsed[t]=!this.isCollapsed[t]}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-exam-result-overview"]],inputs:{studentExamWithGrade:"studentExamWithGrade",isGradingKeyCollapsed:"isGradingKeyCollapsed",isBonusGradingKeyCollapsed:"isBonusGradingKeyCollapsed",exerciseInfos:"exerciseInfos",isTestRun:"isTestRun"},features:[B],decls:1,vars:1,consts:[["jhiTranslate","artemisApp.exam.examSummary.points.overview"],[3,"isCardContentCollapsed","toggleCollapse"],["jhiTranslate","artemisApp.exam.examSummary.resultTable",1,"header","h5"],[1,"container","exam-points-summary-container","collapsible-content"],["id","result-overview-table",1,"table","table-striped","table-hover"],["scope","col"],["scope","col","jhiTranslate","artemisApp.exam.examSummary.points.exercise"],["scope","col","jhiTranslate","artemisApp.exam.examSummary.points.yourPoints"],["scope","col","jhiTranslate","artemisApp.exam.examSummary.points.maxPoints"],["scope","col","jhiTranslate","artemisApp.exam.examSummary.points.achievedPercentage"],[1,"total-footer"],["scope","row","colspan","2","jhiTranslate","artemisApp.exam.examSummary.points.total"],[1,"text-center"],[1,"mx-4","my-auto"],[1,"h5"],["scope","col","jhiTranslate","artemisApp.exercise.includedInOverallScore"],["scope","col","jhiTranslate","artemisApp.exam.examSummary.points.maxBonus"],[3,"click","ngClass"],["scope","row"],[1,"icon-container"],[1,"icon",3,"icon"],["jhiTranslate","artemisApp.exam.examSummary.gradeBeforeBonus"],["jhiTranslate","artemisApp.exam.examSummary.gradeAfterBonus"],["jhiTranslate","artemisApp.exam.examSummary.grade"],[1,"header","h5"],[3,"icon"],["jhiTranslate","artemisApp.exam.examSummary.gradeKey"],[1,"collapsible-content"],[3,"studentGradeOrBonusPointsOrGradeBonus"],["jhiTranslate","artemisApp.exam.examSummary.bonusGradeKey"],[3,"studentGradeOrBonusPointsOrGradeBonus","forBonus"]],template:function(n,a){n&1&&x(0,hi,74,14),n&2&&d(a.showResultOverview?0:-1)},dependencies:[P,ne,z,R,Xe,lt,I],styles:["#result-overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(thead tr):not(tfoot tr){cursor:pointer}#result-overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(thead tr):not(tfoot tr):hover{transform:scale(1.01);transition:transform .1s}.not-included-in-score[_ngcontent-%COMP%]{opacity:.5}.grade[_ngcontent-%COMP%]{color:var(--white);padding:.25em .5em;margin-left:.25em;border-radius:.25em}.passing-grade[_ngcontent-%COMP%]{background-color:var(--success)}.failing-grade[_ngcontent-%COMP%]{background-color:var(--danger)}.total-footer[_ngcontent-%COMP%]{border-top-width:2px}.icon-container[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:24px;height:24px}.grade-results-table-container[_ngcontent-%COMP%]{width:fit-content}"]})}return i})();function Ei(i,l){if(i&1&&(e(0,`
                `),c(1,"fa-icon",3),e(2,`
            `)),i&2){let t=m();o(),u("icon",t.exerciseInfo.icon)}}function vi(i,l){if(i&1&&(e(0,`
                            `),c(1,"fa-icon",6),e(2,`
                        `)),i&2){let t=m(2);o(),u("ngClass",t.exerciseInfo==null?null:t.exerciseInfo.colorClass)("icon",t.exerciseInfo==null?null:t.exerciseInfo.resultIconClass)}}function Si(i,l){if(i&1&&(e(0,`
                            `),s(1,"span",7),e(2),r(),e(3,`
                        `)),i&2){let t=m(2);o(),w(t.exerciseInfo.colorClass),o(),_(" ",t.exerciseInfo.achievedPercentage,"% ")}}function Pi(i,l){if(i&1&&(e(0,`
                `),s(1,"div",4),e(2),f(3,"artemisTranslate"),s(4,"div",5),e(5,`
                        `),x(6,vi,3,2)(7,Si,4,3),r(),e(8,`
                `),r(),e(9,`
            `)),i&2){let t=m();o(2),ce(`
                    [`,t.exerciseInfo==null?null:t.exerciseInfo.achievedPoints," / ",t.exercise.maxPoints," ",C(3,5,"artemisApp.examParticipation.exercisePoints"),`]
                    `),o(4),d(t.exerciseInfo!=null&&t.exerciseInfo.resultIconClass?6:-1),o(),d((t.exerciseInfo==null?null:t.exerciseInfo.achievedPercentage)!==void 0?7:-1)}}function yi(i,l){if(i&1&&(e(0),f(1,"artemisTranslate")),i&2){let t=m();Z(`
                [`,t.exercise.maxPoints," ",C(1,2,"artemisApp.examParticipation.exercisePoints"),`]
            `)}}function bi(i,l){i&1&&(e(0,`
        `),s(1,"div"),e(2,`
            `),c(3,"span",8),e(4,`
        `),r(),e(5,`
    `))}var Et=(()=>{class i{index;exercise;exerciseInfo;resultsPublished;SUBMISSION_TYPE_ILLEGAL="ILLEGAL";static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-result-summary-exercise-card-header"]],inputs:{index:"index",exercise:"exercise",exerciseInfo:"exerciseInfo",resultsPublished:"resultsPublished"},decls:17,vars:6,consts:[[1,"d-flex","align-items-center"],[1,"mb-0",3,"id"],["id","exercise-result-score",1,"ms-3"],[3,"icon"],[1,"d-flex"],[2,"margin-left","1em"],["size","lg",3,"ngClass","icon"],["data-testid","achieved-percentage"],["jhiTranslate","artemisApp.assessment.assessmentIllegalSubmission",1,"badge","bg-danger"]],template:function(n,a){n&1&&(s(0,"div",0),e(1,`
    `),s(2,"div",0),e(3,`
        `),s(4,"h5",1),e(5),x(6,Ei,3,1),e(7),r(),e(8,`
        `),s(9,"div",2),e(10,`
            `),x(11,Pi,10,7)(12,yi,2,4),r(),e(13,`
    `),r(),e(14,`
    `),x(15,bi,6,0),r(),e(16,`
`)),n&2&&(o(4),u("id","exercise-group-title-"+a.exercise.id),o(),_(`
            #`,a.index+1,` \xA0
            `),o(),d(a.exercise!=null&&a.exercise.type&&(a.exerciseInfo!=null&&a.exerciseInfo.icon)?6:-1),o(),_(`
            \xA0
            `,a.exercise.exerciseGroup==null?null:a.exercise.exerciseGroup.title,`
        `),o(4),d(a.resultsPublished&&(a.exerciseInfo==null?null:a.exerciseInfo.achievedPoints)!==void 0?11:12),o(4),d((a.exercise.studentParticipations==null||a.exercise.studentParticipations[0]==null||a.exercise.studentParticipations[0].submissions==null||a.exercise.studentParticipations[0].submissions[0]==null?null:a.exercise.studentParticipations[0].submissions[0].type)===a.SUBMISSION_TYPE_ILLEGAL?15:-1))},dependencies:[R,z,P,I],encapsulation:2})}return i})();function Ii(i,l){if(i&1&&(e(0,`
        `),c(1,"jhi-text-editor",0),e(2,`
    `)),i&2){let t=m();o(),u("participationId",t.exercise.studentParticipations[0].id)("displayHeader",!1)("expandProblemStatement",t.expandProblemStatement)("inputExercise",t.isAfterResultsArePublished?void 0:t.exercise)("inputParticipation",t.isAfterResultsArePublished?void 0:t.exercise.studentParticipations[0])("inputSubmission",t.isAfterResultsArePublished?void 0:t.submission)("isExamSummary",!0)}}function Ti(i,l){i&1&&(e(0,`
        `),s(1,"div"),e(2,"No submission"),r(),e(3,`
    `))}var vt=(()=>{class i{exercise;submission;expandProblemStatement=!1;isAfterResultsArePublished=!1;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-text-exam-summary"]],inputs:{exercise:"exercise",submission:"submission",expandProblemStatement:"expandProblemStatement",isAfterResultsArePublished:"isAfterResultsArePublished"},decls:5,vars:1,consts:[[3,"participationId","displayHeader","expandProblemStatement","inputExercise","inputParticipation","inputSubmission","isExamSummary"]],template:function(n,a){n&1&&(s(0,"div"),e(1,`
    `),x(2,Ii,3,7)(3,Ti,4,0),r(),e(4,`
`)),n&2&&(o(2),d(!(a.exercise==null||a.exercise.studentParticipations==null)&&a.exercise.studentParticipations.length&&(!(a.exercise==null||a.exercise.studentParticipations==null||a.exercise.studentParticipations[0]==null)&&a.exercise.studentParticipations[0].id)?2:3))},dependencies:[ct],encapsulation:2})}return i})();function Oi(i,l){if(i&1&&(e(0,`
        `),c(1,"jhi-modeling-submission",0),e(2,`
    `)),i&2){let t=m();o(),u("participationId",t.exercise.studentParticipations[0].id)("displayHeader",!1)("isPrinting",t.isPrinting)("expandProblemStatement",t.expandProblemStatement)("inputExercise",t.isAfterResultsArePublished?void 0:t.exercise)("inputSubmission",t.isAfterResultsArePublished?void 0:t.submission)("inputParticipation",t.isAfterResultsArePublished?void 0:t.exercise.studentParticipations[0])("isExamSummary",!0)}}function Ai(i,l){i&1&&(e(0,`
        `),s(1,"div"),e(2,"No submission"),r(),e(3,`
    `))}var St=(()=>{class i{exercise;submission;isPrinting=!1;expandProblemStatement=!1;isAfterResultsArePublished=!1;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-modeling-exam-summary"]],inputs:{exercise:"exercise",submission:"submission",isPrinting:"isPrinting",expandProblemStatement:"expandProblemStatement",isAfterResultsArePublished:"isAfterResultsArePublished"},decls:5,vars:1,consts:[[3,"participationId","displayHeader","isPrinting","expandProblemStatement","inputExercise","inputSubmission","inputParticipation","isExamSummary"]],template:function(n,a){n&1&&(s(0,"div"),e(1,`
    `),x(2,Oi,3,8)(3,Ai,4,0),r(),e(4,`
`)),n&2&&(o(2),d(!(a.exercise==null||a.exercise.studentParticipations==null)&&a.exercise.studentParticipations.length&&(!(a.exercise==null||a.exercise.studentParticipations==null||a.exercise.studentParticipations[0]==null)&&a.exercise.studentParticipations[0].id)?2:3))},dependencies:[xt],encapsulation:2})}return i})();function Ri(i,l){i&1&&(e(0,`
            `),c(1,"div",1),e(2,`
        `))}function wi(i,l){if(i&1&&(e(0,`
                    `),c(1,"jhi-multiple-choice-question",3),e(2,`
                `)),i&2){let t=m(),n=t.$implicit,a=t.$index,p=m(2);o(),H("id","question",a,""),u("question",n)("selectedAnswerOptions",p.selectedAnswerOptions.get(n.id))("clickDisabled",!0)("showResult",p.resultsPublished&&!p.showMissingResultsNotice)("quizQuestions",p.quizParticipation.quizQuestions)("submittedResult",p.result)("forceSampleSolution",!1)("questionIndex",a+1)("score",p.getScoreForQuizQuestion(n.id))}}function Mi(i,l){if(i&1&&(e(0,`
                    `),c(1,"jhi-drag-and-drop-question",4),e(2,`
                `)),i&2){let t=m(),n=t.$implicit,a=t.$index,p=m(2);o(),H("id","question",a,""),u("question",n)("mappings",p.dragAndDropMappings.get(n.id))("clickDisabled",!0)("showResult",p.resultsPublished&&!p.showMissingResultsNotice)("forceSampleSolution",!1)("questionIndex",a+1)("score",p.getScoreForQuizQuestion(n.id))}}function Gi(i,l){if(i&1&&(e(0,`
                    `),c(1,"jhi-short-answer-question",5),e(2,`
                `)),i&2){let t=m(),n=t.$implicit,a=t.$index,p=m(2);o(),H("id","question",a,""),u("question",n)("submittedTexts",p.shortAnswerSubmittedTexts.get(n.id))("clickDisabled",!0)("showResult",p.resultsPublished&&!p.showMissingResultsNotice)("forceSampleSolution",!1)("questionIndex",a+1)("score",p.getScoreForQuizQuestion(n.id))}}function Di(i,l){if(i&1&&(e(0,`
            `),s(1,"div",2),e(2,`
                `),x(3,wi,3,11)(4,Mi,3,9)(5,Gi,3,9),r(),e(6,`
        `)),i&2){let t=l.$implicit,n=m(2);o(3),d(t.type===n.MULTIPLE_CHOICE?3:-1),o(),d(t.type===n.DRAG_AND_DROP?4:-1),o(),d(t.type===n.SHORT_ANSWER?5:-1)}}function Bi(i,l){if(i&1&&(e(0,`
    `),s(1,"div",0),e(2,`
        `),x(3,Ri,3,0),F(4,Di,7,3,null,null,q),r(),e(6,`
`)),i&2){let t=m();o(3),d(t.showMissingResultsNotice?3:-1),o(),k(t.quizParticipation.quizQuestions)}}var Pt=(()=>{class i{serverDateService=h(j);DRAG_AND_DROP=G.DRAG_AND_DROP;MULTIPLE_CHOICE=G.MULTIPLE_CHOICE;SHORT_ANSWER=G.SHORT_ANSWER;selectedAnswerOptions=new Map;dragAndDropMappings=new Map;shortAnswerSubmittedTexts=new Map;quizParticipation;submission;resultsPublished;exam;result;ngOnChanges(){this.updateViewFromSubmission(),this.quizParticipation.studentParticipations?this.result=this.quizParticipation.studentParticipations.length>0&&this.quizParticipation.studentParticipations[0].results?.length?this.quizParticipation.studentParticipations[0].results[0]:void 0:this.result=this.submission.results?.length?this.submission.results[0]:void 0}updateViewFromSubmission(){this.selectedAnswerOptions=new Map,this.dragAndDropMappings=new Map,this.shortAnswerSubmittedTexts=new Map,this.quizParticipation.quizQuestions&&this.submission&&this.quizParticipation.quizQuestions.forEach(t=>{let n=this.submission.submittedAnswers?this.submission.submittedAnswers.find(a=>a.quizQuestion.id===t.id):void 0;if(t.type===G.MULTIPLE_CHOICE)if(n){let a=n.selectedOptions;this.selectedAnswerOptions.set(t.id,a||[])}else this.selectedAnswerOptions.set(t.id,[]);else if(t.type===G.DRAG_AND_DROP)if(n){let a=n.mappings;this.dragAndDropMappings.set(t.id,a||[])}else this.dragAndDropMappings.set(t.id,[]);else if(t.type===G.SHORT_ANSWER)if(n){let a=n.submittedTexts;this.shortAnswerSubmittedTexts.set(t.id,a||[])}else this.shortAnswerSubmittedTexts.set(t.id,[]);else M("Unknown question type: "+t)},this)}getScoreForQuizQuestion(t){if(this.submission&&this.submission.submittedAnswers&&this.submission.submittedAnswers.length>0){let n=this.submission.submittedAnswers.find(a=>a&&a.quizQuestion?a.quizQuestion.id===t:!1);if(n&&n.scoreInPoints!==void 0)return qe(n.scoreInPoints,this.exam.course)}return 0}get showMissingResultsNotice(){return this.exam&&this.exam.publishResultsDate&&this.quizParticipation.studentParticipations&&this.quizParticipation.studentParticipations.length>0?y(this.exam.publishResultsDate).isBefore(this.serverDateService.now())&&!this.result:!1}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-quiz-exam-summary"]],inputs:{quizParticipation:"quizParticipation",submission:"submission",resultsPublished:"resultsPublished",exam:"exam"},features:[B],decls:1,vars:1,consts:[[1,"quiz-container"],["jhiTranslate","artemisApp.exam.examSummary.missingResultNotice",1,"alert","alert-info","mb-2"],[1,"quiz-content"],[1,"quiz-question",3,"id","question","selectedAnswerOptions","clickDisabled","showResult","quizQuestions","submittedResult","forceSampleSolution","questionIndex","score"],[1,"quiz-question",3,"id","question","mappings","clickDisabled","showResult","forceSampleSolution","questionIndex","score"],[1,"quiz-question",3,"id","question","submittedTexts","clickDisabled","showResult","forceSampleSolution","questionIndex","score"]],template:function(n,a){n&1&&x(0,Bi,7,1),n&2&&d(a.quizParticipation.quizQuestions&&a.quizParticipation.quizQuestions.length>0?0:-1)},dependencies:[P,ut,pt,ft],encapsulation:2})}return i})();function qi(i,l){if(i&1&&(e(0,`
        `),c(1,"jhi-file-upload-submission",0),e(2,`
    `)),i&2){let t=m();o(),u("participationId",t.exercise.studentParticipations[0].id)("displayHeader",!1)("expandProblemStatement",t.expandProblemStatement)("displayedInExamSummary",!0)("inputExercise",t.isAfterResultsArePublished?void 0:t.exercise)("inputSubmission",t.isAfterResultsArePublished?void 0:t.submission)("inputParticipation",t.isAfterResultsArePublished?void 0:t.exercise.studentParticipations[0])}}function Fi(i,l){i&1&&(e(0,`
        `),s(1,"div"),e(2,"No submission"),r(),e(3,`
    `))}var yt=(()=>{class i{submission;exercise;expandProblemStatement=!1;isAfterResultsArePublished=!1;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-file-upload-exam-summary"]],inputs:{submission:"submission",exercise:"exercise",expandProblemStatement:"expandProblemStatement",isAfterResultsArePublished:"isAfterResultsArePublished"},decls:5,vars:1,consts:[[3,"participationId","displayHeader","expandProblemStatement","displayedInExamSummary","inputExercise","inputSubmission","inputParticipation"]],template:function(n,a){n&1&&(s(0,"div"),e(1,`
    `),x(2,qi,3,7)(3,Fi,4,0),r(),e(4,`
`)),n&2&&(o(2),d(!(a.exercise==null||a.exercise.studentParticipations==null)&&a.exercise.studentParticipations.length&&(!(a.exercise==null||a.exercise.studentParticipations==null||a.exercise.studentParticipations[0]==null)&&a.exercise.studentParticipations[0].id)?2:3))},dependencies:[_t],encapsulation:2})}return i})();var ki=i=>[i],zi=(i,l)=>["..","programming-exercises",i,"repository","USER",l],ji=(i,l,t)=>[i,"exercises",l,"repository",t];function Wi(i,l){i&1&&(e(0,`
                        `),c(1,"h5",6),e(2,`
                    `))}function Ni(i,l){i&1&&(e(0,`
                            `),c(1,"span",7),e(2,`
                        `))}function Li(i,l){if(i&1&&(e(0,`
                            `),s(1,"a",8),e(2),f(3,"artemisTranslate"),r(),e(4,`
                        `)),i&2){let t=m();o(),u("href",t.commitUrl,re),o(),_(`
                                `,t.commitHash||C(3,2,"artemisApp.exam.examSummary.noCommitHash"),`
                            `)}}function Ui(i,l){if(i&1&&(e(0),f(1,"artemisTranslate")),i&2){let t=m();_(`
                            `,t.commitHash||C(1,1,"artemisApp.exam.examSummary.noCommitHash"),`
                        `)}}function $i(i,l){i&1&&(e(0,`
                        `),c(1,"h5",9),e(2,`
                    `))}function Ki(i,l){if(i&1&&(e(0,`
                        `),c(1,"jhi-result-detail",10),e(2,`
                    `)),i&2){let t,n,a=m(2);o(),u("exercise",a.feedbackComponentParameters.exercise)("result",a.feedbackComponentParameters.result)("showScoreChart",!1)("exerciseType",(t=a.feedbackComponentParameters.exerciseType)!==null&&t!==void 0?t:a.ExerciseType.PROGRAMMING)("latestDueDate",a.feedbackComponentParameters.latestDueDate)("messageKey",a.feedbackComponentParameters.messageKey)("showMissingAutomaticFeedbackInformation",(n=a.feedbackComponentParameters.showMissingAutomaticFeedbackInformation)!==null&&n!==void 0?n:!1)("isExamReviewPage",!0)("isPrinting",a.isPrinting)}}function Qi(i,l){if(i&1&&(e(0,`
                    `),x(1,$i,3,0)(2,Ki,3,9)),i&2){let t=m();o(),d(t.submission?1:-1),o(),d(t.feedbackComponentParameters&&t.feedbackComponentParameters.result?2:-1)}}function Vi(i,l){if(i&1&&(e(0,`
                    `),c(1,"jhi-programming-exercise-instructions",11),e(2,`
                `)),i&2){let t=m();o(),u("exercise",t.exercise)("participation",t.participation)("personalParticipation",!t.instructorView)}}function Hi(i,l){if(i&1&&(e(0,`
        `),c(1,"jhi-complaint-student-view",12),e(2,`
    `)),i&2){let t,n=m();o(),u("exercise",n.exercise)("participation",n.participation)("result",(t=n.participation.results==null?null:n.participation.results[0])!==null&&t!==void 0?t:n.submission==null||n.submission.results==null?null:n.submission.results[0])("exam",n.exam)("testRun",n.isTestRun)}}var bt=(()=>{class i{exerciseService=h(J);exerciseCacheService=h(Ke,{optional:!0});profileService=h(we);router=h(Ce);exercise;participation;submission;isTestRun=!1;exam;isAfterStudentReviewStart=!1;resultsPublished=!1;isPrinting=!1;isAfterResultsArePublished=!1;instructorView=!1;PROGRAMMING=b.PROGRAMMING;AssessmentType=Y;ProgrammingExercise=ke;ExerciseType=b;result;feedbackComponentParameters;commitUrl;commitHash;routerLink;localVCEnabled=!1;isInCourseManagement=!1;ngOnInit(){this.routerLink=this.router.url,this.result=this.participation.results?.[0],this.commitHash=this.submission?.commitHash?.slice(0,11),this.isInCourseManagement=this.router.url.includes("course-management");let t=!1,n=Ne.NONE,a=ee(this.exercise,this.participation,this.participation.results?.[0],t,n);this.result&&(this.feedbackComponentParameters=Qe(this.exercise,this.result,this.participation,a,this.exam.latestIndividualEndDate,this.exerciseCacheService??this.exerciseService)),this.updateCommitUrl()}updateCommitUrl(){this.profileService.getProfileInfo().subscribe(t=>{let n=t?.commitHashURLTemplate;this.commitUrl=je(n,this.exercise.projectKey,this.participation,this.submission),this.localVCEnabled=t.activeProfiles?.includes(Ge)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-programming-exam-summary"]],inputs:{exercise:"exercise",participation:"participation",submission:"submission",isTestRun:"isTestRun",exam:"exam",isAfterStudentReviewStart:"isAfterStudentReviewStart",resultsPublished:"resultsPublished",isPrinting:"isPrinting",isAfterResultsArePublished:"isAfterResultsArePublished",instructorView:"instructorView"},decls:37,vars:19,consts:[[1,"row","gx-5"],[1,"col-md-4"],[1,"mb-4"],[3,"smallButtons","participations","repositoryUri","routerLinkForRepositoryView"],[1,"col-md-8"],["jhiTranslate","artemisApp.exam.examSummary.problemStatement"],["jhiTranslate","artemisApp.exam.examSummary.yourSubmission"],["jhiTranslate","artemisApp.exam.examSummary.submissionLinkedToCommit"],["target","_blank","rel","noopener noreferrer",3,"href"],["jhiTranslate","artemisApp.exam.examSummary.assessment"],[3,"exercise","result","showScoreChart","exerciseType","latestDueDate","messageKey","showMissingAutomaticFeedbackInformation","isExamReviewPage","isPrinting"],[3,"exercise","participation","personalParticipation"],[1,"mb-2","mt-2","ms-3",3,"exercise","participation","result","exam","testRun"]],template:function(n,a){if(n&1&&(W(0),e(1,`
    `),s(2,"div"),e(3,`
        `),s(4,"div",0),e(5,`
            `),s(6,"div",1),e(7,`
                `),s(8,"div",2),e(9,`
                    `),x(10,Wi,3,0),s(11,"h1"),e(12,"Programming exam summary"),r(),e(13,`
                    `),c(14,"jhi-code-button",3),e(15,`
                    `),c(16,"br"),e(17,`
                    `),s(18,"span"),e(19,`
                        `),x(20,Ni,3,0)(21,Li,5,4)(22,Ui,2,3),r(),e(23,`
                `),r(),e(24,`
                `),x(25,Qi,3,2),r(),e(26,`
            `),s(27,"div",4),e(28,`
                `),c(29,"h5",5),e(30,`
                `),x(31,Vi,3,3),r(),e(32,`
        `),r(),e(33,`
    `),r(),e(34,`
    `),x(35,Hi,3,5),N(),e(36,`
`)),n&2){let p;o(10),d(a.submission?10:-1),o(4),u("smallButtons",!0)("participations",ue(10,ki,a.participation))("repositoryUri",(p=a.participation==null?null:a.participation.userIndependentRepositoryUri)!==null&&p!==void 0?p:"")("routerLinkForRepositoryView",a.isInCourseManagement?T(12,zi,a.exercise.id,a.participation.id):pe(15,ji,a.routerLink,a.exercise.id,a.participation.id)),o(6),d(a.submission?20:-1),o(),d(a.commitUrl?21:22),o(4),d(a.isAfterResultsArePublished?25:-1),o(6),d(a.exercise.problemStatement?31:-1),o(4),d((a.exercise.assessmentType===a.AssessmentType.SEMI_AUTOMATIC||a.exercise.allowComplaintsForAutomaticAssessments)&&a.submission&&a.isAfterStudentReviewStart?35:-1)}},dependencies:[P,Ze,$e,He,ie,I],encapsulation:2})}return i})();var Zi=(i,l)=>["/courses",i,"plagiarism-cases",l];function Xi(i,l){i&1&&(e(0,`
    `),s(1,"div",6),e(2,`
        `),c(3,"strong",7),e(4,`
    `),r(),e(5,`
`))}function Yi(i,l){if(i&1&&(e(0,`
    `),s(1,"div"),e(2,`
        `),c(3,"jhi-exam-general-information",8),e(4,`
    `),r(),e(5,`
`)),i&2){let t=m();o(3),u("exam",t.studentExam.exam)("studentExam",t.studentExam)("reviewIsOpen",((t.studentExam==null?null:t.studentExam.exam)||!1)&&t.isBeforeStudentReviewEnd&&t.isAfterStudentReviewStart&&!t.isTestRun)}}function Ji(i,l){if(i&1&&(e(0,`
    `),s(1,"div",9),e(2,`
        `),c(3,"jhi-exam-result-overview",10),e(4,`
    `),r(),e(5,`
`)),i&2){let t=m();o(3),u("studentExamWithGrade",t.studentExamGradeInfoDTO)("isGradingKeyCollapsed",t.isGradingKeyCollapsed)("isBonusGradingKeyCollapsed",t.isBonusGradingKeyCollapsed)("exerciseInfos",t.exerciseInfos)("isTestRun",t.isTestRun)}}function en(i,l){if(i&1&&(e(0,`
    `),s(1,"div",11),e(2,`
        `),c(3,"fa-icon",12),e(4),f(5,"artemisTranslate"),r(),e(6,`
`)),i&2){let t=m();o(3),u("icon",t.faInfoCircle),o(),_(`
        `,C(5,2,"artemisApp.exam.resultInformation"),`
    `)}}function tn(i,l){if(i&1&&(e(0,`
                            `),s(1,"a",20),e(2,`
                                `),s(3,"span",21),e(4,`
                                    Plagiarism Case
                                `),r(),e(5,`
                            `),r(),e(6,`
                        `)),i&2){let t=m().$implicit,n=m();o(),u("ngClass",n.plagiarismCaseInfos[t.id].verdict===n.PlagiarismVerdict.NO_PLAGIARISM?"btn-info":"btn-danger")("routerLink",T(3,Zi,n.courseId,n.plagiarismCaseInfos[t.id].id)),o(2),u("jhiTranslate","artemisApp.plagiarism.plagiarismCases."+(n.plagiarismCaseInfos[t.id].verdict===n.PlagiarismVerdict.NO_PLAGIARISM?"resolvedPlagiarismCase":"plagiarismCase"))}}function nn(i,l){i&1&&(e(0,`
                                `),c(1,"span",22),e(2,`
                            `))}function an(i,l){i&1&&(e(0,`
                                        `),s(1,"span"),e(2),f(3,"artemisTranslate"),r(),e(4,`
                                    `)),i&2&&(o(2),_("\xA0",C(3,1,"artemisApp.exam.examSummary.showExampleSolution"),"\xA0"))}function on(i,l){i&1&&(e(0),f(1,"artemisTranslate")),i&2&&_(`
                                        `,C(1,1,"artemisApp.exam.examSummary.hideExampleSolution"),`
                                    `)}function sn(i,l){if(i&1){let t=V();e(0,`
                                `),s(1,"button",23),A("click",function(){$(t);let a=m(2).$implicit,p=m();return K(p.toggleShowSampleSolution(a.id))}),e(2,`
                                    `),c(3,"fa-icon",12),e(4,`
                                    `),x(5,an,5,3)(6,on,2,3),r(),e(7,`
                            `)}if(i&2){let t=m(2).$implicit,n=m();o(),w(n.exerciseInfos[t.id].displayExampleSolution?"btn-primary":"btn-outline-primary"),u("id","show-sample-solution-button-"+t.id),o(2),u("icon",n.exerciseInfos[t.id].displayExampleSolution?n.faEyeSlash:n.faEye),o(2),d(n.exerciseInfos[t.id].displayExampleSolution?6:5)}}function rn(i,l){if(i&1&&(e(0,`
                                    `),c(1,"jhi-programming-exercise-example-solution-repo-download",25),f(2,"artemisTranslate"),e(3,`
                                `)),i&2){let t=m(3).$implicit;o(),de("ngbTooltip",C(2,5,"artemisApp.programmingExercise.studentDownloadTestsTooltip")),u("exerciseId",t.id)("includeTests",!0)("title","artemisApp.programmingExercise.export.downloadTestsWithExampleSolution")("displayedOnExamSummary",!0)}}function ln(i,l){if(i&1&&(e(0,`
                                `),c(1,"jhi-programming-exercise-example-solution-repo-download",24),e(2,`
                                `),x(3,rn,4,7)),i&2){let t=m(2).$implicit,n=m();o(),u("exerciseId",t.id)("title","artemisApp.programmingExercise.export.downloadExampleSolution")("displayedOnExamSummary",!0),o(2),d(n.exerciseInfos[t.id].releaseTestsWithExampleSolution?3:-1)}}function mn(i,l){if(i&1&&(e(0,`
                            `),x(1,nn,3,0)(2,sn,8,5)(3,ln,4,4)),i&2){let t=m().$implicit,n=m();o(),d(n.exerciseInfos[t.id].displayExampleSolution?1:-1),o(),d(t.type!==n.QUIZ&&t.type!==n.PROGRAMMING?2:-1),o(),d(t.type===n.PROGRAMMING?3:-1)}}function dn(i,l){if(i&1&&(e(0,`
                                    `),c(1,"jhi-example-solution",27),e(2,`
                                `)),i&2){let t=m(3).$implicit;o(),u("exerciseId",t.id)("displayHeader",!1)}}function cn(i,l){if(i&1&&(e(0,`
                            `),s(1,"div"),e(2,`
                                `),x(3,dn,3,2),r(),e(4,`
                        `)),i&2){let t=m(2).$implicit;o(3),d(t.id!==void 0?3:-1)}}function xn(i,l){i&1&&(e(0,`
                                    `),c(1,"div",28),e(2,`
                                `))}function un(i,l){if(i&1&&(e(0,`
                                        `),c(1,"jhi-text-exam-summary",29),e(2,`
                                    `)),i&2){let t=m(4).$implicit,n=m();o(),u("exercise",t)("submission",n.exerciseInfos[t.id].submission)("expandProblemStatement",n.expandProblemStatement)("isAfterResultsArePublished",n.resultsArePublished)}}function pn(i,l){if(i&1&&(e(0,`
                                        `),c(1,"jhi-modeling-exam-summary",30),e(2,`
                                    `)),i&2){let t=m(4).$implicit,n=m();o(),u("exercise",t)("submission",n.exerciseInfos[t.id].submission)("isPrinting",n.isPrinting)("expandProblemStatement",n.expandProblemStatement)("isAfterResultsArePublished",n.resultsArePublished)}}function fn(i,l){if(i&1&&(e(0,`
                                        `),c(1,"jhi-quiz-exam-summary",31),e(2,`
                                    `)),i&2){let t=m(4).$implicit,n=m();o(),u("quizParticipation",t)("exam",n.studentExam.exam)("submission",n.exerciseInfos[t.id].submission)("resultsPublished",n.resultsArePublished)}}function _n(i,l){if(i&1&&(e(0,`
                                        `),c(1,"jhi-file-upload-exam-summary",32),e(2,`
                                    `)),i&2){let t=m(4).$implicit,n=m();o(),u("submission",n.exerciseInfos[t.id].submission)("exercise",t)("expandProblemStatement",n.expandProblemStatement)("isAfterResultsArePublished",n.resultsArePublished)}}function Cn(i,l){if(i&1&&(e(0,`
                                    `),c(1,"jhi-complaint-student-view",33),e(2,`
                                `)),i&2){let t=m(4).$implicit,n=m();o(),u("exercise",t)("participation",n.exerciseInfos[t.id].participation)("result",n.exerciseInfos[t.id].participation.results==null?null:n.exerciseInfos[t.id].participation.results[0])("exam",n.examWithOnlyIdAndStudentReviewPeriod)("testRun",n.isTestRun)}}function gn(i,l){if(i&1&&(e(0,`
                                `),x(1,xn,3,0)(2,un,3,4)(3,pn,3,5)(4,fn,3,4)(5,_n,3,4),e(6,`
                                `),x(7,Cn,3,5)),i&2){let t,n=m(3).$implicit,a=m();o(),d(!(a.exerciseInfos[n.id]==null||a.exerciseInfos[n.id].submission==null)&&a.exerciseInfos[n.id].submission.submitted?-1:1),o(),d((t=n.type)===a.TEXT?2:t===a.MODELING?3:t===a.QUIZ?4:t===a.FILE_UPLOAD?5:-1),o(5),d(a.exerciseInfos[n.id]!=null&&a.exerciseInfos[n.id].submission&&n.type!==a.QUIZ&&a.isAfterStudentReviewStart&&(!(a.exerciseInfos[n.id]==null||a.exerciseInfos[n.id].submission==null)&&a.exerciseInfos[n.id].submission.submitted)?7:-1)}}function hn(i,l){if(i&1&&(e(0,`
                            `),x(1,gn,8,3)),i&2){let t=m(2).$implicit,n=m();o(),d(n.exerciseInfos[t.id]!=null&&n.exerciseInfos[t.id].participation?1:-1)}}function En(i,l){if(i&1&&(e(0,`
                    `),W(1,26),e(2,`
                        `),x(3,cn,5,1)(4,hn,2,1),N(),e(5,`
                `)),i&2){let t=m().$implicit,n=m();o(3),d(n.exerciseInfos[t.id].displayExampleSolution?3:4)}}function vn(i,l){i&1&&(e(0,`
                        `),c(1,"div",28),e(2,`
                    `))}function Sn(i,l){if(i&1&&(e(0,`
                        `),c(1,"jhi-programming-exam-summary",34),e(2,`
                    `)),i&2){let t=m(2).$implicit,n=m();o(),u("exercise",t)("participation",n.exerciseInfos[t.id].participation)("submission",n.exerciseInfos[t.id].submission)("isTestRun",n.isTestRun)("exam",n.examWithOnlyIdAndStudentReviewPeriod)("isAfterStudentReviewStart",n.isAfterStudentReviewStart)("resultsPublished",n.resultsArePublished)("isPrinting",n.isPrinting)("isAfterResultsArePublished",n.resultsArePublished)("instructorView",n.instructorView)}}function Pn(i,l){if(i&1&&(e(0,`
                    `),e(1,`
                    `),x(2,vn,3,0)(3,Sn,3,10)),i&2){let t=m().$implicit,n=m();o(2),d(n.exerciseInfos[t.id]!=null&&n.exerciseInfos[t.id].submission?-1:2),o(),d(n.exerciseInfos[t.id]!=null&&n.exerciseInfos[t.id].participation?3:-1)}}function yn(i,l){if(i&1&&(e(0,`
    `),s(1,"div",13),e(2,`
        `),s(3,"jhi-collapsible-card",14),e(4,`
            `),s(5,"div",15),e(6,`
                `),c(7,"jhi-result-summary-exercise-card-header",16),e(8,`
            `),r(),e(9,`
            `),s(10,"div",17),e(11,`
                `),s(12,"div",18),e(13,`
                    `),s(14,"span",19),e(15,`
                        `),x(16,tn,7,6)(17,mn,4,3),r(),e(18,`
                `),r(),e(19,`
                `),x(20,En,6,1)(21,Pn,4,2),r(),e(22,`
        `),r(),e(23,`
    `),r(),e(24,`
`)),i&2){let t=l.$implicit,n=l.$index,a=m();o(),u("id","exercise-"+t.id),o(2),u("isCardContentCollapsed",a.exerciseInfos[t.id].isCollapsed)("toggleCollapse",a.toggleCollapseExercise(a.exerciseInfos[t.id])),o(4),u("index",n)("exercise",t)("exerciseInfo",a.exerciseInfos[t.id])("resultsPublished",a.resultsArePublished),o(9),d(a.plagiarismCaseInfos[t.id]?16:-1),o(),d(a.exampleSolutionPublished?17:-1),o(3),d(t.type!==a.PROGRAMMING?20:-1),o(),d(t.type===a.PROGRAMMING?21:-1)}}var us=(()=>{class i{route=h(_e);serverDateService=h(j);themeService=h(Be);examParticipationService=h(De);plagiarismCasesService=h(Je);alertService=h(Me);TEXT=b.TEXT;QUIZ=b.QUIZ;MODELING=b.MODELING;PROGRAMMING=b.PROGRAMMING;FILE_UPLOAD=b.FILE_UPLOAD;AssessmentType=Y;IncludedInOverallScore=L;PlagiarismVerdict=et;faFolderOpen=Pe;faInfoCircle=Ie;faPrint=Re;faEye=be;faEyeSlash=ve;faArrowUp=Te;_studentExam;plagiarismCaseInfos={};exampleSolutionPublished=!1;get studentExam(){return this._studentExam}set studentExam(t){this._studentExam=t,this.studentExamGradeInfoDTO&&(this.studentExamGradeInfoDTO.studentExam=t),this.tryLoadPlagiarismCaseInfosForStudent()}studentExamGradeInfoDTO;isGradingKeyCollapsed=!0;isBonusGradingKeyCollapsed=!0;instructorView=!1;courseId;isTestRun=!1;isTestExam=!1;testRunConduction=!1;testExamConduction=!1;examWithOnlyIdAndStudentReviewPeriod;isBeforeStudentReviewEnd=!1;isAfterStudentReviewStart=!1;exerciseInfos;isPrinting=!1;expandProblemStatement=!1;ngOnInit(){if(this.isTestRun=this.route.snapshot.url[1]?.toString()==="test-runs",this.isTestExam=this.studentExam.exam.testExam,this.testRunConduction=this.isTestRun&&this.route.snapshot.url[3]?.toString()==="conduction",this.testExamConduction=this.isTestExam&&!this.studentExam.submitted,this.courseId=Number(this.route.snapshot?.paramMap?.get("courseId")||this.route.parent?.parent?.snapshot.paramMap.get("courseId")),!this.studentExam?.id)throw new Error("studentExam.id should be present to fetch grade info");if(!this.studentExam?.exam?.id)throw new Error("studentExam.exam.id should be present to fetch grade info");if(!this.studentExam?.user?.id)throw new Error("studentExam.user.id should be present to fetch grade info");te(this.isTestRun,this.studentExam.exam,this.serverDateService)&&this.examParticipationService.loadStudentExamGradeInfoForSummary(this.courseId,this.studentExam.exam.id,this.studentExam.id,this.studentExam.user.id).subscribe(t=>{t.studentExam=this.studentExam,this.studentExamGradeInfoDTO=t,this.exerciseInfos=this.getExerciseInfos(t)}),this.exampleSolutionPublished=!!this.studentExam.exam?.exampleSolutionPublicationDate&&y().isAfter(this.studentExam.exam.exampleSolutionPublicationDate),this.exerciseInfos=this.getExerciseInfos(),this.setExamWithOnlyIdAndStudentReviewPeriod(),this.isBeforeStudentReviewEnd=this.getIsBeforeStudentReviewEnd(),this.isAfterStudentReviewStart=this.getIsAfterStudentReviewStart()}get resultsArePublished(){return this.isTestRun||this.isTestExam?!0:this.testRunConduction||this.testExamConduction?!1:this.studentExam?.exam?.publishResultsDate?y(this.studentExam.exam.publishResultsDate).isBefore(y()):!1}tryLoadPlagiarismCaseInfosForStudent(){if(this.studentExam?.exam?.endDate){let n=y(this.studentExam.exam.endDate).add(2,"hours");if(y().isBefore(n))return}let t=this.studentExam?.exercises?.map(n=>n.id);t?.length&&this.courseId&&this.plagiarismCasesService.getPlagiarismCaseInfosForStudent(this.courseId,t).subscribe(n=>{this.plagiarismCaseInfos=n.body??{}})}printPDF(){return se(this,null,function*(){let t=this.expandExercisesAndGradingKeysBeforePrinting();this.isPrinting=!0,this.expandProblemStatement=!0,yield this.themeService.print(),this.isPrinting=!1,this.expandProblemStatement=!1,this.resetExpandingExercisesAndGradingKeys(t)})}scrollToOverviewOrTop(){let n=document.getElementById("exam-summary-result-overview")||document.getElementById("exam-results-title");n&&n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}expandExercisesAndGradingKeysBeforePrinting(){let t={exerciseInfos:X(this.exerciseInfos),isGradingKeyCollapsed:X(this.isGradingKeyCollapsed),isBonusGradingKeyCollapsed:X(this.isBonusGradingKeyCollapsed)};return this.expandExercises(),this.isGradingKeyCollapsed=!1,this.isBonusGradingKeyCollapsed=!1,t}resetExpandingExercisesAndGradingKeys(t){this.exerciseInfos=t.exerciseInfos,this.isGradingKeyCollapsed=t.isGradingKeyCollapsed,this.isBonusGradingKeyCollapsed=t.isBonusGradingKeyCollapsed}expandExercises(){Object.entries(this.exerciseInfos).forEach(t=>{t[1].isCollapsed=!1})}generateLink(t){if(t?.studentParticipations?.length)return["/courses",this.courseId,`${t.type}-exercises`,t.id,"participate",t.studentParticipations[0].id]}getSubmissionForExercise(t){return t?.studentParticipations?.[0]?.submissions?.[0]}getParticipationForExercise(t){return t.studentParticipations?.[0]||void 0}setExamWithOnlyIdAndStudentReviewPeriod(){let t=new ze;t.id=this.studentExam?.exam?.id,t.examStudentReviewStart=this.studentExam?.exam?.examStudentReviewStart,t.examStudentReviewEnd=this.studentExam?.exam?.examStudentReviewEnd,t.course=this.studentExam?.exam?.course,this.examWithOnlyIdAndStudentReviewPeriod=t}getIsAfterStudentReviewStart(){return this.isTestRun||this.isTestExam?!0:this.studentExam?.exam?.examStudentReviewStart&&this.studentExam.exam.examStudentReviewEnd?this.serverDateService.now().isAfter(this.studentExam.exam.examStudentReviewStart):!1}getIsBeforeStudentReviewEnd(){return this.isTestRun||this.isTestExam?!0:this.studentExam?.exam?.examStudentReviewStart&&this.studentExam.exam.examStudentReviewEnd?this.serverDateService.now().isBefore(this.studentExam.exam.examStudentReviewEnd):!1}getExerciseInfos(t){let n={};for(let a of this.studentExam?.exercises??[]){if(a.id===void 0){this.alertService.error("artemisApp.exam.error.cannotDisplayExerciseDetails",{exerciseGroupTitle:a.exerciseGroup?.title});let D="Cannot getExerciseInfos as exerciseId is undefined";M(new Error(D),{extra:{exercise:a}});continue}let{textColorClass:p,resultIconClass:v}=this.getTextColorAndIconClassByExercise(a);n[a.id]={icon:oe(a.type),isCollapsed:!1,achievedPoints:this.getPointsByExerciseIdFromExam(a.id,t),achievedPercentage:this.getAchievedPercentageByExerciseId(a.id,t),colorClass:p,resultIconClass:v,submission:this.getSubmissionForExercise(a),participation:this.getParticipationForExercise(a),displayExampleSolution:!1,releaseTestsWithExampleSolution:a.type===b.PROGRAMMING&&!!a.releaseTestsWithExampleSolution}}return n}getPointsByExerciseIdFromExam(t,n){if(n){for(let a in this.studentExamGradeInfoDTO?.achievedPointsPerExercise)if(Number(a)===t)return this.studentExamGradeInfoDTO.achievedPointsPerExercise[a]}}getExerciseResultByExerciseId(t){if(t===void 0)return;let n=this.studentExamGradeInfoDTO?.studentResult?.exerciseGroupIdToExerciseResult,a;for(let p in n)if(p in n&&n[p].exerciseId===t){a=n[p];break}return a}toggleShowSampleSolution(t){if(t===void 0){this.alertService.error("artemisApp.exam.error.cannotShowExampleSolution");let n="Cannot show sample solution because exercise id is undefined";M(new Error(n),{extra:{exerciseId:t}});return}this.exerciseInfos[t].displayExampleSolution=!this.exerciseInfos[t].displayExampleSolution}calculateAchievedPercentageFromScoreAndMaxPoints(t,n,a){if(n!==void 0&&t!==void 0)return U(t/n,a)}getAchievedPercentageFromResult(t,n){return t.achievedScore!==void 0?U(t.achievedScore/100,n):this.calculateAchievedPercentageFromScoreAndMaxPoints(t.achievedPoints,t.maxScore,n)}getAchievedPercentageFromExamResults(t,n,a){if(t===void 0)return;let p=n?.studentExam?.exercises?.find(D=>D.id===t)?.maxPoints,v=this.getPointsByExerciseIdFromExam(t,n);return this.calculateAchievedPercentageFromScoreAndMaxPoints(v,p,a)}getAchievedPercentageByExerciseId(t,n){let a=this.getExerciseResultByExerciseId(t),p=this.studentExamGradeInfoDTO?.studentExam?.exam?.course;return a===void 0?this.getAchievedPercentageFromExamResults(t,n,p):this.getAchievedPercentageFromResult(a,p)}getTextColorAndIconClassByExercise(t){let n=t.studentParticipations[0],p=We(n,!1),D=ee(t,n,p,!1);return{textColorClass:Le(p,D),resultIconClass:Ue(p,D)}}toggleCollapseExercise(t){return()=>t.isCollapsed=!t.isCollapsed}getIcon=oe;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=g({type:i,selectors:[["jhi-exam-participation-summary"]],inputs:{studentExam:"studentExam",instructorView:"instructorView"},decls:34,vars:12,consts:[["id","exam-results-title"],["id","exportToPDFButton",1,"btn","btn-primary","float-end",3,"click"],[3,"icon"],["jhiTranslate","artemisApp.exam.examSummary.exportPDF"],["jhiTranslate","artemisApp.exam.exercises"],["id","back-to-overview-button",1,"btn","btn-light","mx-auto","d-block",3,"click"],[1,"alert","alert-danger","text-center"],["jhiTranslate","artemisApp.exam.examSummary.youAreViewingAnUnsubmittedExam"],[3,"exam","studentExam","reviewIsOpen"],["id","exam-summary-result-overview",1,"mb-4"],[3,"studentExamWithGrade","isGradingKeyCollapsed","isBonusGradingKeyCollapsed","exerciseInfos","isTestRun"],[1,"mb-0"],[1,"info-icon",3,"icon"],[3,"id"],[3,"isCardContentCollapsed","toggleCollapse"],[1,"header"],[3,"index","exercise","exerciseInfo","resultsPublished"],[1,"collapsible-content"],[1,"clearfix"],[1,"exercise-buttons"],[1,"btn","ms-2","float-end",3,"ngClass","routerLink"],[3,"jhiTranslate"],["jhiTranslate","artemisApp.exam.examSummary.youAreViewingTheExampleSolution",1,"alert","alert-info","p-1"],[1,"btn","float-end",3,"click","id"],[1,"ms-2","float-end",3,"exerciseId","title","displayedOnExamSummary"],[1,"ms-2","float-end",3,"exerciseId","includeTests","title","displayedOnExamSummary","ngbTooltip"],[1,"pt-2"],[3,"exerciseId","displayHeader"],["jhiTranslate","artemisApp.exam.examSummary.noSubmissionFound",1,"mb-3"],[3,"exercise","submission","expandProblemStatement","isAfterResultsArePublished"],[3,"exercise","submission","isPrinting","expandProblemStatement","isAfterResultsArePublished"],[3,"quizParticipation","exam","submission","resultsPublished"],[3,"submission","exercise","expandProblemStatement","isAfterResultsArePublished"],[1,"mb-2","mt-2","ms-3",3,"exercise","participation","result","exam","testRun"],[3,"exercise","participation","submission","isTestRun","exam","isAfterStudentReviewStart","resultsPublished","isPrinting","isAfterResultsArePublished","instructorView"]],template:function(n,a){n&1&&(s(0,"div",0),e(1,`
    `),s(2,"h2"),e(3,`
        `),W(4),e(5),f(6,"artemisTranslate"),N(),e(7,`
        `),s(8,"button",1),A("click",function(){return a.printPDF()}),e(9,`
            `),c(10,"fa-icon",2),e(11,`
            `),c(12,"span",3),e(13,`
        `),r(),e(14,`
    `),r(),e(15,`
`),r(),e(16,`
`),x(17,Xi,6,0)(18,Yi,6,3)(19,Ji,6,5)(20,en,7,4),c(21,"h3",4),e(22,`
`),F(23,yn,25,11,null,null,q),s(25,"button",5),A("click",function(){return a.scrollToOverviewOrTop()}),e(26,`
    `),c(27,"fa-icon",2),e(28,`
    `),s(29,"span"),e(30),f(31,"artemisTranslate"),r(),e(32,`
`),r(),e(33,`
`)),n&2&&(o(5),_(`
            `,C(6,8,"artemisApp.exam.examSummary.examResults"),`
        `),o(5),u("icon",a.faPrint),o(7),d(a.studentExam&&!a.studentExam.submitted?17:-1),o(),d(a.studentExam!=null&&a.studentExam.exam?18:-1),o(),d(a.studentExam&&a.studentExam.exercises&&(a.studentExam.exam!=null&&a.studentExam.exam.course)&&a.studentExamGradeInfoDTO?19:-1),o(),d(a.resultsArePublished?-1:20),o(3),k(a.studentExam==null?null:a.studentExam.exercises),o(4),u("icon",a.faArrowUp),o(3),_("\xA0 ",C(31,10,"artemisApp.exam.examSummary.backToOverview"),"\xA0 "))},dependencies:[R,P,Ct,ht,ne,Et,z,ge,mt,Ee,dt,vt,St,Pt,yt,ie,bt,I],styles:[".question[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;border:1px solid var(--course-exercise-card-border-color);margin-bottom:18px;background:var(--course-exercise-card-background)}.question[_ngcontent-%COMP%]:first-of-type{margin-top:1rem}.question[_ngcontent-%COMP%]   .question-title[_ngcontent-%COMP%]{flex:1}.question[_ngcontent-%COMP%]   .question-title[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{width:100%}",".question-options[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.question-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .question-options[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]{display:inline-block;width:1rem}.question-options[_ngcontent-%COMP%]   .datepicker-input[_ngcontent-%COMP%]{max-width:140px}.question-options[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:inline-block}.question-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:100%}.question-options[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 5px 15px}.question-options[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 4px}.question-options[_ngcontent-%COMP%]   .background-file[_ngcontent-%COMP%]{display:flex}.edit-quiz-footer-content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-between}.edit-quiz-footer-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .edit-quiz-footer-content[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]{width:auto}.edit-quiz-footer-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center}.edit-quiz-footer-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 4px}.edit-quiz-footer-content[_ngcontent-%COMP%]   .invalid-reasons-tooltip[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{text-align:left;max-width:300px}.edit-quiz-footer-content[_ngcontent-%COMP%]   .invalid-reasons-tooltip[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;padding:4px}.edit-quiz-footer-content[_ngcontent-%COMP%]   #remaining-time[_ngcontent-%COMP%]{text-align:center;width:100%}.edit-quiz-footer-content[_ngcontent-%COMP%]   #remaining-time[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center;width:100%}.edit-quiz-footer-content[_ngcontent-%COMP%]   #remaining-time-value[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap}.edit-quiz-footer-content[_ngcontent-%COMP%]   #quiz-score[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:green}.edit-quiz-footer-content[_ngcontent-%COMP%]   #quiz-score.incorrect[_ngcontent-%COMP%]{color:#000}.edit-quiz-footer-content[_ngcontent-%COMP%]   .time-warning[_ngcontent-%COMP%]{color:orange}.edit-quiz-footer-content[_ngcontent-%COMP%]   .time-critical[_ngcontent-%COMP%]{color:red}@media (max-width: 767.98px){.edit-quiz-footer-content[_ngcontent-%COMP%]   .connection-status-quiz[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 767.98px){.edit-quiz-footer-content[_ngcontent-%COMP%]{font-size:12px}}",".exam-points-summary-container[_ngcontent-%COMP%]{max-width:980px}.exercise-buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-bottom:1.5rem}.exercise-buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:1.5rem!important}"]})}return i})();export{us as a};
//# sourceMappingURL=chunk-5ZDCBR5C.js.map
