import{a as kn}from"./chunk-NOBD5HSR.js";import{ba as Wi,c as Vi,g as Gi,ya as Ki}from"./chunk-5LC5EQRR.js";import{f as x,h as Xi}from"./chunk-3E746U5Y.js";var Ji=x((Jh,Sn)=>{"use strict";global.crypto&&global.crypto.getRandomValues?Sn.exports.randomBytes=function(e){var n=new Uint8Array(e);return global.crypto.getRandomValues(n),n}:Sn.exports.randomBytes=function(e){for(var n=new Array(e),t=0;t<e;t++)n[t]=Math.floor(Math.random()*256);return n}});var Te=x((Yh,Qi)=>{"use strict";var fl=Ji(),Yi="abcdefghijklmnopqrstuvwxyz012345";Qi.exports={string:function(e){for(var n=Yi.length,t=fl.randomBytes(e),i=[],r=0;r<e;r++)i.push(Yi.substr(t[r]%n,1));return i.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var n=(""+(e-1)).length,t=new Array(n+1).join("0");return(t+this.number(e)).slice(-n)}}});var se=x((Qh,Bt)=>{"use strict";var hl=Te(),Be={},On=!1,er=global.chrome&&global.chrome.app&&global.chrome.app.runtime;Bt.exports={attachEvent:function(e,n){typeof global.addEventListener<"u"?global.addEventListener(e,n,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+e,n),global.attachEvent("on"+e,n))},detachEvent:function(e,n){typeof global.addEventListener<"u"?global.removeEventListener(e,n,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+e,n),global.detachEvent("on"+e,n))},unloadAdd:function(e){if(er)return null;var n=hl.string(8);return Be[n]=e,On&&setTimeout(this.triggerUnloadCallbacks,0),n},unloadDel:function(e){e in Be&&delete Be[e]},triggerUnloadCallbacks:function(){for(var e in Be)Be[e](),delete Be[e]}};var dl=function(){On||(On=!0,Bt.exports.triggerUnloadCallbacks())};er||Bt.exports.attachEvent("unload",dl)});var nr=x((ed,tr)=>{"use strict";tr.exports=function(n,t){if(t=t.split(":")[0],n=+n,!n)return!1;switch(t){case"http":case"ws":return n!==80;case"https":case"wss":return n!==443;case"ftp":return n!==21;case"gopher":return n!==70;case"file":return!1}return n!==0}});var ar=x(An=>{"use strict";var pl=Object.prototype.hasOwnProperty,_l;function ir(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function rr(e){try{return encodeURIComponent(e)}catch{return null}}function bl(e){for(var n=/([^=?#&]+)=?([^&]*)/g,t={},i;i=n.exec(e);){var r=ir(i[1]),a=ir(i[2]);r===null||a===null||r in t||(t[r]=a)}return t}function gl(e,n){n=n||"";var t=[],i,r;typeof n!="string"&&(n="?");for(r in e)if(pl.call(e,r)){if(i=e[r],!i&&(i===null||i===_l||isNaN(i))&&(i=""),r=rr(r),i=rr(i),r===null||i===null)continue;t.push(r+"="+i)}return t.length?n+t.join("&"):""}An.stringify=gl;An.parse=bl});var Cn=x((nd,hr)=>{"use strict";var sr=nr(),Ht=ar(),ml=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,lr=/[\n\r\t]/g,vl=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,cr=/:\d+$/,wl=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,yl=/^[a-zA-Z]:/;function Rn(e){return(e||"").toString().replace(ml,"")}var Tn=[["#","hash"],["?","query"],function(n,t){return Y(t.protocol)?n.replace(/\\/g,"/"):n},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],or={hash:1,query:1};function ur(e){var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n={};var t=n.location||{};e=e||t;var i={},r=typeof e,a;if(e.protocol==="blob:")i=new Q(unescape(e.pathname),{});else if(r==="string"){i=new Q(e,{});for(a in or)delete i[a]}else if(r==="object"){for(a in e)a in or||(i[a]=e[a]);i.slashes===void 0&&(i.slashes=vl.test(e.href))}return i}function Y(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function fr(e,n){e=Rn(e),e=e.replace(lr,""),n=n||{};var t=wl.exec(e),i=t[1]?t[1].toLowerCase():"",r=!!t[2],a=!!t[3],s=0,o;return r?a?(o=t[2]+t[3]+t[4],s=t[2].length+t[3].length):(o=t[2]+t[4],s=t[2].length):a?(o=t[3]+t[4],s=t[3].length):o=t[4],i==="file:"?s>=2&&(o=o.slice(2)):Y(i)?o=t[4]:i?r&&(o=o.slice(2)):s>=2&&Y(n.protocol)&&(o=t[4]),{protocol:i,slashes:r||Y(i),slashesCount:s,rest:o}}function xl(e,n){if(e==="")return n;for(var t=(n||"/").split("/").slice(0,-1).concat(e.split("/")),i=t.length,r=t[i-1],a=!1,s=0;i--;)t[i]==="."?t.splice(i,1):t[i]===".."?(t.splice(i,1),s++):s&&(i===0&&(a=!0),t.splice(i,1),s--);return a&&t.unshift(""),(r==="."||r==="..")&&t.push(""),t.join("/")}function Q(e,n,t){if(e=Rn(e),e=e.replace(lr,""),!(this instanceof Q))return new Q(e,n,t);var i,r,a,s,o,f,l=Tn.slice(),c=typeof n,_=this,m=0;for(c!=="object"&&c!=="string"&&(t=n,n=null),t&&typeof t!="function"&&(t=Ht.parse),n=ur(n),r=fr(e||"",n),i=!r.protocol&&!r.slashes,_.slashes=r.slashes||i&&n.slashes,_.protocol=r.protocol||n.protocol||"",e=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||yl.test(e))||!r.slashes&&(r.protocol||r.slashesCount<2||!Y(_.protocol)))&&(l[3]=[/(.*)/,"pathname"]);m<l.length;m++){if(s=l[m],typeof s=="function"){e=s(e,_);continue}a=s[0],f=s[1],a!==a?_[f]=e:typeof a=="string"?(o=a==="@"?e.lastIndexOf(a):e.indexOf(a),~o&&(typeof s[2]=="number"?(_[f]=e.slice(0,o),e=e.slice(o+s[2])):(_[f]=e.slice(o),e=e.slice(0,o)))):(o=a.exec(e))&&(_[f]=o[1],e=e.slice(0,o.index)),_[f]=_[f]||i&&s[3]&&n[f]||"",s[4]&&(_[f]=_[f].toLowerCase())}t&&(_.query=t(_.query)),i&&n.slashes&&_.pathname.charAt(0)!=="/"&&(_.pathname!==""||n.pathname!=="")&&(_.pathname=xl(_.pathname,n.pathname)),_.pathname.charAt(0)!=="/"&&Y(_.protocol)&&(_.pathname="/"+_.pathname),sr(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(o=_.auth.indexOf(":"),~o?(_.username=_.auth.slice(0,o),_.username=encodeURIComponent(decodeURIComponent(_.username)),_.password=_.auth.slice(o+1),_.password=encodeURIComponent(decodeURIComponent(_.password))):_.username=encodeURIComponent(decodeURIComponent(_.auth)),_.auth=_.password?_.username+":"+_.password:_.username),_.origin=_.protocol!=="file:"&&Y(_.protocol)&&_.host?_.protocol+"//"+_.host:"null",_.href=_.toString()}function El(e,n,t){var i=this;switch(e){case"query":typeof n=="string"&&n.length&&(n=(t||Ht.parse)(n)),i[e]=n;break;case"port":i[e]=n,sr(n,i.protocol)?n&&(i.host=i.hostname+":"+n):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=n,i.port&&(n+=":"+i.port),i.host=n;break;case"host":i[e]=n,cr.test(n)?(n=n.split(":"),i.port=n.pop(),i.hostname=n.join(":")):(i.hostname=n,i.port="");break;case"protocol":i.protocol=n.toLowerCase(),i.slashes=!t;break;case"pathname":case"hash":if(n){var r=e==="pathname"?"/":"#";i[e]=n.charAt(0)!==r?r+n:n}else i[e]=n;break;case"username":case"password":i[e]=encodeURIComponent(n);break;case"auth":var a=n.indexOf(":");~a?(i.username=n.slice(0,a),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=n.slice(a+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(n))}for(var s=0;s<Tn.length;s++){var o=Tn[s];o[4]&&(i[o[1]]=i[o[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&Y(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function kl(e){(!e||typeof e!="function")&&(e=Ht.stringify);var n,t=this,i=t.host,r=t.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var a=r+(t.protocol&&t.slashes||Y(t.protocol)?"//":"");return t.username?(a+=t.username,t.password&&(a+=":"+t.password),a+="@"):t.password?(a+=":"+t.password,a+="@"):t.protocol!=="file:"&&Y(t.protocol)&&!i&&t.pathname!=="/"&&(a+="@"),(i[i.length-1]===":"||cr.test(t.hostname)&&!t.port)&&(i+=":"),a+=i+t.pathname,n=typeof t.query=="object"?e(t.query):t.query,n&&(a+=n.charAt(0)!=="?"?"?"+n:n),t.hash&&(a+=t.hash),a}Q.prototype={set:El,toString:kl};Q.extractProtocol=fr;Q.location=ur;Q.trimLeft=Rn;Q.qs=Ht;hr.exports=Q});var P=x((id,dr)=>{"use strict";var Sl=Cn(),Ol=function(){};dr.exports={getOrigin:function(e){if(!e)return null;var n=new Sl(e);if(n.protocol==="file:")return null;var t=n.port;return t||(t=n.protocol==="https:"?"443":"80"),n.protocol+"//"+n.hostname+":"+t},isOriginEqual:function(e,n){var t=this.getOrigin(e)===this.getOrigin(n);return Ol("same",e,n,t),t},isSchemeEqual:function(e,n){return e.split(":")[0]===n.split(":")[0]},addPath:function(e,n){var t=e.split("?");return t[0]+n+(t[1]?"?"+t[1]:"")},addQuery:function(e,n){return e+(e.indexOf("?")===-1?"?"+n:"&"+n)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}});var R=x((rd,In)=>{typeof Object.create=="function"?In.exports=function(n,t){t&&(n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:In.exports=function(n,t){if(t){n.super_=t;var i=function(){};i.prototype=t.prototype,n.prototype=new i,n.prototype.constructor=n}}});var Nn=x((ad,pr)=>{"use strict";function $t(){this._listeners={}}$t.prototype.addEventListener=function(e,n){e in this._listeners||(this._listeners[e]=[]);var t=this._listeners[e];t.indexOf(n)===-1&&(t=t.concat([n])),this._listeners[e]=t};$t.prototype.removeEventListener=function(e,n){var t=this._listeners[e];if(t){var i=t.indexOf(n);if(i!==-1){t.length>1?this._listeners[e]=t.slice(0,i).concat(t.slice(i+1)):delete this._listeners[e];return}}};$t.prototype.dispatchEvent=function(){var e=arguments[0],n=e.type,t=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+n]&&this["on"+n].apply(this,t),n in this._listeners)for(var i=this._listeners[n],r=0;r<i.length;r++)i[r].apply(this,t)};pr.exports=$t});var U=x((od,_r)=>{"use strict";var Al=R(),Xt=Nn();function ve(){Xt.call(this)}Al(ve,Xt);ve.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};ve.prototype.once=function(e,n){var t=this,i=!1;function r(){t.removeListener(e,r),i||(i=!0,n.apply(this,arguments))}this.on(e,r)};ve.prototype.emit=function(){var e=arguments[0],n=this._listeners[e];if(n){for(var t=arguments.length,i=new Array(t-1),r=1;r<t;r++)i[r-1]=arguments[r];for(var a=0;a<n.length;a++)n[a].apply(this,i)}};ve.prototype.on=ve.prototype.addListener=Xt.prototype.addEventListener;ve.prototype.removeListener=Xt.prototype.removeEventListener;_r.exports.EventEmitter=ve});var gr=x((sd,qn)=>{"use strict";var br=global.WebSocket||global.MozWebSocket;br?qn.exports=function(n){return new br(n)}:qn.exports=void 0});var xr=x((ld,yr)=>{"use strict";var mr=se(),Tl=P(),Rl=R(),vr=U().EventEmitter,wr=gr(),le=function(){};function ce(e,n,t){if(!ce.enabled())throw new Error("Transport created when disabled");vr.call(this),le("constructor",e);var i=this,r=Tl.addPath(e,"/websocket");r.slice(0,5)==="https"?r="wss"+r.slice(5):r="ws"+r.slice(4),this.url=r,this.ws=new wr(this.url,[],t),this.ws.onmessage=function(a){le("message event",a.data),i.emit("message",a.data)},this.unloadRef=mr.unloadAdd(function(){le("unload"),i.ws.close()}),this.ws.onclose=function(a){le("close event",a.code,a.reason),i.emit("close",a.code,a.reason),i._cleanup()},this.ws.onerror=function(a){le("error event",a),i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}Rl(ce,vr);ce.prototype.send=function(e){var n="["+e+"]";le("send",n),this.ws.send(n)};ce.prototype.close=function(){le("close");var e=this.ws;this._cleanup(),e&&e.close()};ce.prototype._cleanup=function(){le("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),mr.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};ce.enabled=function(){return le("enabled"),!!wr};ce.transportName="websocket";ce.roundTrips=2;yr.exports=ce});var Sr=x((cd,kr)=>{"use strict";var Cl=R(),Er=U().EventEmitter,ue=function(){};function Re(e,n){ue(e),Er.call(this),this.sendBuffer=[],this.sender=n,this.url=e}Cl(Re,Er);Re.prototype.send=function(e){ue("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};Re.prototype.sendScheduleWait=function(){ue("sendScheduleWait");var e=this,n;this.sendStop=function(){ue("sendStop"),e.sendStop=null,clearTimeout(n)},n=setTimeout(function(){ue("timeout"),e.sendStop=null,e.sendSchedule()},25)};Re.prototype.sendSchedule=function(){ue("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var n="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,n,function(t){e.sendStop=null,t?(ue("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};Re.prototype._cleanup=function(){ue("_cleanup"),this.removeAllListeners()};Re.prototype.close=function(){ue("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};kr.exports=Re});var Tr=x((ud,Ar)=>{"use strict";var Il=R(),Or=U().EventEmitter,st=function(){};function Vt(e,n,t){st(n),Or.call(this),this.Receiver=e,this.receiveUrl=n,this.AjaxObject=t,this._scheduleReceiver()}Il(Vt,Or);Vt.prototype._scheduleReceiver=function(){st("_scheduleReceiver");var e=this,n=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);n.on("message",function(t){st("message",t),e.emit("message",t)}),n.once("close",function(t,i){st("close",t,i,e.pollIsClosing),e.poll=n=null,e.pollIsClosing||(i==="network"?e._scheduleReceiver():(e.emit("close",t||1006,i),e.removeAllListeners()))})};Vt.prototype.abort=function(){st("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};Ar.exports=Vt});var Ln=x((fd,Rr)=>{"use strict";var Nl=R(),ql=P(),Dn=Sr(),Dl=Tr(),Gt=function(){};function zn(e,n,t,i,r){var a=ql.addPath(e,n);Gt(a);var s=this;Dn.call(this,e,t),this.poll=new Dl(i,a,r),this.poll.on("message",function(o){Gt("poll message",o),s.emit("message",o)}),this.poll.once("close",function(o,f){Gt("poll close",o,f),s.poll=null,s.emit("close",o,f),s.close()})}Nl(zn,Dn);zn.prototype.close=function(){Dn.prototype.close.call(this),Gt("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};Rr.exports=zn});var Ce=x((hd,Nr)=>{"use strict";var zl=R(),Ll=P(),Cr=Ln(),Un=function(){};function Ul(e){return function(n,t,i){Un("create ajax sender",n,t);var r={};typeof t=="string"&&(r.headers={"Content-type":"text/plain"});var a=Ll.addPath(n,"/xhr_send"),s=new e("POST",a,t,r);return s.once("finish",function(o){if(Un("finish",o),s=null,o!==200&&o!==204)return i(new Error("http status "+o));i()}),function(){Un("abort"),s.close(),s=null;var o=new Error("Aborted");o.code=1e3,i(o)}}}function Ir(e,n,t,i){Cr.call(this,e,n,Ul(i),t,i)}zl(Ir,Cr);Nr.exports=Ir});var ct=x((dd,Dr)=>{"use strict";var jl=R(),qr=U().EventEmitter,we=function(){};function lt(e,n){we(e),qr.call(this);var t=this;this.bufferPosition=0,this.xo=new n("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(i,r){we("finish",i,r),t._chunkHandler(i,r),t.xo=null;var a=i===200?"network":"permanent";we("close",a),t.emit("close",null,a),t._cleanup()})}jl(lt,qr);lt.prototype._chunkHandler=function(e,n){if(we("_chunkHandler",e),!(e!==200||!n))for(var t=-1;;this.bufferPosition+=t+1){var i=n.slice(this.bufferPosition);if(t=i.indexOf(`
`),t===-1)break;var r=i.slice(0,t);r&&(we("message",r),this.emit("message",r))}};lt.prototype._cleanup=function(){we("_cleanup"),this.removeAllListeners()};lt.prototype.abort=function(){we("abort"),this.xo&&(this.xo.close(),we("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()};Dr.exports=lt});var jn=x((pd,Fr)=>{"use strict";var Lr=U().EventEmitter,Fl=R(),Ur=se(),Zl=P(),ut=global.XMLHttpRequest,Z=function(){};function ee(e,n,t,i){Z(e,n);var r=this;Lr.call(this),setTimeout(function(){r._start(e,n,t,i)},0)}Fl(ee,Lr);ee.prototype._start=function(e,n,t,i){var r=this;try{this.xhr=new ut}catch{}if(!this.xhr){Z("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}n=Zl.addQuery(n,"t="+ +new Date),this.unloadRef=Ur.unloadAdd(function(){Z("unload cleanup"),r._cleanup(!0)});try{this.xhr.open(e,n,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Z("xhr timeout"),r.emit("finish",0,""),r._cleanup(!1)})}catch(s){Z("exception",s),this.emit("finish",0,""),this._cleanup(!1);return}if((!i||!i.noCredentials)&&ee.supportsCORS&&(Z("withCredentials"),this.xhr.withCredentials=!0),i&&i.headers)for(var a in i.headers)this.xhr.setRequestHeader(a,i.headers[a]);this.xhr.onreadystatechange=function(){if(r.xhr){var s=r.xhr,o,f;switch(Z("readyState",s.readyState),s.readyState){case 3:try{f=s.status,o=s.responseText}catch{}Z("status",f),f===1223&&(f=204),f===200&&o&&o.length>0&&(Z("chunk"),r.emit("chunk",f,o));break;case 4:f=s.status,Z("status",f),f===1223&&(f=204),(f===12005||f===12029)&&(f=0),Z("finish",f,s.responseText),r.emit("finish",f,s.responseText),r._cleanup(!1);break}}};try{r.xhr.send(t)}catch{r.emit("finish",0,""),r._cleanup(!1)}};ee.prototype._cleanup=function(e){if(Z("cleanup"),!!this.xhr){if(this.removeAllListeners(),Ur.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};ee.prototype.close=function(){Z("close"),this._cleanup(!0)};ee.enabled=!!ut;var zr=["Active"].concat("Object").join("X");!ee.enabled&&zr in global&&(Z("overriding xmlhttprequest"),ut=function(){try{return new global[zr]("Microsoft.XMLHTTP")}catch{return null}},ee.enabled=!!new ut);var jr=!1;try{jr="withCredentials"in new ut}catch{}ee.supportsCORS=jr;Fr.exports=ee});var ft=x((_d,Zr)=>{"use strict";var Ml=R(),Wt=jn();function Fn(e,n,t,i){Wt.call(this,e,n,t,i)}Ml(Fn,Wt);Fn.enabled=Wt.enabled&&Wt.supportsCORS;Zr.exports=Fn});var He=x((bd,Mr)=>{"use strict";var Pl=R(),Zn=jn();function Mn(e,n,t){Zn.call(this,e,n,t,{noCredentials:!0})}Pl(Mn,Zn);Mn.enabled=Zn.enabled;Mr.exports=Mn});var $e=x((gd,Pr)=>{"use strict";Pr.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch{return!1}}}});var $r=x((md,Hr)=>{"use strict";var Bl=R(),Br=Ce(),Hl=ct(),Pn=ft(),$l=He(),Xl=$e();function Xe(e){if(!$l.enabled&&!Pn.enabled)throw new Error("Transport created when disabled");Br.call(this,e,"/xhr_streaming",Hl,Pn)}Bl(Xe,Br);Xe.enabled=function(e){return e.nullOrigin||Xl.isOpera()?!1:Pn.enabled};Xe.transportName="xhr-streaming";Xe.roundTrips=2;Xe.needBody=!!global.document;Hr.exports=Xe});var Kt=x((vd,Gr)=>{"use strict";var Xr=U().EventEmitter,Vl=R(),Vr=se(),Gl=$e(),Wl=P(),ye=function(){};function Ie(e,n,t){ye(e,n);var i=this;Xr.call(this),setTimeout(function(){i._start(e,n,t)},0)}Vl(Ie,Xr);Ie.prototype._start=function(e,n,t){ye("_start");var i=this,r=new global.XDomainRequest;n=Wl.addQuery(n,"t="+ +new Date),r.onerror=function(){ye("onerror"),i._error()},r.ontimeout=function(){ye("ontimeout"),i._error()},r.onprogress=function(){ye("progress",r.responseText),i.emit("chunk",200,r.responseText)},r.onload=function(){ye("load"),i.emit("finish",200,r.responseText),i._cleanup(!1)},this.xdr=r,this.unloadRef=Vr.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(e,n),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(t)}catch{this._error()}};Ie.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};Ie.prototype._cleanup=function(e){if(ye("cleanup",e),!!this.xdr){if(this.removeAllListeners(),Vr.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};Ie.prototype.close=function(){ye("close"),this._cleanup(!0)};Ie.enabled=!!(global.XDomainRequest&&Gl.hasDomain());Gr.exports=Ie});var Hn=x((wd,Kr)=>{"use strict";var Kl=R(),Wr=Ce(),Jl=ct(),Bn=Kt();function ht(e){if(!Bn.enabled)throw new Error("Transport created when disabled");Wr.call(this,e,"/xhr_streaming",Jl,Bn)}Kl(ht,Wr);ht.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Bn.enabled&&e.sameScheme};ht.transportName="xdr-streaming";ht.roundTrips=2;Kr.exports=ht});var $n=x((yd,Jr)=>{Jr.exports=global.EventSource});var ea=x((xd,Qr)=>{"use strict";var Yl=R(),Yr=U().EventEmitter,Ql=$n(),Ve=function(){};function dt(e){Ve(e),Yr.call(this);var n=this,t=this.es=new Ql(e);t.onmessage=function(i){Ve("message",i.data),n.emit("message",decodeURI(i.data))},t.onerror=function(i){Ve("error",t.readyState,i);var r=t.readyState!==2?"network":"permanent";n._cleanup(),n._close(r)}}Yl(dt,Yr);dt.prototype.abort=function(){Ve("abort"),this._cleanup(),this._close("user")};dt.prototype._cleanup=function(){Ve("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};dt.prototype._close=function(e){Ve("close",e);var n=this;setTimeout(function(){n.emit("close",null,e),n.removeAllListeners()},200)};Qr.exports=dt});var Xn=x((Ed,na)=>{"use strict";var ec=R(),ta=Ce(),tc=ea(),nc=ft(),ic=$n();function Ge(e){if(!Ge.enabled())throw new Error("Transport created when disabled");ta.call(this,e,"/eventsource",tc,nc)}ec(Ge,ta);Ge.enabled=function(){return!!ic};Ge.transportName="eventsource";Ge.roundTrips=2;na.exports=Ge});var Vn=x((kd,ia)=>{ia.exports="1.6.1"});var We=x((Sd,fe)=>{"use strict";var Jt=se(),rc=$e(),Ne=function(){};fe.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){fe.exports.WPrefix in global||(global[fe.exports.WPrefix]={})},postMessage:function(e,n){global.parent!==global?global.parent.postMessage(JSON.stringify({windowId:fe.exports.currentWindowId,type:e,data:n||""}),"*"):Ne("Cannot postMessage, no parent window.",e,n)},createIframe:function(e,n){var t=global.document.createElement("iframe"),i,r,a=function(){Ne("unattach"),clearTimeout(i);try{t.onload=null}catch{}t.onerror=null},s=function(){Ne("cleanup"),t&&(a(),setTimeout(function(){t&&t.parentNode.removeChild(t),t=null},0),Jt.unloadDel(r))},o=function(l){Ne("onerror",l),t&&(s(),n(l))},f=function(l,c){Ne("post",l,c),setTimeout(function(){try{t&&t.contentWindow&&t.contentWindow.postMessage(l,c)}catch{}},0)};return t.src=e,t.style.display="none",t.style.position="absolute",t.onerror=function(){o("onerror")},t.onload=function(){Ne("onload"),clearTimeout(i),i=setTimeout(function(){o("onload timeout")},2e3)},global.document.body.appendChild(t),i=setTimeout(function(){o("timeout")},15e3),r=Jt.unloadAdd(s),{post:f,cleanup:s,loaded:a}},createHtmlfile:function(e,n){var t=["Active"].concat("Object").join("X"),i=new global[t]("htmlfile"),r,a,s,o=function(){clearTimeout(r),s.onerror=null},f=function(){i&&(o(),Jt.unloadDel(a),s.parentNode.removeChild(s),s=i=null,CollectGarbage())},l=function(m){Ne("onerror",m),i&&(f(),n(m))},c=function(m,d){try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(m,d)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[fe.exports.WPrefix]=global[fe.exports.WPrefix];var _=i.createElement("div");return i.body.appendChild(_),s=i.createElement("iframe"),_.appendChild(s),s.src=e,s.onerror=function(){l("onerror")},r=setTimeout(function(){l("timeout")},15e3),a=Jt.unloadAdd(f),{post:c,cleanup:f,loaded:o}}};fe.exports.iframeEnabled=!1;global.document&&(fe.exports.iframeEnabled=(typeof global.postMessage=="function"||typeof global.postMessage=="object")&&!rc.isKonqueror())});var Wn=x((Od,sa)=>{"use strict";var ac=R(),ra=U().EventEmitter,oc=Vn(),Gn=P(),aa=We(),oa=se(),sc=Te(),te=function(){};function ne(e,n,t){if(!ne.enabled())throw new Error("Transport created when disabled");ra.call(this);var i=this;this.origin=Gn.getOrigin(t),this.baseUrl=t,this.transUrl=n,this.transport=e,this.windowId=sc.string(8);var r=Gn.addPath(t,"/iframe.html")+"#"+this.windowId;te(e,n,r),this.iframeObj=aa.createIframe(r,function(a){te("err callback"),i.emit("close",1006,"Unable to load an iframe ("+a+")"),i.close()}),this.onmessageCallback=this._message.bind(this),oa.attachEvent("message",this.onmessageCallback)}ac(ne,ra);ne.prototype.close=function(){if(te("close"),this.removeAllListeners(),this.iframeObj){oa.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};ne.prototype._message=function(e){if(te("message",e.data),!Gn.isOriginEqual(e.origin,this.origin)){te("not same origin",e.origin,this.origin);return}var n;try{n=JSON.parse(e.data)}catch{te("bad json",e.data);return}if(n.windowId!==this.windowId){te("mismatched window id",n.windowId,this.windowId);return}switch(n.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([oc,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",n.data);break;case"c":var t;try{t=JSON.parse(n.data)}catch{te("bad json",n.data);return}this.emit("close",t[0],t[1]),this.close();break}};ne.prototype.postMessage=function(e,n){te("postMessage",e,n),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:n||""}),this.origin)};ne.prototype.send=function(e){te("send",e),this.postMessage("m",e)};ne.enabled=function(){return aa.iframeEnabled};ne.transportName="iframe";ne.roundTrips=2;sa.exports=ne});var Yt=x((Ad,la)=>{"use strict";la.exports={isObject:function(e){var n=typeof e;return n==="function"||n==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var n,t,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}}});var en=x((Td,ca)=>{"use strict";var lc=R(),Qt=Wn(),cc=Yt();ca.exports=function(e){function n(t,i){Qt.call(this,e.transportName,t,i)}return lc(n,Qt),n.enabled=function(t,i){if(!global.document)return!1;var r=cc.extend({},i);return r.sameOrigin=!0,e.enabled(r)&&Qt.enabled()},n.transportName="iframe-"+e.transportName,n.needBody=!0,n.roundTrips=Qt.roundTrips+e.roundTrips-1,n.facadeTransport=e,n}});var da=x((Rd,ha)=>{"use strict";var uc=R(),qe=We(),fc=P(),fa=U().EventEmitter,hc=Te(),he=function(){};function K(e){he(e),fa.call(this);var n=this;qe.polluteGlobalNamespace(),this.id="a"+hc.string(6),e=fc.addQuery(e,"c="+decodeURIComponent(qe.WPrefix+"."+this.id)),he("using htmlfile",K.htmlfileEnabled);var t=K.htmlfileEnabled?qe.createHtmlfile:qe.createIframe;global[qe.WPrefix][this.id]={start:function(){he("start"),n.iframeObj.loaded()},message:function(i){he("message",i),n.emit("message",i)},stop:function(){he("stop"),n._cleanup(),n._close("network")}},this.iframeObj=t(e,function(){he("callback"),n._cleanup(),n._close("permanent")})}uc(K,fa);K.prototype.abort=function(){he("abort"),this._cleanup(),this._close("user")};K.prototype._cleanup=function(){he("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[qe.WPrefix][this.id]};K.prototype._close=function(e){he("_close",e),this.emit("close",null,e),this.removeAllListeners()};K.htmlfileEnabled=!1;var ua=["Active"].concat("Object").join("X");if(ua in global)try{K.htmlfileEnabled=!!new global[ua]("htmlfile")}catch{}K.enabled=K.htmlfileEnabled||qe.iframeEnabled;ha.exports=K});var Jn=x((Cd,_a)=>{"use strict";var dc=R(),Kn=da(),pc=He(),pa=Ce();function pt(e){if(!Kn.enabled)throw new Error("Transport created when disabled");pa.call(this,e,"/htmlfile",Kn,pc)}dc(pt,pa);pt.enabled=function(e){return Kn.enabled&&e.sameOrigin};pt.transportName="htmlfile";pt.roundTrips=2;_a.exports=pt});var Qn=x((Id,ma)=>{"use strict";var _c=R(),ba=Ce(),bc=ct(),Yn=ft(),ga=He();function _t(e){if(!ga.enabled&&!Yn.enabled)throw new Error("Transport created when disabled");ba.call(this,e,"/xhr",bc,Yn)}_c(_t,ba);_t.enabled=function(e){return e.nullOrigin?!1:ga.enabled&&e.sameOrigin?!0:Yn.enabled};_t.transportName="xhr-polling";_t.roundTrips=2;ma.exports=_t});var xa=x((Nd,ya)=>{"use strict";var gc=R(),wa=Ce(),mc=Hn(),vc=ct(),va=Kt();function bt(e){if(!va.enabled)throw new Error("Transport created when disabled");wa.call(this,e,"/xhr",vc,va)}gc(bt,wa);bt.enabled=mc.enabled;bt.transportName="xdr-polling";bt.roundTrips=2;ya.exports=bt});var Oa=x((qd,Sa)=>{"use strict";var gt=We(),Ea=Te(),wc=$e(),yc=P(),xc=R(),ka=U().EventEmitter,J=function(){};function X(e){J(e);var n=this;ka.call(this),gt.polluteGlobalNamespace(),this.id="a"+Ea.string(6);var t=yc.addQuery(e,"c="+encodeURIComponent(gt.WPrefix+"."+this.id));global[gt.WPrefix][this.id]=this._callback.bind(this),this._createScript(t),this.timeoutId=setTimeout(function(){J("timeout"),n._abort(new Error("JSONP script loaded abnormally (timeout)"))},X.timeout)}xc(X,ka);X.prototype.abort=function(){if(J("abort"),global[gt.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};X.timeout=35e3;X.scriptErrorTimeout=1e3;X.prototype._callback=function(e){J("_callback",e),this._cleanup(),!this.aborting&&(e&&(J("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())};X.prototype._abort=function(e){J("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};X.prototype._cleanup=function(){if(J("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete global[gt.WPrefix][this.id]};X.prototype._scriptError=function(){J("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},X.scriptErrorTimeout))};X.prototype._createScript=function(e){J("_createScript",e);var n=this,t=this.script=global.document.createElement("script"),i;if(t.id="a"+Ea.string(8),t.src=e,t.type="text/javascript",t.charset="UTF-8",t.onerror=this._scriptError.bind(this),t.onload=function(){J("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},t.onreadystatechange=function(){if(J("onreadystatechange",t.readyState),/loaded|closed/.test(t.readyState)){if(t&&t.htmlFor&&t.onclick){n.loadedOkay=!0;try{t.onclick()}catch{}}t&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof t.async>"u"&&global.document.attachEvent)if(wc.isOpera())i=this.script2=global.document.createElement("script"),i.text="try{var a = document.getElementById('"+t.id+"'); if(a)a.onerror();}catch(x){};",t.async=i.async=!1;else{try{t.htmlFor=t.id,t.event="onclick"}catch{}t.async=!0}typeof t.async<"u"&&(t.async=!0);var r=global.document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild),i&&r.insertBefore(i,r.firstChild)};Sa.exports=X});var Ra=x((Dd,Ta)=>{"use strict";var Ec=Te(),Aa=P(),de=function(){},B,mt;function kc(e){de("createIframe",e);try{return global.document.createElement('<iframe name="'+e+'">')}catch{var n=global.document.createElement("iframe");return n.name=e,n}}function Sc(){de("createForm"),B=global.document.createElement("form"),B.style.display="none",B.style.position="absolute",B.method="POST",B.enctype="application/x-www-form-urlencoded",B.acceptCharset="UTF-8",mt=global.document.createElement("textarea"),mt.name="d",B.appendChild(mt),global.document.body.appendChild(B)}Ta.exports=function(e,n,t){de(e,n),B||Sc();var i="a"+Ec.string(8);B.target=i,B.action=Aa.addQuery(Aa.addPath(e,"/jsonp_send"),"i="+i);var r=kc(i);r.id=i,r.style.display="none",B.appendChild(r);try{mt.value=n}catch{}B.submit();var a=function(s){de("completed",i,s),r.onerror&&(r.onreadystatechange=r.onerror=r.onload=null,setTimeout(function(){de("cleaning up",i),r.parentNode.removeChild(r),r=null},500),mt.value="",t(s))};return r.onerror=function(){de("onerror",i),a()},r.onload=function(){de("onload",i),a()},r.onreadystatechange=function(s){de("onreadystatechange",i,r.readyState,s),r.readyState==="complete"&&a()},function(){de("aborted",i),a(new Error("Aborted"))}}});var Na=x((zd,Ia)=>{"use strict";var Oc=R(),Ca=Ln(),Ac=Oa(),Tc=Ra();function De(e){if(!De.enabled())throw new Error("Transport created when disabled");Ca.call(this,e,"/jsonp",Tc,Ac)}Oc(De,Ca);De.enabled=function(){return!!global.document};De.transportName="jsonp-polling";De.roundTrips=1;De.needBody=!0;Ia.exports=De});var Da=x((Ld,qa)=>{"use strict";qa.exports=[xr(),$r(),Hn(),Xn(),en()(Xn()),Jn(),en()(Jn()),Qn(),xa(),en()(Qn()),Na()]});var Ma=x(()=>{"use strict";var vt=Array.prototype,ii=Object.prototype,Rc=Function.prototype,wt=String.prototype,ei=vt.slice,ri=ii.toString,Ua=function(e){return ii.toString.call(e)==="[object Function]"},Cc=function(n){return ri.call(n)==="[object Array]"},ja=function(n){return ri.call(n)==="[object String]"},Ic=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),ni;Ic?ni=function(e,n,t,i){!i&&n in e||Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:!0,value:t})}:ni=function(e,n,t,i){!i&&n in e||(e[n]=t)};var yt=function(e,n,t){for(var i in n)ii.hasOwnProperty.call(n,i)&&ni(e,i,n[i],t)},Fa=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function Nc(e){var n=+e;return n!==n?n=0:n!==0&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}function qc(e){return e>>>0}function ti(){}yt(Rc,{bind:function(n){var t=this;if(!Ua(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var i=ei.call(arguments,1),r=function(){if(this instanceof f){var l=t.apply(this,i.concat(ei.call(arguments)));return Object(l)===l?l:this}else return t.apply(n,i.concat(ei.call(arguments)))},a=Math.max(0,t.length-i.length),s=[],o=0;o<a;o++)s.push("$"+o);var f=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(r);return t.prototype&&(ti.prototype=t.prototype,f.prototype=new ti,ti.prototype=null),f}});yt(Array,{isArray:Cc});var za=Object("a"),Za=za[0]!=="a"||!(0 in za),Dc=function(n){var t=!0,i=!0;return n&&(n.call("foo",function(r,a,s){typeof s!="object"&&(t=!1)}),n.call([1],function(){"use strict";i=typeof this=="string"},"x")),!!n&&t&&i};yt(vt,{forEach:function(n){var t=Fa(this),i=Za&&ja(this)?this.split(""):t,r=arguments[1],a=-1,s=i.length>>>0;if(!Ua(n))throw new TypeError;for(;++a<s;)a in i&&n.call(r,i[a],a,t)}},!Dc(vt.forEach));var zc=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;yt(vt,{indexOf:function(n){var t=Za&&ja(this)?this.split(""):Fa(this),i=t.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=Nc(arguments[1])),r=r>=0?r:Math.max(0,i+r);r<i;r++)if(r in t&&t[r]===n)return r;return-1}},zc);var La=wt.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;wt.split=function(n,t){var i=this;if(n===void 0&&t===0)return[];if(ri.call(n)!=="[object RegExp]")return La.call(this,n,t);var r=[],a=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":""),s=0,o,f,l,c;for(n=new RegExp(n.source,a+"g"),i+="",e||(o=new RegExp("^"+n.source+"$(?!\\s)",a)),t=t===void 0?-1>>>0:qc(t);(f=n.exec(i))&&(l=f.index+f[0].length,!(l>s&&(r.push(i.slice(s,f.index)),!e&&f.length>1&&f[0].replace(o,function(){for(var _=1;_<arguments.length-2;_++)arguments[_]===void 0&&(f[_]=void 0)}),f.length>1&&f.index<i.length&&vt.push.apply(r,f.slice(1)),c=f[0].length,s=l,r.length>=t)));)n.lastIndex===f.index&&n.lastIndex++;return s===i.length?(c||!n.test(""))&&r.push(""):r.push(i.slice(s)),r.length>t?r.slice(0,t):r}}():"0".split(void 0,0).length&&(wt.split=function(n,t){return n===void 0&&t===0?[]:La.call(this,n,t)});var Lc=wt.substr,Uc="".substr&&"0b".substr(-1)!=="b";yt(wt,{substr:function(n,t){return Lc.call(this,n<0&&(n=this.length+n)<0?0:n,t)}},Uc)});var Ba=x((Fd,Pa)=>{"use strict";var tn=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,ai,jc=function(e){var n,t={},i=[];for(n=0;n<65536;n++)i.push(String.fromCharCode(n));return e.lastIndex=0,i.join("").replace(e,function(r){return t[r]="\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,t};Pa.exports={quote:function(e){var n=JSON.stringify(e);return tn.lastIndex=0,tn.test(n)?(ai||(ai=jc(tn)),n.replace(tn,function(t){return ai[t]})):n}}});var $a=x((Zd,Ha)=>{"use strict";var nn=function(){};Ha.exports=function(e){return{filterToEnabled:function(n,t){var i={main:[],facade:[]};return n?typeof n=="string"&&(n=[n]):n=[],e.forEach(function(r){if(r){if(r.transportName==="websocket"&&t.websocket===!1){nn("disabled from server","websocket");return}if(n.length&&n.indexOf(r.transportName)===-1){nn("not in whitelist",r.transportName);return}r.enabled(t)?(nn("enabled",r.transportName),i.main.push(r),r.facadeTransport&&i.facade.push(r.facadeTransport)):nn("disabled",r.transportName)}}),i}}}});var Va=x((Md,Xa)=>{"use strict";var oi={};["log","debug","warn"].forEach(function(e){var n;try{n=global.console&&global.console[e]&&global.console[e].apply}catch{}oi[e]=n?function(){return global.console[e].apply(global.console,arguments)}:e==="log"?function(){}:oi.log});Xa.exports=oi});var rn=x((Pd,Ga)=>{"use strict";function ze(e){this.type=e}ze.prototype.initEvent=function(e,n,t){return this.type=e,this.bubbles=n,this.cancelable=t,this.timeStamp=+new Date,this};ze.prototype.stopPropagation=function(){};ze.prototype.preventDefault=function(){};ze.CAPTURING_PHASE=1;ze.AT_TARGET=2;ze.BUBBLING_PHASE=3;Ga.exports=ze});var si=x((Bd,Wa)=>{"use strict";Wa.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}});var Qa=x((Hd,Ya)=>{"use strict";var Fc=R(),Ka=rn();function Ja(){Ka.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}Fc(Ja,Ka);Ya.exports=Ja});var io=x(($d,no)=>{"use strict";var Zc=R(),eo=rn();function to(e){eo.call(this),this.initEvent("message",!1,!1),this.data=e}Zc(to,eo);no.exports=to});var oo=x((Xd,ao)=>{"use strict";var ro=U().EventEmitter,Mc=R();function xt(){var e=this;ro.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},xt.timeout)}Mc(xt,ro);xt.prototype.close=function(){clearTimeout(this.to)};xt.timeout=2e3;ao.exports=xt});var ci=x((Vd,lo)=>{"use strict";var so=U().EventEmitter,Pc=R(),Bc=Yt(),Hc=function(){};function li(e,n){so.call(this);var t=this,i=+new Date;this.xo=new n("GET",e),this.xo.once("finish",function(r,a){var s,o;if(r===200){if(o=+new Date-i,a)try{s=JSON.parse(a)}catch{Hc("bad json",a)}Bc.isObject(s)||(s={})}t.emit("finish",s,o),t.removeAllListeners()})}Pc(li,so);li.prototype.close=function(){this.removeAllListeners(),this.xo.close()};lo.exports=li});var ui=x((Gd,uo)=>{"use strict";var $c=R(),co=U().EventEmitter,Xc=He(),Vc=ci();function an(e){var n=this;co.call(this),this.ir=new Vc(e,Xc),this.ir.once("finish",function(t,i){n.ir=null,n.emit("message",JSON.stringify([t,i]))})}$c(an,co);an.transportName="iframe-info-receiver";an.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()};uo.exports=an});var _o=x((Wd,po)=>{"use strict";var fo=U().EventEmitter,Gc=R(),Wc=se(),ho=Wn(),Kc=ui(),Jc=function(){};function on(e,n){var t=this;fo.call(this);var i=function(){var r=t.ifr=new ho(Kc.transportName,n,e);r.once("message",function(a){if(a){var s;try{s=JSON.parse(a)}catch{Jc("bad json",a),t.emit("finish"),t.close();return}var o=s[0],f=s[1];t.emit("finish",o,f)}t.close()}),r.once("close",function(){t.emit("finish"),t.close()})};global.document.body?i():Wc.attachEvent("load",i)}Gc(on,fo);on.enabled=function(){return ho.enabled()};on.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};po.exports=on});var yo=x((Kd,wo)=>{"use strict";var vo=U().EventEmitter,Yc=R(),Qc=P(),bo=Kt(),go=ft(),eu=He(),tu=oo(),mo=_o(),sn=ci(),Ke=function(){};function pe(e,n){Ke(e);var t=this;vo.call(this),setTimeout(function(){t.doXhr(e,n)},0)}Yc(pe,vo);pe._getReceiver=function(e,n,t){return t.sameOrigin?new sn(n,eu):go.enabled?new sn(n,go):bo.enabled&&t.sameScheme?new sn(n,bo):mo.enabled()?new mo(e,n):new sn(n,tu)};pe.prototype.doXhr=function(e,n){var t=this,i=Qc.addPath(e,"/info");Ke("doXhr",i),this.xo=pe._getReceiver(e,i,n),this.timeoutRef=setTimeout(function(){Ke("timeout"),t._cleanup(!1),t.emit("finish")},pe.timeout),this.xo.once("finish",function(r,a){Ke("finish",r,a),t._cleanup(!0),t.emit("finish",r,a)})};pe.prototype._cleanup=function(e){Ke("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};pe.prototype.close=function(){Ke("close"),this.removeAllListeners(),this._cleanup(!1)};pe.timeout=8e3;wo.exports=pe});var ko=x((Jd,Eo)=>{"use strict";var xo=We();function Et(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}Et.prototype._transportClose=function(e,n){xo.postMessage("c",JSON.stringify([e,n]))};Et.prototype._transportMessage=function(e){xo.postMessage("t",e)};Et.prototype._send=function(e){this._transport.send(e)};Et.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()};Eo.exports=Et});var To=x((Yd,Ao)=>{"use strict";var So=P(),nu=se(),iu=ko(),Oo=ui(),fi=We(),ln=si(),hi=function(){};Ao.exports=function(e,n){var t={};n.forEach(function(r){r.facadeTransport&&(t[r.facadeTransport.transportName]=r.facadeTransport)}),t[Oo.transportName]=Oo;var i;e.bootstrap_iframe=function(){var r;fi.currentWindowId=ln.hash.slice(1);var a=function(s){if(s.source===parent&&(typeof i>"u"&&(i=s.origin),s.origin===i)){var o;try{o=JSON.parse(s.data)}catch{hi("bad json",s.data);return}if(o.windowId===fi.currentWindowId)switch(o.type){case"s":var f;try{f=JSON.parse(o.data)}catch{hi("bad json",o.data);break}var l=f[0],c=f[1],_=f[2],m=f[3];if(hi(l,c,_,m),l!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+l+'", the iframe: "'+e.version+'".');if(!So.isOriginEqual(_,ln.href)||!So.isOriginEqual(m,ln.href))throw new Error("Can't connect to different domain from within an iframe. ("+ln.href+", "+_+", "+m+")");r=new iu(new t[c](_,m));break;case"m":r._send(o.data);break;case"c":r&&r._close(),r=null;break}}};nu.attachEvent("message",a),fi.postMessage("s")}}});var zo=x((Qd,Do)=>{"use strict";Ma();var ru=Cn(),au=R(),Ro=Te(),ou=Ba(),kt=P(),su=se(),lu=$a(),cu=Yt(),uu=$e(),fu=Va(),di=rn(),Io=Nn(),cn=si(),hu=Qa(),Co=io(),du=yo(),D=function(){},No;function C(e,n,t){if(!(this instanceof C))return new C(e,n,t);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");Io.call(this),this.readyState=C.CONNECTING,this.extensions="",this.protocol="",t=t||{},t.protocols_whitelist&&fu.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=t.transports,this._transportOptions=t.transportOptions||{},this._timeout=t.timeout||0;var i=t.sessionId||8;if(typeof i=="function")this._generateSessionId=i;else if(typeof i=="number")this._generateSessionId=function(){return Ro.string(i)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=t.server||Ro.numberString(1e3);var r=new ru(e);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if(r.protocol!=="http:"&&r.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var a=r.protocol==="https:";if(cn.protocol==="https:"&&!a&&!kt.isLoopbackAddr(r.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");n?Array.isArray(n)||(n=[n]):n=[];var s=n.sort();s.forEach(function(f,l){if(!f)throw new SyntaxError("The protocols entry '"+f+"' is invalid.");if(l<s.length-1&&f===s[l+1])throw new SyntaxError("The protocols entry '"+f+"' is duplicated.")});var o=kt.getOrigin(cn.href);this._origin=o?o.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,D("using url",this.url),this._urlInfo={nullOrigin:!uu.hasDomain(),sameOrigin:kt.isOriginEqual(this.url,cn.href),sameScheme:kt.isSchemeEqual(this.url,cn.href)},this._ir=new du(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}au(C,Io);function qo(e){return e===1e3||e>=3e3&&e<=4999}C.prototype.close=function(e,n){if(e&&!qo(e))throw new Error("InvalidAccessError: Invalid code");if(n&&n.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===C.CLOSING||this.readyState===C.CLOSED)){var t=!0;this._close(e||1e3,n||"Normal closure",t)}};C.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===C.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===C.OPEN&&this._transport.send(ou.quote(e))};C.version=Vn();C.CONNECTING=0;C.OPEN=1;C.CLOSING=2;C.CLOSED=3;C.prototype._receiveInfo=function(e,n){if(D("_receiveInfo",n),this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(n),this._transUrl=e.base_url?e.base_url:this.url,e=cu.extend(e,this._urlInfo),D("info",e);var t=No.filterToEnabled(this._transportsWhitelist,e);this._transports=t.main,D(this._transports.length+" enabled transports"),this._connect()};C.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(D("attempt",e.transportName),e.needBody&&(!global.document.body||typeof global.document.readyState<"u"&&global.document.readyState!=="complete"&&global.document.readyState!=="interactive")){D("waiting for body"),this._transports.unshift(e),su.attachEvent("load",this._connect.bind(this));return}var n=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),n),D("using timeout",n);var t=kt.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[e.transportName];D("transport url",t);var r=new e(t,this._transUrl,i);r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=e.transportName,this._transport=r;return}this._close(2e3,"All transports failed",!1)};C.prototype._transportTimeout=function(){D("_transportTimeout"),this.readyState===C.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};C.prototype._transportMessage=function(e){D("_transportMessage",e);var n=this,t=e.slice(0,1),i=e.slice(1),r;switch(t){case"o":this._open();return;case"h":this.dispatchEvent(new di("heartbeat")),D("heartbeat",this.transport);return}if(i)try{r=JSON.parse(i)}catch{D("bad json",i)}if(typeof r>"u"){D("empty payload",i);return}switch(t){case"a":Array.isArray(r)&&r.forEach(function(a){D("message",n.transport,a),n.dispatchEvent(new Co(a))});break;case"m":D("message",this.transport,r),this.dispatchEvent(new Co(r));break;case"c":Array.isArray(r)&&r.length===2&&this._close(r[0],r[1],!0);break}};C.prototype._transportClose=function(e,n){if(D("_transportClose",this.transport,e,n),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!qo(e)&&e!==2e3&&this.readyState===C.CONNECTING){this._connect();return}this._close(e,n)};C.prototype._open=function(){D("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===C.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=C.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new di("open")),D("connected",this.transport)):this._close(1006,"Server lost session")};C.prototype._close=function(e,n,t){D("_close",this.transport,e,n,t,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===C.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=C.CLOSING,setTimeout(function(){this.readyState=C.CLOSED,i&&this.dispatchEvent(new di("error"));var r=new hu("close");r.wasClean=t||!1,r.code=e||1e3,r.reason=n,this.dispatchEvent(r),this.onmessage=this.onclose=this.onerror=null,D("disconnected")}.bind(this),0)};C.prototype.countRTO=function(e){return e>100?4*e:300+e};Do.exports=function(e){return No=lu(e),To()(C,e),C}});var Uo=x((ep,Lo)=>{"use strict";var pu=Da();Lo.exports=zo()(pu);"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)});var jo=x((pi,_i)=>{(function(e,n){typeof pi=="object"&&typeof _i<"u"?_i.exports=n():typeof define=="function"&&define.amd?define(n):e.webstomp=n()})(pi,function(){"use strict";var e=function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")},n=function(){function v(b,u){for(var p=0;p<u.length;p++){var h=u[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(b,h.key,h)}}return function(b,u,p){return u&&v(b.prototype,u),p&&v(b,p),b}}(),t=function(){function v(b,u){var p=[],h=!0,g=!1,y=void 0;try{for(var w=b[Symbol.iterator](),A;!(h=(A=w.next()).done)&&(p.push(A.value),!(u&&p.length===u));h=!0);}catch(O){g=!0,y=O}finally{try{!h&&w.return&&w.return()}finally{if(g)throw y}}return p}return function(b,u){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return v(b,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(v){if(Array.isArray(v)){for(var b=0,u=Array(v.length);b<v.length;b++)u[b]=v[b];return u}else return Array.from(v)},r={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"},supportedProtocols:function(){return["v10.stomp","v11.stomp","v12.stomp"]}},a={"v10.stomp":r.V1_0,"v11.stomp":r.V1_1,"v12.stomp":r.V1_2};function s(v,b){var u=a[v];return!u&&b&&b("DEPRECATED: "+v+" is not a recognized STOMP version. In next major client version, this will close the connection."),u||r.V1_2}var o={LF:`
`,NULL:"\0"},f=function(b){return b.replace(/^\s+|\s+$/g,"")};function l(v){var b=encodeURIComponent(v),u=b.replace(/%([0-9A-F]{2})/g,function(h,g){return String.fromCharCode("0x"+g)}),p=Array.prototype.map.call(u,function(h){return h.charCodeAt(0)});return new Uint8Array(p)}function c(v){var b=String.fromCharCode.apply(String,i(v)),u=b.replace(/(.)/g,function(p,h){var g=h.charCodeAt(0).toString(16).toUpperCase();return g.length<2&&(g="0"+g),"%"+g});return decodeURIComponent(u)}function _(v){return v?encodeURIComponent(v).match(/%..|./g).length:0}function m(){var v=new Date().getTime(),b=Math.floor(Math.random()*1e3);return v+"-"+b}var d=function(){function v(b){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";e(this,v),this.command=b,this.headers=u,this.body=p}return n(v,[{key:"toString",value:function(){var u=this,p=[this.command],h=this.headers["content-length"]===!1;return h&&delete this.headers["content-length"],Object.keys(this.headers).forEach(function(g){var y=u.headers[g];p.push(g+":"+y)}),this.body&&!h&&p.push("content-length:"+_(this.body)),p.push(o.LF+this.body),p.join(o.LF)}}],[{key:"unmarshallSingle",value:function(u){var p=u.search(new RegExp(o.LF+o.LF)),h=u.substring(0,p).split(o.LF),g=h.shift(),y={},w="",A=p+2,O=!0,E=!1,S=void 0;try{for(var j=h.reverse()[Symbol.iterator](),me;!(O=(me=j.next()).done);O=!0){var W=me.value,Ae=W.indexOf(":");y[f(W.substring(0,Ae))]=f(W.substring(Ae+1))}}catch(ul){E=!0,S=ul}finally{try{!O&&j.return&&j.return()}finally{if(E)throw S}}if(y["content-length"]){var cl=parseInt(y["content-length"],10);w=(""+u).substring(A,A+cl)}else for(var xn=null,En=A;En<u.length&&(xn=u.charAt(En),xn!==o.NULL);En++)w+=xn;return new v(g,y,w)}},{key:"unmarshall",value:function(u){var p=u.split(new RegExp(o.NULL+o.LF+"*")),h=p.slice(0,-1),g=p.slice(-1)[0],y={frames:h.map(function(w){return v.unmarshallSingle(w)}),partial:""};return g===o.LF||g.search(RegExp(o.NULL+o.LF+"*$"))!==-1?y.frames.push(v.unmarshallSingle(g)):y.partial=g,y}},{key:"marshall",value:function(u,p,h){var g=new v(u,p,h);return g.toString()+o.NULL}}]),v}(),k=function(){function v(b){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e(this,v);var p=u.binary,h=p===void 0?!1:p,g=u.heartbeat,y=g===void 0?{outgoing:1e4,incoming:1e4}:g,w=u.debug,A=w===void 0?!0:w,O=u.protocols,E=O===void 0?[]:O;this.ws=b,this.ws.binaryType="arraybuffer",this.isBinary=!!h,this.hasDebug=!!A,this.connected=!1,this.heartbeat=y||{outgoing:0,incoming:0},this.maxWebSocketFrameSize=16*1024,this.subscriptions={},this.partialData="",this.protocols=E}return n(v,[{key:"debug",value:function(){var u;this.hasDebug&&(u=console).log.apply(u,arguments)}},{key:"connect",value:function(){var u=this,p=this._parseConnect.apply(this,arguments),h=t(p,3),g=h[0],y=h[1],w=h[2];this.connectCallback=y,this.debug("Opening Web Socket..."),this.ws.onmessage=function(A){var O=A.data;if(A.data instanceof ArrayBuffer&&(O=c(new Uint8Array(A.data))),u.serverActivity=Date.now(),O===o.LF){u.debug("<<< PONG");return}u.debug("<<< "+O);var E=d.unmarshall(u.partialData+O);u.partialData=E.partial,E.frames.forEach(function(S){switch(S.command){case"CONNECTED":u.debug("connected to server "+S.headers.server),u.connected=!0,u.version=S.headers.version,u._setupHeartbeat(S.headers),y&&y(S);break;case"MESSAGE":var j=S.headers.subscription,me=u.subscriptions[j]||u.onreceive;if(me){var W=u.version===r.V1_2&&S.headers.ack||S.headers["message-id"];S.ack=u.ack.bind(u,W,j),S.nack=u.nack.bind(u,W,j),me(S)}else u.debug("Unhandled received MESSAGE: "+S);break;case"RECEIPT":u.onreceipt&&u.onreceipt(S);break;case"ERROR":w&&w(S);break;default:u.debug("Unhandled frame: "+S)}})},this.ws.onclose=function(A){u.debug("Whoops! Lost connection to "+u.ws.url+":",{event:A}),u._cleanUp(),w&&w(A)},this.ws.onopen=function(){u.debug("Web Socket Opened..."),g["accept-version"]=s(u.ws.protocol||u.protocols[0],u.debug.bind(u)),g["heart-beat"]||(g["heart-beat"]=[u.heartbeat.outgoing,u.heartbeat.incoming].join(",")),u._transmit("CONNECT",g)},this.ws.readyState===this.ws.OPEN&&this.ws.onopen()}},{key:"disconnect",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._transmit("DISCONNECT",p),this.ws.onclose=null,this.ws.close(),this._cleanUp(),u&&u()}},{key:"send",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=Object.assign({},h);g.destination=u,this._transmit("SEND",g,p)}},{key:"begin",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"tx-"+m();return this._transmit("BEGIN",{transaction:u}),{id:u,commit:this.commit.bind(this,u),abort:this.abort.bind(this,u)}}},{key:"commit",value:function(u){this._transmit("COMMIT",{transaction:u})}},{key:"abort",value:function(u){this._transmit("ABORT",{transaction:u})}},{key:"ack",value:function(u,p){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=Object.assign({},h),y=this.version===r.V1_2?"id":"message-id";g[y]=u,g.subscription=p,this._transmit("ACK",g)}},{key:"nack",value:function(u,p){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=Object.assign({},h),y=this.version===r.V1_2?"id":"message-id";g[y]=u,g.subscription=p,this._transmit("NACK",g)}},{key:"subscribe",value:function(u,p){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=Object.assign({},h);return g.id||(g.id="sub-"+m()),g.destination=u,this.subscriptions[g.id]=p,this._transmit("SUBSCRIBE",g),{id:g.id,unsubscribe:this.unsubscribe.bind(this,g.id)}}},{key:"unsubscribe",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=Object.assign({},p);delete this.subscriptions[u],h.id=u,this._transmit("UNSUBSCRIBE",h)}},{key:"_cleanUp",value:function(){this.connected=!1,clearInterval(this.pinger),clearInterval(this.ponger)}},{key:"_transmit",value:function(u,p,h){var g=d.marshall(u,p,h);this.debug(">>> "+g,{frame:{command:u,headers:p,body:h}}),this._wsSend(g)}},{key:"_wsSend",value:function(u){for(this.isBinary&&(u=l(u)),this.debug(">>> length "+u.length);;)if(u.length>this.maxWebSocketFrameSize)this.ws.send(u.slice(0,this.maxWebSocketFrameSize)),u=u.slice(this.maxWebSocketFrameSize),this.debug("remaining = "+u.length);else return this.ws.send(u)}},{key:"_setupHeartbeat",value:function(u){var p=this;if(!(this.version!==r.V1_1&&this.version!==r.V1_2)){var h=(u["heart-beat"]||"0,0").split(",").map(function(E){return parseInt(E,10)}),g=t(h,2),y=g[0],w=g[1];if(!(this.heartbeat.outgoing===0||w===0)){var A=Math.max(this.heartbeat.outgoing,w);this.debug("send PING every "+A+"ms"),this.pinger=setInterval(function(){p._wsSend(o.LF),p.debug(">>> PING")},A)}if(!(this.heartbeat.incoming===0||y===0)){var O=Math.max(this.heartbeat.incoming,y);this.debug("check PONG every "+O+"ms"),this.ponger=setInterval(function(){var E=Date.now()-p.serverActivity;E>O*2&&(p.debug("did not receive server activity for the last "+E+"ms"),p.ws.close())},O)}}}},{key:"_parseConnect",value:function(){for(var u={},p=void 0,h=void 0,g=arguments.length,y=Array(g),w=0;w<g;w++)y[w]=arguments[w];switch(y.length){case 2:u=y[0],p=y[1];break;case 3:y[1]instanceof Function?(u=y[0],p=y[1],h=y[2]):(u.login=y[0],u.passcode=y[1],p=y[2]);break;case 4:u.login=y[0],u.passcode=y[1],p=y[2],h=y[3];break;default:u.login=y[0],u.passcode=y[1],p=y[2],h=y[3],u.host=y[4]}return[u,p,h]}}]),v}(),N={Frame:d,VERSIONS:r,client:function(b){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=new WebSocket(b,u.protocols||r.supportedProtocols());return new k(p,u)},over:function(){for(var b=arguments.length,u=Array(b),p=0;p<b;p++)u[p]=arguments[p];return new(Function.prototype.bind.apply(k,[null].concat(u)))}};return N})});var ol=Xi(Uo()),sl=Xi(jo());function nt(e){let n=e.length;for(;--n>=0;)e[n]=0}var _u=0,Es=1,bu=2,gu=3,mu=258,Fi=29,Ft=256,It=Ft+1+Fi,Qe=30,Zi=19,ks=2*It+1,Le=15,bi=16,vu=7,Mi=256,Ss=16,Os=17,As=18,Ci=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),wu=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ts=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yu=512,be=new Array((It+2)*2);nt(be);var Tt=new Array(Qe*2);nt(Tt);var Nt=new Array(yu);nt(Nt);var qt=new Array(mu-gu+1);nt(qt);var Pi=new Array(Fi);nt(Pi);var bn=new Array(Qe);nt(bn);function gi(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}var Rs,Cs,Is;function mi(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}var Ns=e=>e<256?Nt[e]:Nt[256+(e>>>7)],Dt=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},M=(e,n,t)=>{e.bi_valid>bi-t?(e.bi_buf|=n<<e.bi_valid&65535,Dt(e,e.bi_buf),e.bi_buf=n>>bi-e.bi_valid,e.bi_valid+=t-bi):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},re=(e,n,t)=>{M(e,t[n*2],t[n*2+1])},qs=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},xu=e=>{e.bi_valid===16?(Dt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Eu=(e,n)=>{let t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,a=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,o=n.stat_desc.extra_base,f=n.stat_desc.max_length,l,c,_,m,d,k,N=0;for(m=0;m<=Le;m++)e.bl_count[m]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<ks;l++)c=e.heap[l],m=t[t[c*2+1]*2+1]+1,m>f&&(m=f,N++),t[c*2+1]=m,!(c>i)&&(e.bl_count[m]++,d=0,c>=o&&(d=s[c-o]),k=t[c*2],e.opt_len+=k*(m+d),a&&(e.static_len+=k*(r[c*2+1]+d)));if(N!==0){do{for(m=f-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[f]--,N-=2}while(N>0);for(m=f;m!==0;m--)for(c=e.bl_count[m];c!==0;)_=e.heap[--l],!(_>i)&&(t[_*2+1]!==m&&(e.opt_len+=(m-t[_*2+1])*t[_*2],t[_*2+1]=m),c--)}},Ds=(e,n,t)=>{let i=new Array(Le+1),r=0,a,s;for(a=1;a<=Le;a++)r=r+t[a-1]<<1,i[a]=r;for(s=0;s<=n;s++){let o=e[s*2+1];o!==0&&(e[s*2]=qs(i[o]++,o))}},ku=()=>{let e,n,t,i,r,a=new Array(Le+1);for(t=0,i=0;i<Fi-1;i++)for(Pi[i]=t,e=0;e<1<<Ci[i];e++)qt[t++]=i;for(qt[t-1]=i,r=0,i=0;i<16;i++)for(bn[i]=r,e=0;e<1<<_n[i];e++)Nt[r++]=i;for(r>>=7;i<Qe;i++)for(bn[i]=r<<7,e=0;e<1<<_n[i]-7;e++)Nt[256+r++]=i;for(n=0;n<=Le;n++)a[n]=0;for(e=0;e<=143;)be[e*2+1]=8,e++,a[8]++;for(;e<=255;)be[e*2+1]=9,e++,a[9]++;for(;e<=279;)be[e*2+1]=7,e++,a[7]++;for(;e<=287;)be[e*2+1]=8,e++,a[8]++;for(Ds(be,It+1,a),e=0;e<Qe;e++)Tt[e*2+1]=5,Tt[e*2]=qs(e,5);Rs=new gi(be,Ci,Ft+1,It,Le),Cs=new gi(Tt,_n,0,Qe,Le),Is=new gi(new Array(0),wu,0,Zi,vu)},zs=e=>{let n;for(n=0;n<It;n++)e.dyn_ltree[n*2]=0;for(n=0;n<Qe;n++)e.dyn_dtree[n*2]=0;for(n=0;n<Zi;n++)e.bl_tree[n*2]=0;e.dyn_ltree[Mi*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Ls=e=>{e.bi_valid>8?Dt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Fo=(e,n,t,i)=>{let r=n*2,a=t*2;return e[r]<e[a]||e[r]===e[a]&&i[n]<=i[t]},vi=(e,n,t)=>{let i=e.heap[t],r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&Fo(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!Fo(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},Zo=(e,n,t)=>{let i,r,a=0,s,o;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+a++]&255,i+=(e.pending_buf[e.sym_buf+a++]&255)<<8,r=e.pending_buf[e.sym_buf+a++],i===0?re(e,r,n):(s=qt[r],re(e,s+Ft+1,n),o=Ci[s],o!==0&&(r-=Pi[s],M(e,r,o)),i--,s=Ns(i),re(e,s,t),o=_n[s],o!==0&&(i-=bn[s],M(e,i,o)));while(a<e.sym_next);re(e,Mi,n)},Ii=(e,n)=>{let t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.elems,s,o,f=-1,l;for(e.heap_len=0,e.heap_max=ks,s=0;s<a;s++)t[s*2]!==0?(e.heap[++e.heap_len]=f=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=f<2?++f:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=i[l*2+1]);for(n.max_code=f,s=e.heap_len>>1;s>=1;s--)vi(e,t,s);l=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],vi(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,vi(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Eu(e,n),Ds(t,f,e.bl_count)},Mo=(e,n,t)=>{let i,r=-1,a,s=n[0*2+1],o=0,f=7,l=4;for(s===0&&(f=138,l=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)a=s,s=n[(i+1)*2+1],!(++o<f&&a===s)&&(o<l?e.bl_tree[a*2]+=o:a!==0?(a!==r&&e.bl_tree[a*2]++,e.bl_tree[Ss*2]++):o<=10?e.bl_tree[Os*2]++:e.bl_tree[As*2]++,o=0,r=a,s===0?(f=138,l=3):a===s?(f=6,l=3):(f=7,l=4))},Po=(e,n,t)=>{let i,r=-1,a,s=n[0*2+1],o=0,f=7,l=4;for(s===0&&(f=138,l=3),i=0;i<=t;i++)if(a=s,s=n[(i+1)*2+1],!(++o<f&&a===s)){if(o<l)do re(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==r&&(re(e,a,e.bl_tree),o--),re(e,Ss,e.bl_tree),M(e,o-3,2)):o<=10?(re(e,Os,e.bl_tree),M(e,o-3,3)):(re(e,As,e.bl_tree),M(e,o-11,7));o=0,r=a,s===0?(f=138,l=3):a===s?(f=6,l=3):(f=7,l=4)}},Su=e=>{let n;for(Mo(e,e.dyn_ltree,e.l_desc.max_code),Mo(e,e.dyn_dtree,e.d_desc.max_code),Ii(e,e.bl_desc),n=Zi-1;n>=3&&e.bl_tree[Ts[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},Ou=(e,n,t,i)=>{let r;for(M(e,n-257,5),M(e,t-1,5),M(e,i-4,4),r=0;r<i;r++)M(e,e.bl_tree[Ts[r]*2+1],3);Po(e,e.dyn_ltree,n-1),Po(e,e.dyn_dtree,t-1)},Au=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<Ft;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},Bo=!1,Tu=e=>{Bo||(ku(),Bo=!0),e.l_desc=new mi(e.dyn_ltree,Rs),e.d_desc=new mi(e.dyn_dtree,Cs),e.bl_desc=new mi(e.bl_tree,Is),e.bi_buf=0,e.bi_valid=0,zs(e)},Us=(e,n,t,i)=>{M(e,(_u<<1)+(i?1:0),3),Ls(e),Dt(e,t),Dt(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Ru=e=>{M(e,Es<<1,3),re(e,Mi,be),xu(e)},Cu=(e,n,t,i)=>{let r,a,s=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Au(e)),Ii(e,e.l_desc),Ii(e,e.d_desc),s=Su(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=t+5,t+4<=r&&n!==-1?Us(e,n,t,i):e.strategy===4||a===r?(M(e,(Es<<1)+(i?1:0),3),Zo(e,be,Tt)):(M(e,(bu<<1)+(i?1:0),3),Ou(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Zo(e,e.dyn_ltree,e.dyn_dtree)),zs(e),i&&Ls(e)},Iu=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(qt[t]+Ft+1)*2]++,e.dyn_dtree[Ns(n)*2]++),e.sym_next===e.sym_end),Nu=Tu,qu=Us,Du=Cu,zu=Iu,Lu=Ru,Uu={_tr_init:Nu,_tr_stored_block:qu,_tr_flush_block:Du,_tr_tally:zu,_tr_align:Lu},ju=(e,n,t,i)=>{let r=e&65535|0,a=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do r=r+n[i++]|0,a=a+r|0;while(--s);r%=65521,a%=65521}return r|a<<16|0},zt=ju,Fu=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Zu=new Uint32Array(Fu()),Mu=(e,n,t,i)=>{let r=Zu,a=i+t;e^=-1;for(let s=i;s<a;s++)e=e>>>8^r[(e^n[s])&255];return e^-1},z=Mu,Fe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},it={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Pu,_tr_stored_block:Ni,_tr_flush_block:Bu,_tr_tally:ke,_tr_align:Hu}=Uu,{Z_NO_FLUSH:Se,Z_PARTIAL_FLUSH:$u,Z_FULL_FLUSH:Xu,Z_FINISH:V,Z_BLOCK:Ho,Z_OK:L,Z_STREAM_END:$o,Z_STREAM_ERROR:ae,Z_DATA_ERROR:Vu,Z_BUF_ERROR:wi,Z_DEFAULT_COMPRESSION:Gu,Z_FILTERED:Wu,Z_HUFFMAN_ONLY:un,Z_RLE:Ku,Z_FIXED:Ju,Z_DEFAULT_STRATEGY:Yu,Z_UNKNOWN:Qu,Z_DEFLATED:vn}=it,ef=9,tf=15,nf=8,rf=29,af=256,qi=af+1+rf,of=30,sf=19,lf=2*qi+1,cf=15,T=3,Ee=258,oe=Ee+T+1,uf=32,et=42,Bi=57,Di=69,zi=73,Li=91,Ui=103,Ue=113,Ot=666,F=1,rt=2,Ze=3,at=4,ff=3,je=(e,n)=>(e.msg=Fe[n],n),Xo=e=>e*2-(e>4?9:0),xe=e=>{let n=e.length;for(;--n>=0;)e[n]=0},hf=e=>{let n,t,i,r=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=r?t-r:0;while(--n);n=r,i=n;do t=e.prev[--i],e.prev[i]=t>=r?t-r:0;while(--n)},df=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,Oe=df,H=e=>{let n=e.state,t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},$=(e,n)=>{Bu(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,H(e.strm)},I=(e,n)=>{e.pending_buf[e.pending++]=n},St=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},ji=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=zt(e.adler,n,r,t):e.state.wrap===2&&(e.adler=z(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},js=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,a,s=e.prev_length,o=e.nice_match,f=e.strstart>e.w_size-oe?e.strstart-(e.w_size-oe):0,l=e.window,c=e.w_mask,_=e.prev,m=e.strstart+Ee,d=l[i+s-1],k=l[i+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(r=n,!(l[r+s]!==k||l[r+s-1]!==d||l[r]!==l[i]||l[++r]!==l[i+1])){i+=2,r++;do;while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<m);if(a=Ee-(m-i),i=m-Ee,a>s){if(e.match_start=n,s=a,a>=o)break;d=l[i+s-1],k=l[i+s]}}while((n=_[n&c])>f&&--t!==0);return s<=e.lookahead?s:e.lookahead},tt=e=>{let n=e.w_size,t,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-oe)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),hf(e),i+=n),e.strm.avail_in===0)break;if(t=ji(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=T)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=Oe(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=Oe(e,e.ins_h,e.window[r+T-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<T)););}while(e.lookahead<oe&&e.strm.avail_in!==0)},Fs=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,r,a,s=0,o=e.strm.avail_in;do{if(i=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,r=e.strstart-e.block_start,i>r+e.strm.avail_in&&(i=r+e.strm.avail_in),i>a&&(i=a),i<t&&(i===0&&n!==V||n===Se||i!==r+e.strm.avail_in)))break;s=n===V&&i===r+e.strm.avail_in?1:0,Ni(e,0,0,s),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,H(e.strm),r&&(r>i&&(r=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,i-=r),i&&(ji(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?at:n!==Se&&n!==V&&e.strm.avail_in===0&&e.strstart===e.block_start?rt:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(ji(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=t||(r||n===V)&&n!==Se&&e.strm.avail_in===0&&r<=a)&&(i=r>a?a:r,s=n===V&&e.strm.avail_in===0&&i===r?1:0,Ni(e,e.block_start,i,s),e.block_start+=i,H(e.strm)),s?Ze:F)},yi=(e,n)=>{let t,i;for(;;){if(e.lookahead<oe){if(tt(e),e.lookahead<oe&&n===Se)return F;if(e.lookahead===0)break}if(t=0,e.lookahead>=T&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+T-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-oe&&(e.match_length=js(e,t)),e.match_length>=T)if(i=ke(e,e.strstart-e.match_start,e.match_length-T),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=T){e.match_length--;do e.strstart++,e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+T-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+1]);else i=ke(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&($(e,!1),e.strm.avail_out===0))return F}return e.insert=e.strstart<T-1?e.strstart:T-1,n===V?($(e,!0),e.strm.avail_out===0?Ze:at):e.sym_next&&($(e,!1),e.strm.avail_out===0)?F:rt},Je=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<oe){if(tt(e),e.lookahead<oe&&n===Se)return F;if(e.lookahead===0)break}if(t=0,e.lookahead>=T&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+T-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=T-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-oe&&(e.match_length=js(e,t),e.match_length<=5&&(e.strategy===Wu||e.match_length===T&&e.strstart-e.match_start>4096)&&(e.match_length=T-1)),e.prev_length>=T&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-T,i=ke(e,e.strstart-1-e.prev_match,e.prev_length-T),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+T-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=T-1,e.strstart++,i&&($(e,!1),e.strm.avail_out===0))return F}else if(e.match_available){if(i=ke(e,0,e.window[e.strstart-1]),i&&$(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return F}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ke(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<T-1?e.strstart:T-1,n===V?($(e,!0),e.strm.avail_out===0?Ze:at):e.sym_next&&($(e,!1),e.strm.avail_out===0)?F:rt},pf=(e,n)=>{let t,i,r,a,s=e.window;for(;;){if(e.lookahead<=Ee){if(tt(e),e.lookahead<=Ee&&n===Se)return F;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=T&&e.strstart>0&&(r=e.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){a=e.strstart+Ee;do;while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=Ee-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=T?(t=ke(e,1,e.match_length-T),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=ke(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&($(e,!1),e.strm.avail_out===0))return F}return e.insert=0,n===V?($(e,!0),e.strm.avail_out===0?Ze:at):e.sym_next&&($(e,!1),e.strm.avail_out===0)?F:rt},_f=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(tt(e),e.lookahead===0)){if(n===Se)return F;break}if(e.match_length=0,t=ke(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&($(e,!1),e.strm.avail_out===0))return F}return e.insert=0,n===V?($(e,!0),e.strm.avail_out===0?Ze:at):e.sym_next&&($(e,!1),e.strm.avail_out===0)?F:rt};function ie(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}var At=[new ie(0,0,0,0,Fs),new ie(4,4,8,4,yi),new ie(4,5,16,8,yi),new ie(4,6,32,32,yi),new ie(4,4,16,16,Je),new ie(8,16,32,32,Je),new ie(8,16,128,128,Je),new ie(8,32,128,256,Je),new ie(32,128,258,1024,Je),new ie(32,258,258,4096,Je)],bf=e=>{e.window_size=2*e.w_size,xe(e.head),e.max_lazy_match=At[e.level].max_lazy,e.good_match=At[e.level].good_length,e.nice_match=At[e.level].nice_length,e.max_chain_length=At[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=T-1,e.match_available=0,e.ins_h=0};function gf(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(lf*2),this.dyn_dtree=new Uint16Array((2*of+1)*2),this.bl_tree=new Uint16Array((2*sf+1)*2),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(cf+1),this.heap=new Uint16Array(2*qi+1),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*qi+1),xe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Zt=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.status!==et&&n.status!==Bi&&n.status!==Di&&n.status!==zi&&n.status!==Li&&n.status!==Ui&&n.status!==Ue&&n.status!==Ot?1:0},Zs=e=>{if(Zt(e))return je(e,ae);e.total_in=e.total_out=0,e.data_type=Qu;let n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?Bi:n.wrap?et:Ue,e.adler=n.wrap===2?0:1,n.last_flush=-2,Pu(n),L},Ms=e=>{let n=Zs(e);return n===L&&bf(e.state),n},mf=(e,n)=>Zt(e)||e.state.wrap!==2?ae:(e.state.gzhead=n,L),Ps=(e,n,t,i,r,a)=>{if(!e)return ae;let s=1;if(n===Gu&&(n=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>ef||t!==vn||i<8||i>15||n<0||n>9||a<0||a>Ju||i===8&&s!==1)return je(e,ae);i===8&&(i=9);let o=new gf;return e.state=o,o.strm=e,o.status=et,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+T-1)/T),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=n,o.strategy=a,o.method=t,Ms(e)},vf=(e,n)=>Ps(e,n,vn,tf,nf,Yu),wf=(e,n)=>{if(Zt(e)||n>Ho||n<0)return e?je(e,ae):ae;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ot&&n!==V)return je(e,e.avail_out===0?wi:ae);let i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(H(e),e.avail_out===0)return t.last_flush=-1,L}else if(e.avail_in===0&&Xo(n)<=Xo(i)&&n!==V)return je(e,wi);if(t.status===Ot&&e.avail_in!==0)return je(e,wi);if(t.status===et&&t.wrap===0&&(t.status=Ue),t.status===et){let r=vn+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=un||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,r|=a<<6,t.strstart!==0&&(r|=uf),r+=31-r%31,St(t,r),t.strstart!==0&&(St(t,e.adler>>>16),St(t,e.adler&65535)),e.adler=1,t.status=Ue,H(e),t.pending!==0)return t.last_flush=-1,L}if(t.status===Bi){if(e.adler=0,I(t,31),I(t,139),I(t,8),t.gzhead)I(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),I(t,t.gzhead.time&255),I(t,t.gzhead.time>>8&255),I(t,t.gzhead.time>>16&255),I(t,t.gzhead.time>>24&255),I(t,t.level===9?2:t.strategy>=un||t.level<2?4:0),I(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(I(t,t.gzhead.extra.length&255),I(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=z(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Di;else if(I(t,0),I(t,0),I(t,0),I(t,0),I(t,0),I(t,t.level===9?2:t.strategy>=un||t.level<2?4:0),I(t,ff),t.status=Ue,H(e),t.pending!==0)return t.last_flush=-1,L}if(t.status===Di){if(t.gzhead.extra){let r=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(e.adler=z(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=o,H(e),t.pending!==0)return t.last_flush=-1,L;r=0,a-=o}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>r&&(e.adler=z(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=zi}if(t.status===zi){if(t.gzhead.name){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=z(e.adler,t.pending_buf,t.pending-r,r)),H(e),t.pending!==0)return t.last_flush=-1,L;r=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,I(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=z(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Li}if(t.status===Li){if(t.gzhead.comment){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=z(e.adler,t.pending_buf,t.pending-r,r)),H(e),t.pending!==0)return t.last_flush=-1,L;r=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,I(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=z(e.adler,t.pending_buf,t.pending-r,r))}t.status=Ui}if(t.status===Ui){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(H(e),t.pending!==0))return t.last_flush=-1,L;I(t,e.adler&255),I(t,e.adler>>8&255),e.adler=0}if(t.status=Ue,H(e),t.pending!==0)return t.last_flush=-1,L}if(e.avail_in!==0||t.lookahead!==0||n!==Se&&t.status!==Ot){let r=t.level===0?Fs(t,n):t.strategy===un?_f(t,n):t.strategy===Ku?pf(t,n):At[t.level].func(t,n);if((r===Ze||r===at)&&(t.status=Ot),r===F||r===Ze)return e.avail_out===0&&(t.last_flush=-1),L;if(r===rt&&(n===$u?Hu(t):n!==Ho&&(Ni(t,0,0,!1),n===Xu&&(xe(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),H(e),e.avail_out===0))return t.last_flush=-1,L}return n!==V?L:t.wrap<=0?$o:(t.wrap===2?(I(t,e.adler&255),I(t,e.adler>>8&255),I(t,e.adler>>16&255),I(t,e.adler>>24&255),I(t,e.total_in&255),I(t,e.total_in>>8&255),I(t,e.total_in>>16&255),I(t,e.total_in>>24&255)):(St(t,e.adler>>>16),St(t,e.adler&65535)),H(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?L:$o)},yf=e=>{if(Zt(e))return ae;let n=e.state.status;return e.state=null,n===Ue?je(e,Vu):L},xf=(e,n)=>{let t=n.length;if(Zt(e))return ae;let i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==et||i.lookahead)return ae;if(r===1&&(e.adler=zt(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(xe(i.head),i.strstart=0,i.block_start=0,i.insert=0);let f=new Uint8Array(i.w_size);f.set(n.subarray(t-i.w_size,t),0),n=f,t=i.w_size}let a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,tt(i);i.lookahead>=T;){let f=i.strstart,l=i.lookahead-(T-1);do i.ins_h=Oe(i,i.ins_h,i.window[f+T-1]),i.prev[f&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=f,f++;while(--l);i.strstart=f,i.lookahead=T-1,tt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=T-1,i.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,i.wrap=r,L},Ef=vf,kf=Ps,Sf=Ms,Of=Zs,Af=mf,Tf=wf,Rf=yf,Cf=xf,If="pako deflate (from Nodeca project)",Rt={deflateInit:Ef,deflateInit2:kf,deflateReset:Sf,deflateResetKeep:Of,deflateSetHeader:Af,deflate:Tf,deflateEnd:Rf,deflateSetDictionary:Cf,deflateInfo:If},Nf=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),qf=function(e){let n=Array.prototype.slice.call(arguments,1);for(;n.length;){let t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let i in t)Nf(t,i)&&(e[i]=t[i])}}return e},Df=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;let t=new Uint8Array(n);for(let i=0,r=0,a=e.length;i<a;i++){let s=e[i];t.set(s,r),r+=s.length}return t},wn={assign:qf,flattenChunks:Df},Bs=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Bs=!1}var Lt=new Uint8Array(256);for(let e=0;e<256;e++)Lt[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Lt[254]=Lt[254]=1;var zf=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,a,s=e.length,o=0;for(r=0;r<s;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<s&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(o),a=0,r=0;a<o;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<s&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n},Lf=(e,n)=>{if(n<65534&&e.subarray&&Bs)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t},Uf=(e,n)=>{let t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r,a=new Array(t*2);for(r=0,i=0;i<t;){let s=e[i++];if(s<128){a[r++]=s;continue}let o=Lt[s];if(o>4){a[r++]=65533,i+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&i<t;)s=s<<6|e[i++]&63,o--;if(o>1){a[r++]=65533;continue}s<65536?a[r++]=s:(s-=65536,a[r++]=55296|s>>10&1023,a[r++]=56320|s&1023)}return Lf(a,r)},jf=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+Lt[e[t]]>n?t:n},Ut={string2buf:zf,buf2string:Uf,utf8border:jf};function Ff(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Hs=Ff,$s=Object.prototype.toString,{Z_NO_FLUSH:Zf,Z_SYNC_FLUSH:Mf,Z_FULL_FLUSH:Pf,Z_FINISH:Bf,Z_OK:gn,Z_STREAM_END:Hf,Z_DEFAULT_COMPRESSION:$f,Z_DEFAULT_STRATEGY:Xf,Z_DEFLATED:Vf}=it;function Mt(e){this.options=wn.assign({level:$f,method:Vf,chunkSize:16384,windowBits:15,memLevel:8,strategy:Xf},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hs,this.strm.avail_out=0;let t=Rt.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==gn)throw new Error(Fe[t]);if(n.header&&Rt.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=Ut.string2buf(n.dictionary):$s.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=Rt.deflateSetDictionary(this.strm,i),t!==gn)throw new Error(Fe[t]);this._dict_set=!0}}Mt.prototype.push=function(e,n){let t=this.strm,i=this.options.chunkSize,r,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?Bf:Zf,typeof e=="string"?t.input=Ut.string2buf(e):$s.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(a===Mf||a===Pf)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=Rt.deflate(t,a),r===Hf)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=Rt.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===gn;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Mt.prototype.onData=function(e){this.chunks.push(e)};Mt.prototype.onEnd=function(e){e===gn&&(this.result=wn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Hi(e,n){let t=new Mt(n);if(t.push(e,!0),t.err)throw t.msg||Fe[t.err];return t.result}function Gf(e,n){return n=n||{},n.raw=!0,Hi(e,n)}function Wf(e,n){return n=n||{},n.gzip=!0,Hi(e,n)}var Kf=Mt,Jf=Hi,Yf=Gf,Qf=Wf,eh=it,th={Deflate:Kf,deflate:Jf,deflateRaw:Yf,gzip:Qf,constants:eh},fn=16209,nh=16191,ih=function(n,t){let i,r,a,s,o,f,l,c,_,m,d,k,N,v,b,u,p,h,g,y,w,A,O,E,S=n.state;i=n.next_in,O=n.input,r=i+(n.avail_in-5),a=n.next_out,E=n.output,s=a-(t-n.avail_out),o=a+(n.avail_out-257),f=S.dmax,l=S.wsize,c=S.whave,_=S.wnext,m=S.window,d=S.hold,k=S.bits,N=S.lencode,v=S.distcode,b=(1<<S.lenbits)-1,u=(1<<S.distbits)-1;e:do{k<15&&(d+=O[i++]<<k,k+=8,d+=O[i++]<<k,k+=8),p=N[d&b];t:for(;;){if(h=p>>>24,d>>>=h,k-=h,h=p>>>16&255,h===0)E[a++]=p&65535;else if(h&16){g=p&65535,h&=15,h&&(k<h&&(d+=O[i++]<<k,k+=8),g+=d&(1<<h)-1,d>>>=h,k-=h),k<15&&(d+=O[i++]<<k,k+=8,d+=O[i++]<<k,k+=8),p=v[d&u];n:for(;;){if(h=p>>>24,d>>>=h,k-=h,h=p>>>16&255,h&16){if(y=p&65535,h&=15,k<h&&(d+=O[i++]<<k,k+=8,k<h&&(d+=O[i++]<<k,k+=8)),y+=d&(1<<h)-1,y>f){n.msg="invalid distance too far back",S.mode=fn;break e}if(d>>>=h,k-=h,h=a-s,y>h){if(h=y-h,h>c&&S.sane){n.msg="invalid distance too far back",S.mode=fn;break e}if(w=0,A=m,_===0){if(w+=l-h,h<g){g-=h;do E[a++]=m[w++];while(--h);w=a-y,A=E}}else if(_<h){if(w+=l+_-h,h-=_,h<g){g-=h;do E[a++]=m[w++];while(--h);if(w=0,_<g){h=_,g-=h;do E[a++]=m[w++];while(--h);w=a-y,A=E}}}else if(w+=_-h,h<g){g-=h;do E[a++]=m[w++];while(--h);w=a-y,A=E}for(;g>2;)E[a++]=A[w++],E[a++]=A[w++],E[a++]=A[w++],g-=3;g&&(E[a++]=A[w++],g>1&&(E[a++]=A[w++]))}else{w=a-y;do E[a++]=E[w++],E[a++]=E[w++],E[a++]=E[w++],g-=3;while(g>2);g&&(E[a++]=E[w++],g>1&&(E[a++]=E[w++]))}}else if((h&64)===0){p=v[(p&65535)+(d&(1<<h)-1)];continue n}else{n.msg="invalid distance code",S.mode=fn;break e}break}}else if((h&64)===0){p=N[(p&65535)+(d&(1<<h)-1)];continue t}else if(h&32){S.mode=nh;break e}else{n.msg="invalid literal/length code",S.mode=fn;break e}break}}while(i<r&&a<o);g=k>>3,i-=g,k-=g<<3,d&=(1<<k)-1,n.next_in=i,n.next_out=a,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=a<o?257+(o-a):257-(a-o),S.hold=d,S.bits=k},Ye=15,Vo=852,Go=592,Wo=0,xi=1,Ko=2,rh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ah=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oh=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sh=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),lh=(e,n,t,i,r,a,s,o)=>{let f=o.bits,l=0,c=0,_=0,m=0,d=0,k=0,N=0,v=0,b=0,u=0,p,h,g,y,w,A=null,O,E=new Uint16Array(Ye+1),S=new Uint16Array(Ye+1),j=null,me,W,Ae;for(l=0;l<=Ye;l++)E[l]=0;for(c=0;c<i;c++)E[n[t+c]]++;for(d=f,m=Ye;m>=1&&E[m]===0;m--);if(d>m&&(d=m),m===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,o.bits=1,0;for(_=1;_<m&&E[_]===0;_++);for(d<_&&(d=_),v=1,l=1;l<=Ye;l++)if(v<<=1,v-=E[l],v<0)return-1;if(v>0&&(e===Wo||m!==1))return-1;for(S[1]=0,l=1;l<Ye;l++)S[l+1]=S[l]+E[l];for(c=0;c<i;c++)n[t+c]!==0&&(s[S[n[t+c]]++]=c);if(e===Wo?(A=j=s,O=20):e===xi?(A=rh,j=ah,O=257):(A=oh,j=sh,O=0),u=0,c=0,l=_,w=a,k=d,N=0,g=-1,b=1<<d,y=b-1,e===xi&&b>Vo||e===Ko&&b>Go)return 1;for(;;){me=l-N,s[c]+1<O?(W=0,Ae=s[c]):s[c]>=O?(W=j[s[c]-O],Ae=A[s[c]-O]):(W=96,Ae=0),p=1<<l-N,h=1<<k,_=h;do h-=p,r[w+(u>>N)+h]=me<<24|W<<16|Ae|0;while(h!==0);for(p=1<<l-1;u&p;)p>>=1;if(p!==0?(u&=p-1,u+=p):u=0,c++,--E[l]===0){if(l===m)break;l=n[t+s[c]]}if(l>d&&(u&y)!==g){for(N===0&&(N=d),w+=_,k=l-N,v=1<<k;k+N<m&&(v-=E[k+N],!(v<=0));)k++,v<<=1;if(b+=1<<k,e===xi&&b>Vo||e===Ko&&b>Go)return 1;g=u&y,r[g]=d<<24|k<<16|w-a|0}}return u!==0&&(r[w+u]=l-N<<24|64<<16|0),o.bits=d,0},Ct=lh,ch=0,Xs=1,Vs=2,{Z_FINISH:Jo,Z_BLOCK:uh,Z_TREES:hn,Z_OK:Me,Z_STREAM_END:fh,Z_NEED_DICT:hh,Z_STREAM_ERROR:G,Z_DATA_ERROR:Gs,Z_MEM_ERROR:Ws,Z_BUF_ERROR:dh,Z_DEFLATED:Yo}=it,yn=16180,Qo=16181,es=16182,ts=16183,ns=16184,is=16185,rs=16186,as=16187,os=16188,ss=16189,mn=16190,_e=16191,Ei=16192,ls=16193,ki=16194,cs=16195,us=16196,fs=16197,hs=16198,dn=16199,pn=16200,ds=16201,ps=16202,_s=16203,bs=16204,gs=16205,Si=16206,ms=16207,vs=16208,q=16209,Ks=16210,Js=16211,ph=852,_h=592,bh=15,gh=bh,ws=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function mh(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Pe=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.mode<yn||n.mode>Js?1:0},Ys=e=>{if(Pe(e))return G;let n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=yn,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(ph),n.distcode=n.distdyn=new Int32Array(_h),n.sane=1,n.back=-1,Me},Qs=e=>{if(Pe(e))return G;let n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,Ys(e)},el=(e,n)=>{let t;if(Pe(e))return G;let i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?G:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,Qs(e))},tl=(e,n)=>{if(!e)return G;let t=new mh;e.state=t,t.strm=e,t.window=null,t.mode=yn;let i=el(e,n);return i!==Me&&(e.state=null),i},vh=e=>tl(e,gh),ys=!0,Oi,Ai,wh=e=>{if(ys){Oi=new Int32Array(512),Ai=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Ct(Xs,e.lens,0,288,Oi,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Ct(Vs,e.lens,0,32,Ai,0,e.work,{bits:5}),ys=!1}e.lencode=Oi,e.lenbits=9,e.distcode=Ai,e.distbits=5},nl=(e,n,t,i)=>{let r,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(n.subarray(t-i,t-i+r),a.wnext),i-=r,i?(a.window.set(n.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},yh=(e,n)=>{let t,i,r,a,s,o,f,l,c,_,m,d,k,N,v=0,b,u,p,h,g,y,w,A,O=new Uint8Array(4),E,S,j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Pe(e)||!e.output||!e.input&&e.avail_in!==0)return G;t=e.state,t.mode===_e&&(t.mode=Ei),s=e.next_out,r=e.output,f=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,l=t.hold,c=t.bits,_=o,m=f,A=Me;e:for(;;)switch(t.mode){case yn:if(t.wrap===0){t.mode=Ei;break}for(;c<16;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,O[0]=l&255,O[1]=l>>>8&255,t.check=z(t.check,O,2,0),l=0,c=0,t.mode=Qo;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=q;break}if((l&15)!==Yo){e.msg="unknown compression method",t.mode=q;break}if(l>>>=4,c-=4,w=(l&15)+8,t.wbits===0&&(t.wbits=w),w>15||w>t.wbits){e.msg="invalid window size",t.mode=q;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?ss:_e,l=0,c=0;break;case Qo:for(;c<16;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if(t.flags=l,(t.flags&255)!==Yo){e.msg="unknown compression method",t.mode=q;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=q;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(O[0]=l&255,O[1]=l>>>8&255,t.check=z(t.check,O,2,0)),l=0,c=0,t.mode=es;case es:for(;c<32;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(O[0]=l&255,O[1]=l>>>8&255,O[2]=l>>>16&255,O[3]=l>>>24&255,t.check=z(t.check,O,4,0)),l=0,c=0,t.mode=ts;case ts:for(;c<16;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(O[0]=l&255,O[1]=l>>>8&255,t.check=z(t.check,O,2,0)),l=0,c=0,t.mode=ns;case ns:if(t.flags&1024){for(;c<16;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(O[0]=l&255,O[1]=l>>>8&255,t.check=z(t.check,O,2,0)),l=0,c=0}else t.head&&(t.head.extra=null);t.mode=is;case is:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(w=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+d),w)),t.flags&512&&t.wrap&4&&(t.check=z(t.check,i,d,a)),o-=d,a+=d,t.length-=d),t.length))break e;t.length=0,t.mode=rs;case rs:if(t.flags&2048){if(o===0)break e;d=0;do w=i[a+d++],t.head&&w&&t.length<65536&&(t.head.name+=String.fromCharCode(w));while(w&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=z(t.check,i,d,a)),o-=d,a+=d,w)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=as;case as:if(t.flags&4096){if(o===0)break e;d=0;do w=i[a+d++],t.head&&w&&t.length<65536&&(t.head.comment+=String.fromCharCode(w));while(w&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=z(t.check,i,d,a)),o-=d,a+=d,w)break e}else t.head&&(t.head.comment=null);t.mode=os;case os:if(t.flags&512){for(;c<16;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=q;break}l=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=_e;break;case ss:for(;c<32;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}e.adler=t.check=ws(l),l=0,c=0,t.mode=mn;case mn:if(t.havedict===0)return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,hh;e.adler=t.check=1,t.mode=_e;case _e:if(n===uh||n===hn)break e;case Ei:if(t.last){l>>>=c&7,c-=c&7,t.mode=Si;break}for(;c<3;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}switch(t.last=l&1,l>>>=1,c-=1,l&3){case 0:t.mode=ls;break;case 1:if(wh(t),t.mode=dn,n===hn){l>>>=2,c-=2;break e}break;case 2:t.mode=us;break;case 3:e.msg="invalid block type",t.mode=q}l>>>=2,c-=2;break;case ls:for(l>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=q;break}if(t.length=l&65535,l=0,c=0,t.mode=ki,n===hn)break e;case ki:t.mode=cs;case cs:if(d=t.length,d){if(d>o&&(d=o),d>f&&(d=f),d===0)break e;r.set(i.subarray(a,a+d),s),o-=d,a+=d,f-=d,s+=d,t.length-=d;break}t.mode=_e;break;case us:for(;c<14;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if(t.nlen=(l&31)+257,l>>>=5,c-=5,t.ndist=(l&31)+1,l>>>=5,c-=5,t.ncode=(l&15)+4,l>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=q;break}t.have=0,t.mode=fs;case fs:for(;t.have<t.ncode;){for(;c<3;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}t.lens[j[t.have++]]=l&7,l>>>=3,c-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,E={bits:t.lenbits},A=Ct(ch,t.lens,0,19,t.lencode,0,t.work,E),t.lenbits=E.bits,A){e.msg="invalid code lengths set",t.mode=q;break}t.have=0,t.mode=hs;case hs:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[l&(1<<t.lenbits)-1],b=v>>>24,u=v>>>16&255,p=v&65535,!(b<=c);){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if(p<16)l>>>=b,c-=b,t.lens[t.have++]=p;else{if(p===16){for(S=b+2;c<S;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if(l>>>=b,c-=b,t.have===0){e.msg="invalid bit length repeat",t.mode=q;break}w=t.lens[t.have-1],d=3+(l&3),l>>>=2,c-=2}else if(p===17){for(S=b+3;c<S;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}l>>>=b,c-=b,w=0,d=3+(l&7),l>>>=3,c-=3}else{for(S=b+7;c<S;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}l>>>=b,c-=b,w=0,d=11+(l&127),l>>>=7,c-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=q;break}for(;d--;)t.lens[t.have++]=w}}if(t.mode===q)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=q;break}if(t.lenbits=9,E={bits:t.lenbits},A=Ct(Xs,t.lens,0,t.nlen,t.lencode,0,t.work,E),t.lenbits=E.bits,A){e.msg="invalid literal/lengths set",t.mode=q;break}if(t.distbits=6,t.distcode=t.distdyn,E={bits:t.distbits},A=Ct(Vs,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,E),t.distbits=E.bits,A){e.msg="invalid distances set",t.mode=q;break}if(t.mode=dn,n===hn)break e;case dn:t.mode=pn;case pn:if(o>=6&&f>=258){e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,ih(e,m),s=e.next_out,r=e.output,f=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,l=t.hold,c=t.bits,t.mode===_e&&(t.back=-1);break}for(t.back=0;v=t.lencode[l&(1<<t.lenbits)-1],b=v>>>24,u=v>>>16&255,p=v&65535,!(b<=c);){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if(u&&(u&240)===0){for(h=b,g=u,y=p;v=t.lencode[y+((l&(1<<h+g)-1)>>h)],b=v>>>24,u=v>>>16&255,p=v&65535,!(h+b<=c);){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}l>>>=h,c-=h,t.back+=h}if(l>>>=b,c-=b,t.back+=b,t.length=p,u===0){t.mode=gs;break}if(u&32){t.back=-1,t.mode=_e;break}if(u&64){e.msg="invalid literal/length code",t.mode=q;break}t.extra=u&15,t.mode=ds;case ds:if(t.extra){for(S=t.extra;c<S;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ps;case ps:for(;v=t.distcode[l&(1<<t.distbits)-1],b=v>>>24,u=v>>>16&255,p=v&65535,!(b<=c);){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if((u&240)===0){for(h=b,g=u,y=p;v=t.distcode[y+((l&(1<<h+g)-1)>>h)],b=v>>>24,u=v>>>16&255,p=v&65535,!(h+b<=c);){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}l>>>=h,c-=h,t.back+=h}if(l>>>=b,c-=b,t.back+=b,u&64){e.msg="invalid distance code",t.mode=q;break}t.offset=p,t.extra=u&15,t.mode=_s;case _s:if(t.extra){for(S=t.extra;c<S;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=q;break}t.mode=bs;case bs:if(f===0)break e;if(d=m-f,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=q;break}d>t.wnext?(d-=t.wnext,k=t.wsize-d):k=t.wnext-d,d>t.length&&(d=t.length),N=t.window}else N=r,k=s-t.offset,d=t.length;d>f&&(d=f),f-=d,t.length-=d;do r[s++]=N[k++];while(--d);t.length===0&&(t.mode=pn);break;case gs:if(f===0)break e;r[s++]=t.length,f--,t.mode=pn;break;case Si:if(t.wrap){for(;c<32;){if(o===0)break e;o--,l|=i[a++]<<c,c+=8}if(m-=f,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?z(t.check,r,m,s-m):zt(t.check,r,m,s-m)),m=f,t.wrap&4&&(t.flags?l:ws(l))!==t.check){e.msg="incorrect data check",t.mode=q;break}l=0,c=0}t.mode=ms;case ms:if(t.wrap&&t.flags){for(;c<32;){if(o===0)break e;o--,l+=i[a++]<<c,c+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=q;break}l=0,c=0}t.mode=vs;case vs:A=fh;break e;case q:A=Gs;break e;case Ks:return Ws;case Js:default:return G}return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,(t.wsize||m!==e.avail_out&&t.mode<q&&(t.mode<Si||n!==Jo))&&nl(e,e.output,e.next_out,m-e.avail_out),_-=e.avail_in,m-=e.avail_out,e.total_in+=_,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?z(t.check,r,m,e.next_out-m):zt(t.check,r,m,e.next_out-m)),e.data_type=t.bits+(t.last?64:0)+(t.mode===_e?128:0)+(t.mode===dn||t.mode===ki?256:0),(_===0&&m===0||n===Jo)&&A===Me&&(A=dh),A},xh=e=>{if(Pe(e))return G;let n=e.state;return n.window&&(n.window=null),e.state=null,Me},Eh=(e,n)=>{if(Pe(e))return G;let t=e.state;return(t.wrap&2)===0?G:(t.head=n,n.done=!1,Me)},kh=(e,n)=>{let t=n.length,i,r,a;return Pe(e)||(i=e.state,i.wrap!==0&&i.mode!==mn)?G:i.mode===mn&&(r=1,r=zt(r,n,t,0),r!==i.check)?Gs:(a=nl(e,n,t,t),a?(i.mode=Ks,Ws):(i.havedict=1,Me))},Sh=Qs,Oh=el,Ah=Ys,Th=vh,Rh=tl,Ch=yh,Ih=xh,Nh=Eh,qh=kh,Dh="pako inflate (from Nodeca project)",ge={inflateReset:Sh,inflateReset2:Oh,inflateResetKeep:Ah,inflateInit:Th,inflateInit2:Rh,inflate:Ch,inflateEnd:Ih,inflateGetHeader:Nh,inflateSetDictionary:qh,inflateInfo:Dh};function zh(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Lh=zh,il=Object.prototype.toString,{Z_NO_FLUSH:Uh,Z_FINISH:jh,Z_OK:jt,Z_STREAM_END:Ti,Z_NEED_DICT:Ri,Z_STREAM_ERROR:Fh,Z_DATA_ERROR:xs,Z_MEM_ERROR:Zh}=it;function Pt(e){this.options=wn.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hs,this.strm.avail_out=0;let t=ge.inflateInit2(this.strm,n.windowBits);if(t!==jt)throw new Error(Fe[t]);if(this.header=new Lh,ge.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Ut.string2buf(n.dictionary):il.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=ge.inflateSetDictionary(this.strm,n.dictionary),t!==jt)))throw new Error(Fe[t])}Pt.prototype.push=function(e,n){let t=this.strm,i=this.options.chunkSize,r=this.options.dictionary,a,s,o;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?jh:Uh,il.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=ge.inflate(t,s),a===Ri&&r&&(a=ge.inflateSetDictionary(t,r),a===jt?a=ge.inflate(t,s):a===xs&&(a=Ri));t.avail_in>0&&a===Ti&&t.state.wrap>0&&e[t.next_in]!==0;)ge.inflateReset(t),a=ge.inflate(t,s);switch(a){case Fh:case xs:case Ri:case Zh:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===Ti))if(this.options.to==="string"){let f=Ut.utf8border(t.output,t.next_out),l=t.next_out-f,c=Ut.buf2string(t.output,f);t.next_out=l,t.avail_out=i-l,l&&t.output.set(t.output.subarray(f,f+l),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===jt&&o===0)){if(a===Ti)return a=ge.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Pt.prototype.onData=function(e){this.chunks.push(e)};Pt.prototype.onEnd=function(e){e===jt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=wn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $i(e,n){let t=new Pt(n);if(t.push(e),t.err)throw t.msg||Fe[t.err];return t.result}function Mh(e,n){return n=n||{},n.raw=!0,$i(e,n)}var Ph=Pt,Bh=$i,Hh=Mh,$h=$i,Xh=it,Vh={Inflate:Ph,inflate:Bh,inflateRaw:Hh,ungzip:$h,constants:Xh},{Deflate:tp,deflate:np,deflateRaw:ip,gzip:Gh}=th,{Inflate:rp,inflate:ap,inflateRaw:op,ungzip:Wh}=Vh;var rl=Gh;var al=Wh;var ll="X-Compressed",Kh={[ll]:"true"},ot=class{connected;wasEverConnectedBefore;intendedDisconnect;constructor(n,t,i){this.connected=n,this.wasEverConnectedBefore=t,this.intendedDisconnect=i}},hp=(()=>{class e{stompClient;stompSubscriptions=new Map;observables=new Map;subscribers=new Map;waitUntilConnectionSubscriptions=new Map;alreadyConnectedOnce=!1;shouldReconnect=!1;connectionStateInternal;consecutiveFailedAttempts=0;connecting=!1;socket=void 0;subscriptionCounter=0;constructor(){this.connectionStateInternal=new Gi(new ot(!1,!1,!0))}get connectionState(){return this.connectionStateInternal.asObservable()}stompFailureCallback(){if(this.connecting=!1,this.consecutiveFailedAttempts++,this.connectionStateInternal.getValue().connected&&this.connectionStateInternal.next(new ot(!1,this.alreadyConnectedOnce,!1)),this.shouldReconnect){let t;this.consecutiveFailedAttempts>20?t=600:this.consecutiveFailedAttempts>16?t=300:this.consecutiveFailedAttempts>12?t=120:this.consecutiveFailedAttempts>8?t=60:this.consecutiveFailedAttempts>4?t=20:this.consecutiveFailedAttempts>2?t=10:t=5,setTimeout(this.connect.bind(this),t*1e3)}}connect(){if(this.isConnected()||this.connecting)return;this.connecting=!0;let t=`//${window.location.host}/websocket`;this.socket=new ol.default(t,void 0,{transports:"websocket"});let i={heartbeat:{outgoing:1e4,incoming:1e4},debug:!1,protocols:["v12.stomp"]};this.stompClient=sl.default.over(this.socket,i),this.stompClient.debug=()=>{};let r={};this.stompClient.connect(r,()=>{this.connecting=!1,this.connectionStateInternal.getValue().connected||this.connectionStateInternal.next(new ot(!0,this.alreadyConnectedOnce,!1)),this.consecutiveFailedAttempts=0,this.alreadyConnectedOnce?this.observables.size!==0&&this.observables.forEach((a,s)=>this.addSubscription(s)):this.alreadyConnectedOnce=!0},this.stompFailureCallback.bind(this))}addSubscription(t){let i=this.stompClient.subscribe(t,this.handleIncomingMessage(t),{id:this.getSessionId()+"-"+this.subscriptionCounter++});this.stompSubscriptions.set(t,i)}handleIncomingMessage(t){return i=>{if(this.subscribers.has(t)){let r=i.headers[ll]==="true",a=i.body;if(r)try{a=e.decodeAndDecompress(a)}catch(s){kn("Failed to decompress message",s)}this.subscribers.get(t).next(e.parseJSON(a))}}}static compressAndEncode(t){let i=rl(t);return window.btoa(Array.from(i).map(r=>String.fromCharCode(r)).join(""))}static decodeAndDecompress(t){let i=Uint8Array.from(window.atob(t),r=>r.charCodeAt(0));return al(i,{to:"string"})}isConnected(){return this.stompClient?.connected||!1}disconnect(){this.observables.forEach((t,i)=>this.unsubscribe(i)),this.waitUntilConnectionSubscriptions.forEach(t=>t.unsubscribe()),this.stompClient&&(this.stompClient.disconnect(),this.stompClient=void 0,(this.connectionStateInternal.getValue().connected||!this.connectionStateInternal.getValue().intendedDisconnect)&&this.connectionStateInternal.next(new ot(!1,this.alreadyConnectedOnce,!0))),this.alreadyConnectedOnce=!1}receive(t){return t!=null&&(this.observables.size===0||!this.observables.has(t))&&this.observables.set(t,this.createObservable(t)),this.observables.get(t)}send(t,i){if(this.isConnected()){let r=JSON.stringify(i);if(new Blob([r]).size>1024)try{let s=e.compressAndEncode(r);this.stompClient.send(t,s,Kh)}catch(s){kn("Failed to compress websocket message",s),this.stompClient.send(t,r,{})}else this.stompClient.send(t,r,{})}}subscribe(t){if(t==null)return this;let i=this.connectionState.pipe(Wi(r=>r.connected)).subscribe(()=>{this.observables.has(t)||this.observables.set(t,this.createObservable(t)),this.stompSubscriptions.has(t)||this.addSubscription(t)});return this.waitUntilConnectionSubscriptions.set(t,i),this}unsubscribe(t){this&&this.stompSubscriptions&&this.stompSubscriptions.has(t)&&(this.stompSubscriptions.get(t).unsubscribe(),this.stompSubscriptions.delete(t),this.observables.delete(t),this.subscribers.delete(t),this.waitUntilConnectionSubscriptions.has(t)&&(this.waitUntilConnectionSubscriptions.get(t).unsubscribe(),this.waitUntilConnectionSubscriptions.delete(t)))}createObservable(t){return new Vi(i=>{this.subscribers.set(t,i)})}enableReconnect(){this.stompClient&&!this.stompClient.connected&&this.connect(),this.shouldReconnect=!0}disableReconnect(){this.shouldReconnect=!1}ngOnDestroy(){this.disconnect()}static parseJSON(t){try{return JSON.parse(t)}catch{return t}}getSessionId(){let i=this.socket?._transport?.url?.match(".*\\/websocket\\/\\d*\\/(.*)\\/websocket.*");return i?i[1]:"unsubscribed"}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ki({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();export{hp as a};
/*! Bundled license information:

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
//# sourceMappingURL=chunk-5ZXXURLP.js.map
