import{a}from"./chunk-FNJRUM5G.js";import{c as i}from"./chunk-CK7FH6VF.js";import{c}from"./chunk-CXQURQM5.js";import{O as u}from"./chunk-IOA4DPXY.js";import{Ea as p,ya as m,z as o}from"./chunk-5LC5EQRR.js";var g=(()=>{class t{http=p(u);stringCountService=p(a);resourceUrl="api/assessment";create(r,e){let s=this.convert(r);return this.http.post(`${this.resourceUrl}/exercises/${e}/example-submissions`,s,{observe:"response"}).pipe(o(n=>this.convertResponse(n)))}update(r,e){let s=this.convert(r);return this.http.put(`${this.resourceUrl}/exercises/${e}/example-submissions`,s,{observe:"response"}).pipe(o(n=>this.convertResponse(n)))}prepareForAssessment(r,e){return this.http.post(`${this.resourceUrl}/exercises/${r}/example-submissions/${e}/prepare-assessment`,{},{observe:"response"})}get(r){return this.http.get(`${this.resourceUrl}/example-submissions/${r}`,{observe:"response"}).pipe(o(e=>this.convertResponse(e)))}delete(r){return this.http.delete(`${this.resourceUrl}/example-submissions/${r}`,{observe:"response"})}import(r,e){return this.http.post(`${this.resourceUrl}/exercises/${e}/example-submissions/import/${r}`,{},{observe:"response"}).pipe(o(s=>this.convertResponse(s)))}convertResponse(r){let e=this.convertItemFromServer(r.body);return r.clone({body:e})}convertItemFromServer(r){return Object.assign({},r)}convert(r){let e=Object.assign({},r);return e.exercise&&(e.exercise=i.convertExerciseDatesFromClient(e.exercise),e.exercise=i.setBonusPointsConstrainedByIncludedInOverallScore(e.exercise),e.exercise.categories=i.stringifyExerciseCategories(e.exercise)),e}getSubmissionSize(r,e){if(r&&e&&e.type===c.TEXT)return this.stringCountService.countWords(r.text);if(r&&e&&e.type===c.MODELING){let s=JSON.parse(r.model);return s?s.elements?.length+s.relationships?.length:0}return 0}static \u0275fac=function(e){return new(e||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();export{g as a};
//# sourceMappingURL=chunk-UVXOAEFF.js.map
