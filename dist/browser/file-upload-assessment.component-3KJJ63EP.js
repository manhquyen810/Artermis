import{a as ue,b as pe,c as he}from"./chunk-RJFCCH4I.js";import"./chunk-RUZE5GXG.js";import{a as de}from"./chunk-7OWNIVQU.js";import{b as le}from"./chunk-3DNS47RB.js";import{a as xe}from"./chunk-5WJSNL65.js";import"./chunk-S5MKSB5U.js";import{a as oe}from"./chunk-U6AELCVK.js";import{a as re}from"./chunk-QGGSPP32.js";import{a as ae}from"./chunk-7MNRIAWL.js";import{a as fe}from"./chunk-TOVMCMTA.js";import"./chunk-FNJRUM5G.js";import{a as E}from"./chunk-COI3ESZV.js";import"./chunk-V55WZ52P.js";import{a as me}from"./chunk-GITU5WHL.js";import{a as ce}from"./chunk-SUUJN3EQ.js";import"./chunk-GXLYQKDJ.js";import"./chunk-CCVWGTN5.js";import"./chunk-MD22LTSS.js";import"./chunk-RKZRHQUL.js";import"./chunk-JCAGYDTX.js";import"./chunk-OI2L2OHD.js";import"./chunk-A2A6JFSH.js";import"./chunk-MD6Z63OB.js";import"./chunk-M2FHCXD3.js";import"./chunk-RGQYMQQL.js";import"./chunk-FLZTDUOG.js";import"./chunk-QU4DXSXD.js";import"./chunk-A3NV42OL.js";import"./chunk-656XE4CO.js";import"./chunk-O2WHE2S3.js";import"./chunk-U4DJRHYQ.js";import"./chunk-JRBFEQNN.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-65Z25AP3.js";import"./chunk-5M3YV54C.js";import"./chunk-RYZEETVB.js";import"./chunk-VTF2OQPK.js";import"./chunk-BNRTXX46.js";import"./chunk-N4VVKRBU.js";import"./chunk-5AQXEKLE.js";import{j as U}from"./chunk-3JSWSN6W.js";import"./chunk-7XNS72RJ.js";import"./chunk-KYCCMZSV.js";import{k as se,l as ne}from"./chunk-DXTZ4GAW.js";import"./chunk-2UXGFGK3.js";import"./chunk-O4VJ5OXY.js";import"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-OTNXTVPX.js";import{q as ie}from"./chunk-Z2YUBN6N.js";import"./chunk-6EYB5QBP.js";import"./chunk-GERFCPB6.js";import"./chunk-T624HJJL.js";import"./chunk-HQTS6JOY.js";import"./chunk-HMZID6NQ.js";import"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-2QXIMOEO.js";import"./chunk-JHBUBEY6.js";import"./chunk-R2SUWIPY.js";import"./chunk-35PLMJNP.js";import"./chunk-4I367PEU.js";import"./chunk-QA7Y7QBM.js";import"./chunk-ZPITQMA6.js";import"./chunk-2CUFQLAH.js";import{b as ee,c as te}from"./chunk-DRMCDU75.js";import"./chunk-Z6NSEM73.js";import"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import{d as Y}from"./chunk-CK7FH6VF.js";import{b as Q,d as X}from"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import{c as D}from"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-ZFM7LHJQ.js";import"./chunk-JNO6DNVW.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-VK7JPHFE.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{a as Z}from"./chunk-K3W6YFKH.js";import{c as J}from"./chunk-JXJXC4DZ.js";import{d as q}from"./chunk-EDXSOKK5.js";import{b as H}from"./chunk-R5BZWVRQ.js";import{p as I}from"./chunk-DID2YGL7.js";import{c as G,k as K}from"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as $}from"./chunk-U54OSGNH.js";import{f as N,h as W,i as M}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import{c as z}from"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{i as B,x as O}from"./chunk-IOA4DPXY.js";import{Db as r,Dc as v,Ea as m,Ed as P,Id as j,L as R,Ma as d,Mc as g,Na as u,Oc as l,Tb as L,Zb as _,aa as C,dd as t,ed as A,kc as f,ld as F,md as T,nd as w,pd as V,sc as x,xc as o,yc as a,yd as k,zc as p,zd as y}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";function _e(n,h){if(n&1){let e=v();t(0,`
                            `),o(1,"div",12),t(2,`
                                `),o(3,"a",13),g("click",function(){d(e);let s=l(3);return u(s.downloadFile(s.submission.filePath))}),a(),t(4,`
                                `),o(5,"span",14),t(6),k(7,"uppercase"),a(),t(8,`
                            `),a(),t(9,`
                        `)}if(n&2){let e=l(3);r(6),A(y(7,1,e.attachmentExtension(e.submission.filePath)))}}function be(n,h){if(n&1&&(t(0,`
            `),o(1,"jhi-resizeable-container",3),t(2,`
                `),t(3,`
                `),o(4,"span",4),t(5),a(),t(6,`
                `),p(7,"jhi-score-display",5),t(8,`
                `),o(9,"div",6),t(10,`
                    `),o(11,"div",7),t(12,`
                        `),_(13,_e,10,3),a(),t(14,`
                `),a(),t(15,`
                `),t(16,`
                `),p(17,"fa-icon",8),t(18,`\xA0
                `),p(19,"span",9),t(20,`
                `),p(21,"div",10),t(22,`
                `),p(23,"jhi-assessment-instructions",11),t(24,`
                `),t(25,`
            `),a(),t(26,`
        `)),n&2){let e,i=l(2);r(5),A((e=i.exercise==null?null:i.exercise.title)!==null&&e!==void 0?e:""),r(2),f("score",i.totalScore)("maxPoints",i.exercise.maxPoints)("maxBonusPoints",i.exercise.bonusPoints)("course",i.course),r(6),x(i.submission!=null&&i.submission.filePath?13:-1),r(4),f("icon",i.farListAlt),r(6),f("exercise",i.exercise)}}function ge(n,h){if(n&1&&(t(0,`
                `),o(1,"div",15),t(2),k(3,"artemisTranslate"),a(),t(4,`
            `)),n&2){let e=l(2);r(2),A(y(3,1,e.invalidError))}}function Ae(n,h){if(n&1){let e=v();t(0,`
                `),o(1,"jhi-unreferenced-feedback",16),w("feedbacksChange",function(s){d(e);let c=l(2);return T(c.unreferencedFeedback,s)||(c.unreferencedFeedback=s),u(s)}),g("feedbacksChange",function(){d(e);let s=l(2);return u(s.validateAssessment())}),a(),t(2,`
            `)}if(n&2){let e=l(2);r(),F("feedbacks",e.unreferencedFeedback),f("readOnly",e.readOnly)("highlightDifferences",e.highlightDifferences)("resultId",e.result.id)}}function ve(n,h){if(n&1&&(t(0,`
        `),_(1,be,27,8),o(2,"div",2),t(3,`
            `),_(4,ge,5,3)(5,Ae,3,4),a(),t(6,`
    `)),n&2){let e=l();r(),x(!e.busy&&e.exercise?1:-1),r(3),x(e.invalidError?4:-1),r(),x(e.result&&e.result.id?5:-1)}}function Se(n,h){if(n&1&&(t(0,`
            `),o(1,"div",17),t(2,`
                `),p(3,"p",18),t(4,`
                `),o(5,"a",19),t(6,`
                    `),p(7,"span",20),t(8,`
                `),a(),t(9,`
            `),a(),t(10,`
        `)),n&2){let e=l(2);r(5),f("routerLink",e.exerciseDashboardLink)}}function Ce(n,h){if(n&1&&(t(0,`
        `),_(1,Se,11,1)),n&2){let e=l();r(),x(e.loadingInitialSubmission?-1:1)}}function ke(n,h){if(n&1){let e=v();t(0,`
                        `),o(1,"div",12),t(2,`
                            `),o(3,"a",13),g("click",function(){d(e);let s=l(3);return u(s.downloadFile(s.submission.filePath))}),a(),t(4,`
                            `),o(5,"span",14),t(6),k(7,"uppercase"),a(),t(8,`
                        `),a(),t(9,`
                    `)}if(n&2){let e=l(3);r(6),A(y(7,1,e.attachmentExtension(e.submission.filePath)))}}function ye(n,h){if(n&1&&(t(0,`
        `),o(1,"jhi-resizeable-container",3),t(2,`
            `),t(3,`
            `),o(4,"span",4),t(5),a(),t(6,`
            `),p(7,"jhi-score-display",5),t(8,`
            `),o(9,"div",6),t(10,`
                `),o(11,"div",7),t(12,`
                    `),_(13,ke,10,3),a(),t(14,`
            `),a(),t(15,`
            `),t(16,`
            `),p(17,"fa-icon",8),t(18,`\xA0
            `),p(19,"span",9),t(20,`
            `),p(21,"div",10),t(22,`
            `),p(23,"jhi-assessment-instructions",11),t(24,`
            `),t(25,`
        `),a(),t(26,`
    `)),n&2){let e,i=l(2);r(5),A((e=i.exercise==null?null:i.exercise.title)!==null&&e!==void 0?e:""),r(2),f("score",i.totalScore)("maxPoints",i.exercise.maxPoints)("maxBonusPoints",i.exercise.bonusPoints)("course",i.course),r(6),x(i.submission!=null&&i.submission.filePath?13:-1),r(4),f("icon",i.farListAlt),r(6),f("exercise",i.exercise)}}function Fe(n,h){if(n&1&&(t(0,`
            `),o(1,"div",15),t(2),k(3,"artemisTranslate"),a(),t(4,`
        `)),n&2){let e=l(2);r(2),A(y(3,1,e.invalidError))}}function Te(n,h){if(n&1){let e=v();t(0,`
            `),o(1,"jhi-unreferenced-feedback",16),w("feedbacksChange",function(s){d(e);let c=l(2);return T(c.unreferencedFeedback,s)||(c.unreferencedFeedback=s),u(s)}),g("feedbacksChange",function(){d(e);let s=l(2);return u(s.validateAssessment())}),a(),t(2,`
        `)}if(n&2){let e=l(2);r(),F("feedbacks",e.unreferencedFeedback),f("readOnly",e.readOnly)("highlightDifferences",e.highlightDifferences)("resultId",e.result.id)}}function we(n,h){if(n&1&&(t(0,`
    `),_(1,ye,27,8),o(2,"div",2),t(3,`
        `),_(4,Fe,5,3)(5,Te,3,4),a(),t(6,`
`)),n&2){let e=l();r(),x(!e.busy&&e.exercise?1:-1),r(3),x(e.invalidError?4:-1),r(),x(e.result&&e.result.id?5:-1)}}var mt=(()=>{class n{changeDetectorRef=m(j);alertService=m(J);router=m(W);route=m(N);fileUploadAssessmentService=m(E);accountService=m(H);location=m(B);fileUploadSubmissionService=m(ae);complaintService=m(re);fileService=m(ce);structuredGradingCriterionService=m(me);submissionService=m(Y);text;participation;submission;unassessedSubmission;result;unreferencedFeedback=[];exercise;course;exerciseId;totalScore=0;assessmentsAreValid;invalidError;isAssessor=!0;busy=!0;showResult=!0;complaint;ComplaintType=oe;notFound=!1;userId;isLoading=!0;isTestRun=!1;courseId;hasAssessmentDueDatePassed;correctionRound=0;resultId;examId=0;exerciseGroupId;exerciseDashboardLink;loadingInitialSubmission=!0;highlightDifferences=!1;cancelConfirmationText;farListAlt=ie;constructor(){let e=m(z);this.assessmentsAreValid=!1,e.get("artemisApp.assessment.messages.confirmCancel").subscribe(i=>this.cancelConfirmationText=i)}get assessments(){return[...this.unreferencedFeedback]}ngOnInit(){this.busy=!0,this.accountService.identity().then(e=>{this.userId=e.id}),this.route.queryParamMap.subscribe(e=>{this.isTestRun=e.get("testRun")==="true",e.get("correction-round")&&(this.correctionRound=parseInt(e.get("correction-round"),10))}),this.route.params.subscribe(e=>{this.courseId=Number(e.courseId);let i=Number(e.exerciseId);this.resultId=Number(e.resultId)||0,this.exerciseId=i;let s=e.examId;s&&(this.examId=Number(s),this.exerciseGroupId=Number(e.exerciseGroupId)),this.exerciseDashboardLink=te(this.courseId,this.exerciseId,this.examId,this.isTestRun);let c=e.submissionId,b=Number(c);c==="new"?this.loadOptimalSubmission(this.exerciseId):this.loadSubmission(b)})}attachmentExtension(e){return e?e.split(".").pop():"N/A"}loadOptimalSubmission(e){this.fileUploadSubmissionService.getSubmissionWithoutAssessment(e,!0,this.correctionRound).subscribe({next:i=>{if(!i){this.navigateBack(),this.alertService.info("artemisApp.exerciseAssessmentDashboard.noSubmissions");return}this.initializePropertiesFromSubmission(i),this.validateAssessment();let s=window.location.hash.replace("#","").replace("new",`${this.submission.id}`);this.location.go(s)},error:i=>{this.loadingInitialSubmission=!1,i.error&&i.error.errorKey==="lockedSubmissionsLimitReached"?this.navigateBack():this.onError("artemisApp.assessment.messages.loadSubmissionFailed")}})}loadSubmission(e){this.fileUploadSubmissionService.get(e,this.correctionRound,this.resultId).pipe(R(i=>!!i)).subscribe({next:i=>{this.initializePropertiesFromSubmission(i.body),this.validateAssessment()},error:i=>{this.loadingInitialSubmission=!1,i.error&&i.error.errorKey==="lockedSubmissionsLimitReached"?this.navigateBack():D(this.alertService,i)}})}initializePropertiesFromSubmission(e){this.loadingInitialSubmission=!1,this.submission=e,this.participation=this.submission.participation,this.exercise=this.participation.exercise,this.accountService.setAccessRightsForExercise(this.exercise),this.course=K(this.exercise),this.hasAssessmentDueDatePassed=!!this.exercise.assessmentDueDate&&I(this.exercise.assessmentDueDate).isBefore(I()),this.resultId>0?(this.correctionRound=this.submission.results?.findIndex(i=>i.id===this.resultId),this.result=X(this.submission,this.resultId)):this.result=Q(this.submission),this.getComplaint(),this.result&&(this.submission.participation.results=[this.result],this.result.participation=this.submission.participation),this.result?.feedbacks?this.unreferencedFeedback=this.result.feedbacks:this.result&&(this.result.feedbacks=[]),(!this.result?.assessor||this.result?.assessor.id===this.userId)&&!this.result?.completionDate&&(this.alertService.closeAll(),this.alertService.info("artemisApp.fileUploadAssessment.messages.lock")),this.checkPermissions(),this.calculateTotalScore(),this.submissionService.handleFeedbackCorrectionRoundTag(this.correctionRound,this.submission),this.busy=!1,this.isLoading=!1}ngOnDestroy(){this.changeDetectorRef.detach()}addFeedback(){let e=new U;this.unreferencedFeedback.push(e),this.validateAssessment()}deleteAssessment(e){let i=this.unreferencedFeedback.indexOf(e);this.unreferencedFeedback.splice(i,1),this.validateAssessment()}assessNext(){this.isLoading=!0,this.unreferencedFeedback=[],this.fileUploadSubmissionService.getSubmissionWithoutAssessment(this.exercise.id,!1,this.correctionRound).subscribe({next:e=>{if(this.isLoading=!1,this.unassessedSubmission=e,!e){this.submission=void 0;return}let i=ee(G.FILE_UPLOAD,this.courseId,this.exerciseId,this.unassessedSubmission.participation.id,this.unassessedSubmission.id,this.examId,this.exerciseGroupId);this.router.navigate(i)},error:e=>{this.isLoading=!1,D(this.alertService,e)}})}onSaveAssessment(){this.isLoading=!0,this.fileUploadAssessmentService.saveAssessment(this.assessments,this.submission.id,this.result?.assessmentNote?.note).pipe(C(()=>this.isLoading=!1)).subscribe({next:e=>{this.result=e,this.alertService.closeAll(),this.alertService.success("artemisApp.assessment.messages.saveSuccessful")},error:()=>{this.alertService.closeAll(),this.alertService.error("artemisApp.assessment.messages.saveFailed")}})}onSubmitAssessment(){if(this.validateAssessment(),!this.assessmentsAreValid){this.alertService.error("artemisApp.fileUploadAssessment.error.invalidAssessments");return}this.isLoading=!0,this.fileUploadAssessmentService.saveAssessment(this.assessments,this.submission.id,this.result?.assessmentNote?.note,!0).pipe(C(()=>this.isLoading=!1)).subscribe({next:e=>{this.result=e,this.updateParticipationWithResult(),this.alertService.closeAll(),this.alertService.success("artemisApp.assessment.messages.submitSuccessful")},error:e=>this.onError(`artemisApp.${e.error.entityName}.${e.error.message}`)})}onCancelAssessment(){window.confirm(this.cancelConfirmationText)&&(this.isLoading=!0,this.fileUploadAssessmentService.cancelAssessment(this.submission.id).pipe(C(()=>this.isLoading=!1)).subscribe(()=>{this.navigateBack()}))}updateParticipationWithResult(){this.showResult=!1,this.changeDetectorRef.detectChanges(),this.participation.results[0]=this.result,this.showResult=!0,this.changeDetectorRef.detectChanges()}getComplaint(){this.complaintService.findBySubmissionId(this.submission.id).subscribe({next:e=>{e.body&&(this.complaint=e.body)},error:e=>{D(this.alertService,e)}})}navigateBack(){ue(this.location,this.router,this.exercise,this.submission,this.isTestRun)}updateAssessment(){this.validateAssessment()}validateAssessment(){this.assessmentsAreValid=!0,this.invalidError=void 0,this.assessmentsAreValid=U.haveCreditsAndComments(this.unreferencedFeedback),this.calculateTotalScore(),this.submissionService.handleFeedbackCorrectionRoundTag(this.correctionRound,this.submission)}calculateTotalScore(){let e=ne(this.exercise),i=this.structuredGradingCriterionService.computeTotalScore(this.assessments);this.totalScore=se(i,e)}downloadFile(e){this.fileService.downloadFile(e)}checkPermissions(){this.isAssessor=this.result?.assessor?.id===this.userId}get canOverride(){if(this.exercise){if(this.exercise.isAtLeastInstructor)return!0;if(this.complaint&&this.isAssessor)return!1;let e=!0;return this.exercise.assessmentDueDate&&(e=I().isBefore(this.exercise.assessmentDueDate)),this.isAssessor&&e}return!1}onUpdateAssessmentAfterComplaint(e){if(this.validateAssessment(),!this.assessmentsAreValid){this.alertService.error("artemisApp.fileUploadAssessment.error.invalidAssessments"),e.onError();return}this.isLoading=!0,this.fileUploadAssessmentService.updateAssessmentAfterComplaint(this.assessments,e.complaintResponse,this.submission.id,this.result.assessmentNote?.note).pipe(C(()=>this.isLoading=!1)).subscribe({next:i=>{e.onSuccess(),this.result=i.body,this.updateParticipationWithResult(),this.alertService.closeAll(),this.alertService.success("artemisApp.assessment.messages.updateAfterComplaintSuccessful")},error:i=>{e.onError(),this.alertService.closeAll();let s=i.error;s&&s.errorKey&&s.errorKey==="complaintLock"?this.alertService.error(s.message,s.params):this.alertService.error("artemisApp.assessment.messages.updateAfterComplaintFailed")}})}get readOnly(){return!pe(this.isTestRun,this.isAssessor,this.hasAssessmentDueDatePassed,this.result,this.complaint,this.exercise)}onError(e){this.alertService.error(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=L({type:n,selectors:[["ng-component"]],features:[V([E])],decls:8,vars:15,consts:[["assessment",""],[3,"navigateBack","highlightDifferencesChange","save","onSubmit","onCancel","nextSubmission","updateAssessmentAfterComplaint","isLoading","isTeamMode","isAssessor","isTestRun","exerciseDashboardLink","canOverride","result","assessmentsAreValid","complaint","exercise","submission","hasAssessmentDueDatePassed","correctionRound","highlightDifferences"],[1,"row","mt-3"],[1,"col-12"],["left-header",""],["left-header","",3,"score","maxPoints","maxBonusPoints","course"],["left-body",""],[1,"row"],["right-header","",3,"icon"],["right-header","","jhiTranslate","artemisApp.assessmentInstructions.instructions.instructions"],["right-body","","role","alert","jhiTranslate","artemisApp.textAssessment.assessmentInstruction",1,"alert","alert-info","text-center","mb-4"],["id","instructions-card","right-body","",1,"markdown-preview",3,"exercise"],[1,"col-12","card-text"],["jhiTranslate","artemisApp.fileUploadAssessment.submissionFile",1,"text-primary",3,"click"],[1,"ms-2","badge","bg-info"],["role","alert",1,"col-8","alert","alert-danger"],[3,"feedbacksChange","feedbacks","readOnly","highlightDifferences","resultId"],["role","alert",1,"alert","alert-warning","text-center","mt-4"],["jhiTranslate","artemisApp.fileUploadAssessment.notFound"],[1,"btn","btn-info","btn-sm","me-1","mb-1","assessment-dashboard",3,"routerLink"],["jhiTranslate","entity.action.exerciseDashboard",1,"d-none","d-md-inline"]],template:function(i,s){if(i&1){let c=v();o(0,"jhi-assessment-layout",1),g("navigateBack",function(){return d(c),u(s.navigateBack())}),w("highlightDifferencesChange",function(S){return d(c),T(s.highlightDifferences,S)||(s.highlightDifferences=S),u(S)}),g("save",function(){return d(c),u(s.onSaveAssessment())})("onSubmit",function(){return d(c),u(s.onSubmitAssessment())})("onCancel",function(){return d(c),u(s.onCancelAssessment())})("nextSubmission",function(){return d(c),u(s.assessNext())})("updateAssessmentAfterComplaint",function(S){return d(c),u(s.onUpdateAssessmentAfterComplaint(S))}),t(1,`
    `),_(2,ve,7,3)(3,Ce,2,1),a(),t(4,`
`),_(5,we,7,3,"ng-template",null,0,P),t(7,`
`)}i&2&&(f("isLoading",s.isLoading)("isTeamMode",(s.exercise==null?null:s.exercise.teamMode)||!1)("isAssessor",s.isAssessor)("isTestRun",s.isTestRun)("exerciseDashboardLink",s.exerciseDashboardLink)("canOverride",s.canOverride)("result",s.result)("assessmentsAreValid",s.assessmentsAreValid)("complaint",s.complaint)("exercise",s.exercise)("submission",s.submission)("hasAssessmentDueDatePassed",s.hasAssessmentDueDatePassed)("correctionRound",s.correctionRound),F("highlightDifferences",s.highlightDifferences),r(2),x(s.submission?2:3))},dependencies:[he,fe,xe,$,q,le,de,M,O,Z],encapsulation:2})}return n})();export{mt as FileUploadAssessmentComponent};
//# sourceMappingURL=file-upload-assessment.component-3KJJ63EP.js.map
