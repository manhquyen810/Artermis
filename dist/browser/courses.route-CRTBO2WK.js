import{a as h}from"./chunk-77MUXXWJ.js";import{a as f}from"./chunk-QA7Y7QBM.js";import{b as R}from"./chunk-ZPITQMA6.js";import{a as i}from"./chunk-PMK72D73.js";import{d as E}from"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import{a as v}from"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-36AB5BWM.js";import"./chunk-UHM5AJSI.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import"./chunk-JXJXC4DZ.js";import{a as t}from"./chunk-R5BZWVRQ.js";import{p as C}from"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{h as S}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Ea as p,oa as u,s as c,ya as d}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var s=(()=>{class e{courseStorageService=p(v);courseManagementService=p(E);router=p(S);serverDateService=p(f);canActivate(o){let n=o.parent?.paramMap.get("courseId");if(!n)return c(!1);let r=parseInt(n,10),m=o.routeConfig?.path;return m?this.courseManagementService.findOneForDashboard(r).pipe(u(l=>(l.body&&this.courseStorageService.updateCourse(l.body),this.handleReturn(this.courseStorageService.getCourse(r),m)))):c(!1)}handleReturn=(o,n)=>{let r;switch(n){case a.EXERCISES:r=!0;break;case a.LECTURES:r=!!o?.lectures;break;case a.EXAMS:r=this.hasVisibleExams(o);break;case a.COMPETENCIES:r=!!(o?.numberOfCompetencies||o?.numberOfPrerequisites);break;case a.TUTORIAL_GROUPS:r=!!o?.numberOfTutorialGroups;break;case a.DASHBOARD:r=o?.studentCourseAnalyticsDashboardEnabled??!1;break;case a.FAQ:r=o?.faqEnabled??!1;break;case a.LEARNING_PATH:r=o?.learningPathsEnabled??!1;break;case a.COMMUNICATION:r=R(o);break;default:r=!1}return r||this.router.navigate([`/courses/${o?.id}/exercises`]),c(r)};hasVisibleExams(o){if(o?.exams){for(let n of o.exams)if(n.visibleDate&&C(n.visibleDate).isBefore(this.serverDateService.now()))return!0}return!1}static \u0275fac=function(n){return new(n||e)};static \u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var a=function(e){return e.DASHBOARD="dashboard",e.EXERCISES="exercises",e.EXAMS="exams",e.COMPETENCIES="competencies",e.TUTORIAL_GROUPS="tutorial-groups",e.FAQ="faq",e.LEARNING_PATH="learning-path",e.LECTURES="lectures",e.ENROLL="enroll",e.ARCHIVE="archive",e.STATISTICS="statistics",e.COMMUNICATION="communication",e}(a||{}),y=[{path:"",loadComponent:()=>import("./courses.component-EOHHTWGS.js").then(e=>e.CoursesComponent),data:{authorities:[t.USER],pageTitle:"overview.title"},canActivate:[i]},{path:a.ENROLL,loadComponent:()=>import("./course-registration.component-I2PTSHXD.js").then(e=>e.CourseRegistrationComponent),data:{authorities:[t.USER],pageTitle:"artemisApp.studentDashboard.enroll.title"},canActivate:[i]},{path:a.ARCHIVE,loadComponent:()=>import("./course-archive.component-TQNVFA53.js").then(e=>e.CourseArchiveComponent),data:{authorities:[t.USER],pageTitle:"overview.archive"},canActivate:[i]},{path:":courseId/register",loadComponent:()=>import("./course-registration-detail.component-CFVNQPTM.js").then(e=>e.CourseRegistrationDetailComponent),data:{authorities:[t.USER],pageTitle:"artemisApp.studentDashboard.enroll.title"},canActivate:[i]},{path:":courseId",loadComponent:()=>import("./course-overview.component-C3TOEEGU.js").then(e=>e.CourseOverviewComponent),data:{authorities:[t.USER],pageTitle:"overview.course"},canActivate:[i],children:[{path:a.EXERCISES,loadComponent:()=>import("./course-exercises.component-GBPJAUX4.js").then(e=>e.CourseExercisesComponent),data:{authorities:[t.USER],pageTitle:"overview.exercises",hasSidebar:!0,showRefreshButton:!0},canActivate:[i],children:[{path:":exerciseId",data:{authorities:[t.USER],pageTitle:"overview.exercises",hasSidebar:!0,showRefreshButton:!0},canActivate:[i],loadComponent:()=>import("./orion-course-exercise-details.component-6JCON64Z.js").then(e=>e.OrionCourseExerciseDetailsComponent),pathMatch:"full"}]},{path:"exercises/text-exercises/:exerciseId",data:{authorities:[t.USER],pageTitle:"overview.textExercise"},loadChildren:()=>import("./text-editor.route-3WH6IPXD.js").then(e=>e.textEditorRoute)},{path:"exercises/programming-exercises/:exerciseId/code-editor/:participationId",loadComponent:()=>import("./code-editor-student-container.component-VHU4NRUN.js").then(e=>e.CodeEditorStudentContainerComponent),data:{authorities:[t.USER],pageTitle:"overview.programmingExercise"},canActivate:[i]},{path:"exercises/:exerciseId/repository",data:{authorities:[t.USER],pageTitle:"overview.repository"},loadChildren:()=>import("./programming-repository.route-FFDTRWHB.js").then(e=>e.routes)},{path:"exercises/modeling-exercises/:exerciseId",data:{authorities:[t.USER],pageTitle:"overview.modelingExercise"},loadChildren:()=>import("./modeling-participation.route-NM2DTSUA.js").then(e=>e.routes)},{path:"exercises/quiz-exercises/:exerciseId",data:{authorities:[t.USER],pageTitle:"overview.quizExercise"},loadChildren:()=>import("./quiz-participation.route-FPQSYZAM.js").then(e=>e.routes)},{path:"exercises/file-upload-exercises/:exerciseId/participate/:participationId",loadComponent:()=>import("./file-upload-submission.component-ZJAEL3UR.js").then(e=>e.FileUploadSubmissionComponent),data:{authorities:[t.USER],pageTitle:"overview.fileUploadExercise"},canActivate:[i],canDeactivate:[h]},{path:a.LECTURES,loadComponent:()=>import("./course-lectures.component-6KHXS7OW.js").then(e=>e.CourseLecturesComponent),data:{authorities:[t.USER],pageTitle:"overview.lectures",hasSidebar:!0,showRefreshButton:!0},canActivate:[i,s],children:[{path:":lectureId",data:{authorities:[t.USER],pageTitle:"overview.lectures",hasSidebar:!0,showRefreshButton:!0},canActivate:[i],loadComponent:()=>import("./course-lecture-details.component-LIBZ7KKY.js").then(e=>e.CourseLectureDetailsComponent)}]},{path:a.STATISTICS,loadChildren:()=>import("./course-statistics.route-XHNTPAXV.js").then(e=>e.routes),data:{authorities:[t.USER],pageTitle:"overview.statistics",showRefreshButton:!0}},{path:a.COMPETENCIES,data:{authorities:[t.USER],pageTitle:"overview.competencies",showRefreshButton:!0},canActivate:[s],children:[{path:"",pathMatch:"full",data:{authorities:[t.USER],pageTitle:"overview.competencies"},loadComponent:()=>import("./course-competencies.component-7OLAXLU6.js").then(e=>e.CourseCompetenciesComponent),canActivate:[i]},{path:":competencyId",loadComponent:()=>import("./course-competencies-details.component-5VIVHBM2.js").then(e=>e.CourseCompetenciesDetailsComponent),data:{authorities:[t.USER],pageTitle:"overview.competencies"},canActivate:[i]}]},{path:a.DASHBOARD,pathMatch:"full",loadComponent:()=>import("./course-dashboard.component-RRN2DJ7L.js").then(e=>e.CourseDashboardComponent),data:{authorities:[t.USER],pageTitle:"overview.dashboard"},canActivate:[i,s]},{path:a.LEARNING_PATH,loadComponent:()=>import("./learning-path-student-page.component-B6V55KO7.js").then(e=>e.LearningPathStudentPageComponent),data:{authorities:[t.USER],pageTitle:"overview.learningPath",showRefreshButton:!0},canActivate:[s]},{path:a.COMMUNICATION,pathMatch:"full",loadComponent:()=>import("./course-conversations.component-UNCIMULA.js").then(e=>e.CourseConversationsComponent),data:{authorities:[t.USER],pageTitle:"overview.communication",hasSidebar:!0,showRefreshButton:!0}},{path:a.TUTORIAL_GROUPS,loadComponent:()=>import("./course-tutorial-groups.component-EITHI3FO.js").then(e=>e.CourseTutorialGroupsComponent),data:{authorities:[t.USER],pageTitle:"overview.tutorialGroups",hasSidebar:!0,showRefreshButton:!0},canActivate:[i,s],children:[{path:":tutorialGroupId",loadComponent:()=>import("./course-tutorial-group-detail.component-GDQMWRPX.js").then(e=>e.CourseTutorialGroupDetailComponent),data:{authorities:[t.USER],pageTitle:"overview.tutorialGroups",hasSidebar:!0,showRefreshButton:!0},canActivate:[i]}]},{path:a.EXAMS,loadComponent:()=>import("./course-exams.component-WMFNRFFX.js").then(e=>e.CourseExamsComponent),data:{authorities:[t.USER],pageTitle:"overview.exams",hasSidebar:!0,showRefreshButton:!0},canActivate:[i,s],children:[{path:":examId",loadComponent:()=>import("./exam-participation.component-VVLK7ZY4.js").then(e=>e.ExamParticipationComponent),data:{authorities:[t.USER],pageTitle:"overview.exams",hasSidebar:!0,showRefreshButton:!0},canActivate:[i],canDeactivate:[h],loadChildren:()=>import("./exam-participation.route-BSKQAKUT.js").then(e=>e.examParticipationRoute)}]},{path:"plagiarism-cases/:plagiarismCaseId",loadComponent:()=>import("./plagiarism-case-student-detail-view.component-RMOMCF4T.js").then(e=>e.PlagiarismCaseStudentDetailViewComponent),data:{authorities:[t.USER],pageTitle:"overview.plagiarismCases"},canActivate:[i]},{path:a.FAQ,loadComponent:()=>import("./course-faq.component-7GZTQI7P.js").then(e=>e.CourseFaqComponent),data:{authorities:[t.USER],pageTitle:"overview.faq",hasSidebar:!1,showRefreshButton:!0},canActivate:[s]},{path:"",redirectTo:a.DASHBOARD,pathMatch:"full"}]}];export{a as CourseOverviewRoutePath,y as routes};
//# sourceMappingURL=courses.route-CRTBO2WK.js.map
