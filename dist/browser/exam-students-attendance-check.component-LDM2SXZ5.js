import{a as K}from"./chunk-OTCBNILH.js";import{a as q}from"./chunk-BIK4CL5A.js";import{a as H,b as J}from"./chunk-VRAVBLUK.js";import{a as X}from"./chunk-HMZID6NQ.js";import{a as W,b as O}from"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-PUNMJFMR.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-PZ7IDTIM.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-K3W6YFKH.js";import{c as z}from"./chunk-JXJXC4DZ.js";import{d as G}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import{p as v}from"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Lc as N,Nc as V,Ob as P,Oc as L,Qa as B,gc as D,sd as F}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as R}from"./chunk-U54OSGNH.js";import{f as M}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Db as r,Dc as I,Ea as S,Ma as g,Mc as j,Na as C,Oc as l,Rc as _,Tb as A,Zb as p,dd as e,f as y,fd as u,kc as m,ld as w,md as E,nd as U,sc as x,uc as b,vc as T,wc as k,xb as f,xc as n,yc as i,zc as o}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";function Q(a,d){a&1&&(e(0,`
        `),n(1,"div",1),e(2,`
            `),n(3,"div",2),e(4,`
                `),o(5,"span",3),e(6,`
            `),i(),e(7,`
        `),i(),e(8,`
    `))}function Y(a,d){a&1&&(e(0,`
                `),n(1,"div"),e(2,`
                    `),n(3,"h3")(4,"span",5),e(5,"Exam have not started yet!"),i()(),e(6,`
                `),i(),e(7,`
            `)),a&2&&(r(4),m("jhiTranslate","artemisApp.examManagement.examStudents.examNotStarted"))}function Z(a,d){if(a&1&&(e(0,`
                    `),n(1,"div"),e(2,`
                        `),n(3,"span",6),e(4,"Students who did not sign"),i(),e(5,`:
                        `),n(6,"span",7),e(7),i(),e(8,`
                    `),i(),e(9,`
                `)),a&2){let t=l(3);r(3),m("jhiTranslate","artemisApp.examManagement.examStudents.notCheckedStudents"),r(4),u(" ",t.allExamUsersAttendanceCheck.length,"")}}function $(a,d){if(a&1&&(e(0,`
                    `),n(1,"div"),e(2,`
                        `),n(3,"span",8),e(4,"All students passed"),i(),e(5,`
                        `),o(6,"fa-icon",9),e(7,`
                    `),i(),e(8,`
                `)),a&2){let t=l(3);r(3),m("jhiTranslate","artemisApp.examManagement.examStudents.allStudentsCheckedPassed"),r(3),m("icon",t.faCheck)}}function ee(a,d){if(a&1&&(e(0,`
                `),p(1,Z,10,2)(2,$,9,2)),a&2){let t=l(2);r(),x(t.allExamUsersAttendanceCheck&&t.allExamUsersAttendanceCheck.length>0?1:-1),r(),x(!t.allExamUsersAttendanceCheck||t.allExamUsersAttendanceCheck.length===0?2:-1)}}function te(a,d){if(a&1&&(e(0,`
        `),n(1,"div",4),e(2,`
            `),p(3,Y,8,1)(4,ee,3,2),i(),e(5,`
    `)),a&2){let t=l();r(3),x(t.hasExamStarted?4:3)}}function ne(a,d){if(a&1&&(e(0,`
                                    `),o(1,"img",24),e(2,`
                                `)),a&2){let t=l().$implicit;r(),m("src",t.signingImagePath,f)}}function ie(a,d){if(a&1&&(e(0,`
                                    `),n(1,"h3"),e(2,`
                                        `),n(3,"span",25),e(4,`
                                            `),o(5,"fa-icon",26),e(6,`
                                        `),i(),e(7,`
                                    `),i(),e(8,`
                                `)),a&2){let t=l(3);r(5),m("icon",t.faXmark)}}function ae(a,d){if(a&1&&(e(0,`
                        `),n(1,"tr"),e(2,`
                            `),n(3,"td",20),e(4,`
                                `),n(5,"span"),e(6),i(),e(7,`
                            `),i(),e(8,`
                            `),n(9,"td",20),e(10,`
                                `),o(11,"img",24),e(12,`
                            `),i(),e(13,`
                            `),n(14,"td",20),e(15,`
                                `),n(16,"span"),e(17),i(),e(18,`
                            `),i(),e(19,`
                            `),n(20,"td",20),e(21,`
                                `),n(22,"span"),e(23),i(),e(24,`
                            `),i(),e(25,`
                            `),n(26,"td",20),e(27,`
                                `),p(28,ne,3,1)(29,ie,9,1),i(),e(30,`
                            `),n(31,"td",20),e(32,`
                                `),o(33,"span",6),e(34,`
                            `),i(),e(35,`
                            `),n(36,"td",20),e(37,`
                                `),o(38,"span",6),e(39,`
                            `),i(),e(40,`
                        `),i(),e(41,`
                    `)),a&2){let t=d.$implicit,c=l(2);r(6),u(`
                                    `,t.id,`
                                `),r(5),m("src",t.studentImagePath?t.studentImagePath:c.MISSING_IMAGE,f),r(6),u(`
                                    `,t.login,`
                                `),r(6),u(`
                                    `,t.registrationNumber,`
                                `),r(5),x(c.allExamUsersAttendanceCheck.length===0&&(t!=null&&t.signingImagePath)?28:29),r(5),_("jhiTranslate",t!=null&&t.started?"global.generic.yes":"global.generic.no"),r(5),_("jhiTranslate",t!=null&&t.submitted?"global.generic.yes":"global.generic.no")}}function re(a,d){if(a&1){let t=I();e(0,`
        `),n(1,"div",10),e(2,`
            `),n(3,"table",11),e(4,`
                `),n(5,"thead"),e(6,`
                    `),n(7,"tr",12),U("predicateChange",function(s){g(t);let h=l();return E(h.predicate,s)||(h.predicate=s),C(s)})("ascendingChange",function(s){g(t);let h=l();return E(h.ascending,s)||(h.ascending=s),C(s)}),j("sortChange",function(){g(t);let s=l();return C(s.sortRows())}),e(8,`
                        `),n(9,"th",13),e(10,`
                            `),o(11,"span",14),e(12,`
                            `),o(13,"fa-icon",15),e(14,`
                        `),i(),e(15,`
                        `),o(16,"th"),e(17,`
                        `),n(18,"th",16),e(19,`
                            `),o(20,"span",17),e(21,`
                            `),o(22,"fa-icon",15),e(23,`
                        `),i(),e(24,`
                        `),n(25,"th",18),e(26,`
                            `),o(27,"span",19),e(28,`
                            `),o(29,"fa-icon",15),e(30,`
                        `),i(),e(31,`
                        `),n(32,"th",20),e(33,`
                            `),o(34,"span",21),e(35,`
                        `),i(),e(36,`
                        `),n(37,"th",20),e(38,`
                            `),o(39,"span",22),e(40,`
                        `),i(),e(41,`
                        `),n(42,"th",20),e(43,`
                            `),o(44,"span",23),e(45,`
                        `),i(),e(46,`
                    `),i(),e(47,`
                `),i(),e(48,`
                `),n(49,"tbody"),e(50,`
                    `),T(51,ae,42,7,null,null,b),i(),e(53,`
            `),i(),e(54,`
        `),i(),e(55,`
    `)}if(a&2){let t=l();r(7),w("predicate",t.predicate)("ascending",t.ascending),r(6),m("icon",t.faSort),r(9),m("icon",t.faSort),r(7),m("icon",t.faSort),r(22),k(t.allExamUsersAttendanceCheck)}}var ye=(()=>{class a{route=S(M);alertService=S(z);examManagementService=S(q);sortService=S(K);ButtonType=W;ButtonSize=O;ActionType=X;MISSING_IMAGE="/content/images/missing_image.png";courseId;exam;predicate="id";ascending=!0;isTestExam;allExamUsersAttendanceCheck=[];filteredUsersSize=0;paramSub;dialogErrorSource=new y;dialogError$=this.dialogErrorSource.asObservable();isLoading=!1;isSearching=!1;hasExamStarted=!1;hasExamEnded=!1;searchFailed=!1;searchNoResults=!1;isTransitioning=!1;rowClass;faPlus=N;faInfoCircle=P;faUpload=D;faCheck=F;faTimes=L;faXmark=V;faSort=B;ngOnInit(){this.isLoading=!0,this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.route.data.subscribe(({exam:t})=>{this.exam=t,this.hasExamStarted=t.startDate?.isBefore(v())||!1,this.hasExamEnded=t.endDate?.isBefore(v())||!1,this.isTestExam=this.exam.testExam}),this.hasExamStarted&&this.examManagementService.verifyExamUserAttendance(this.courseId,this.exam.id).subscribe({next:t=>{this.allExamUsersAttendanceCheck=t.body,this.isLoading=!1},error:t=>this.onError(t.message)})}ngOnDestroy(){this.dialogErrorSource.unsubscribe()}onError(t){this.alertService.error(t),this.isTransitioning=!1,this.isLoading=!1}sortRows(){this.sortService.sortByProperty(this.allExamUsersAttendanceCheck,this.predicate,this.ascending)}static \u0275fac=function(c){return new(c||a)};static \u0275cmp=A({type:a,selectors:[["jhi-exam-students-attendance-check"]],decls:10,vars:2,consts:[[1,"row"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],["jhiTranslate","loading",1,"sr-only"],[1,"d-flex","border-bottom","pb-2","mt-3"],[1,"text-white","badge","bg-danger",3,"jhiTranslate"],[3,"jhiTranslate"],["id","#registered-users",1,"badge","bg-danger","text-white","ms-1","px-2"],[1,"fs-3",3,"jhiTranslate"],[1,"fa-2x","ms-1",2,"color","green",3,"icon"],["id","exams-table",1,"table-responsive"],[1,"table","table-striped"],["jhiSort","",3,"predicateChange","ascendingChange","sortChange","predicate","ascending"],["jhiSortBy","id",1,"d-md-table-cell"],["jhiTranslate","global.field.id"],[3,"icon"],["jhiSortBy","login",1,"d-md-table-cell"],["jhiTranslate","artemisApp.examManagement.examStudents.login"],["jhiSortBy","registrationNumber",1,"d-md-table-cell"],["jhiTranslate","artemisApp.examManagement.examStudents.registrationNumber"],[1,"d-md-table-cell"],["jhiTranslate","artemisApp.examManagement.examStudents.attendanceChecks"],["jhiTranslate","artemisApp.studentExams.started"],["jhiTranslate","artemisApp.studentExams.submitted"],["width","60",1,"img-fluid",3,"src"],[1,"m-2"],[1,"text-danger",3,"icon"]],template:function(c,s){c&1&&(n(0,"div"),e(1,`
    `),p(2,Q,9,0)(3,te,6,1),o(4,"div",0),e(5,`
    `),o(6,"br"),e(7,`
    `),p(8,re,56,5),i(),e(9,`
`)),c&2&&(r(2),x(s.isLoading?2:3),r(6),x(s.allExamUsersAttendanceCheck.length>0&&!s.isLoading?8:-1))},dependencies:[R,G,H,J],encapsulation:2})}return a})();export{ye as ExamStudentsAttendanceCheckComponent};
//# sourceMappingURL=exam-students-attendance-check.component-LDM2SXZ5.js.map
