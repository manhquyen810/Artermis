import{a as ti}from"./chunk-7P4SPTAP.js";import{a as ii}from"./chunk-3FYXV53Z.js";import{a as ei}from"./chunk-V26L24NP.js";import"./chunk-HSP5ZR73.js";import"./chunk-IIAJ6FM4.js";import"./chunk-LXDP326M.js";import"./chunk-VJKFYSDP.js";import{a as U}from"./chunk-5FAM7LIP.js";import{a as Ye,b as Ke,c as $e}from"./chunk-XUG3TIT6.js";import{a as Qe}from"./chunk-YUF2Y3HT.js";import"./chunk-CCVWGTN5.js";import"./chunk-MD22LTSS.js";import"./chunk-RKZRHQUL.js";import"./chunk-RGQYMQQL.js";import{a as Xe}from"./chunk-SLVT6IA5.js";import"./chunk-FAFORKWV.js";import{a as Ze}from"./chunk-GAUWMTOK.js";import"./chunk-RNPAFOPW.js";import"./chunk-656XE4CO.js";import"./chunk-U4DJRHYQ.js";import{a as qe,b as Ue}from"./chunk-MBS3WUDO.js";import"./chunk-N4VVKRBU.js";import"./chunk-2UXGFGK3.js";import{d as ee}from"./chunk-O4VJ5OXY.js";import{f as We,g as Je}from"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-Z2YUBN6N.js";import"./chunk-OTCBNILH.js";import"./chunk-GERFCPB6.js";import{a as He}from"./chunk-MP6UGYTC.js";import{a as Ge}from"./chunk-2QXIMOEO.js";import"./chunk-R2SUWIPY.js";import"./chunk-35PLMJNP.js";import"./chunk-2CUFQLAH.js";import"./chunk-Z6NSEM73.js";import"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import{d as ze,j as $}from"./chunk-CT44YL7Q.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import{K as ke,o as Oe,p as we,q as Ee,r as Te,s as Re,v as G}from"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import{A as Se,B as Me,C as ve,K as ye,b as fe,c as Ce,h as _e,m as Pe,o as be}from"./chunk-WA5GEAJB.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{a as R}from"./chunk-K3W6YFKH.js";import{b as Ne,c as Be}from"./chunk-JXJXC4DZ.js";import{d as q}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import{c as M,j as Le}from"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Db as Fe,Uc as W,cb as Ve,kb as je,wd as J}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import{a as Ae}from"./chunk-HKBU2OOC.js";import{a as Ie}from"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as k}from"./chunk-U54OSGNH.js";import{f as ue,i as he,m as xe}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import{c as De}from"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{B as de,n as ce,y as ge}from"./chunk-IOA4DPXY.js";import{Ad as pe,Bd as K,Db as l,Dc as S,Ea as _,Ed as H,La as F,Ma as h,Mc as f,Na as x,Oa as L,Oc as c,Pa as Y,Rc as oe,Tb as E,Va as V,Xb as ae,Zb as P,cd as N,dd as e,ed as B,f as ie,fd as y,gd as z,kc as p,ld as D,mc as T,md as I,nd as A,ra as te,rd as w,sc as C,sd as me,uc as re,vc as se,wc as le,xc as r,ya as ne,yc as s,yd as b,zc as o,zd as O}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var Z=class{similarityThreshold;minimumScore;minimumSize;constructor(d,i,n){this.similarityThreshold=d,this.minimumScore=i,this.minimumSize=n}toParams(){return{similarityThreshold:this.similarityThreshold.toString(),minimumScore:this.minimumScore.toString(),minimumSize:this.minimumSize.toString()}}};var Q=(()=>{class a{filterComparisons(i,n){if(!n)return[];let t;return i.upperBound===100?t=m=>m.similarity>=i.lowerBound&&m.similarity<=i.upperBound:t=m=>m.similarity>=i.lowerBound&&m.similarity<i.upperBound,n.filter(t)}static \u0275fac=function(n){return new(n||a)};static \u0275prov=ne({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var v=function(a){return a.CONFIRMED="CONFIRMED",a.DENIED="DENIED",a.NONE="NONE",a}(v||{});var li=(a,d)=>({confirmed:a,denied:d});function oi(a,d){if(a&1&&(e(0,`
        `),r(1,"div",7),e(2,`
            `),o(3,"fa-icon",8),e(4,`
            `),o(5,"span",9),e(6,`
        `),s(),e(7,`
    `)),a&2){let i=c();l(3),p("icon",i.faExclamationTriangle)}}function mi(a,d){if(a&1&&(e(0,`
        `),r(1,"div",7),e(2,`
            `),o(3,"fa-icon",8),e(4,`
            `),o(5,"span",10),e(6,`
        `),s(),e(7,`
    `)),a&2){let i=c();l(3),p("icon",i.faExclamationTriangle)}}function pi(a,d){if(a&1){let i=S();e(0,`
                `),r(1,"li",12),f("click",function(){let t=h(i).$implicit,m=c(2);return x(m.selectIndex.emit(t.id))}),e(2,`
                    `),r(3,"div",13),e(4,`
                        `),o(5,"span",14),e(6,`
                        `),r(7,"div",15),e(8,`
                            `),r(9,"span",16),e(10),s(),e(11,`
                            `),r(12,"span",17),e(13,`
                                `),r(14,"span"),e(15),b(16,"artemisTranslate"),s(),e(17,`
                                `),r(18,"span"),e(19),b(20,"artemisTranslate"),s(),e(21,`
                            `),s(),e(22,`
                        `),s(),e(23,`
                    `),s(),e(24,`
                    `),r(25,"span",18),e(26),b(27,"number"),s(),e(28,`
                `),s(),e(29,`
            `)}if(a&2){let i=d.$implicit,n=d.$index,t=c(2);l(),T("selected",!t.showRunDetails&&i.id===t.activeID),l(4),p("ngClass",me(14,li,i.status===t.CONFIRMED,i.status===t.DENIED)),l(5),y(" #",t.getPagedIndex(n)+1+t.offset," "),l(5),y("",i.submissionA.studentLogin||O(16,7,"artemisApp.plagiarism.unknownStudent"),", "),l(4),B(i.submissionB.studentLogin||O(20,9,"artemisApp.plagiarism.unknownStudent")),l(7),y("(",pe(27,11,i.similarity||0,"1.2-2")," %)")}}function ci(a,d){if(a&1&&(e(0,`
        `),r(1,"ul",11),e(2,`
            `),se(3,pi,30,17,null,null,re),s(),e(5,`
    `)),a&2){let i=c();l(3),le(i.pagedComparisons)}}function gi(a,d){a&1&&(e(0,`
        `),o(1,"div",19),e(2,`
    `))}var ni=(()=>{class a{activeID;comparisons;casesFiltered=!1;offset=0;showRunDetails;showRunDetailsChange=new V;selectIndex=new V;CONFIRMED=v.CONFIRMED;DENIED=v.DENIED;faExclamationTriangle=J;currentPage=0;numberOfPages=0;pagedComparisons;pageSize=100;faChevronRight=W;faArrowLeft=Fe;faArrowRight=Ve;ngOnChanges(i){if(i.comparisons){let n=i.comparisons.currentValue;this.currentPage=0,n?this.numberOfPages=this.computeNumberOfPages(n.length):this.numberOfPages=1,this.pagedComparisons=this.getPagedComparisons()}}displayRunDetails(){this.showRunDetailsChange.emit(!0)}computeNumberOfPages(i){return Math.ceil(i/this.pageSize)}getPagedComparisons(){let i=this.currentPage*this.pageSize;return this.comparisons?.slice(i,i+this.pageSize)}getPagedIndex(i){return i+this.currentPage*this.pageSize}handlePageLeft(){this.currentPage!==0&&(this.currentPage--,this.pagedComparisons=this.getPagedComparisons())}handlePageRight(){this.currentPage+1>=this.numberOfPages||(this.currentPage++,this.pagedComparisons=this.getPagedComparisons())}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["jhi-plagiarism-sidebar"]],inputs:{activeID:"activeID",comparisons:"comparisons",casesFiltered:"casesFiltered",offset:"offset",showRunDetails:"showRunDetails"},outputs:{showRunDetailsChange:"showRunDetailsChange",selectIndex:"selectIndex"},features:[F],decls:31,vars:15,consts:[[1,"plagiarism-sidebar"],[1,"plagiarism-info-tab",3,"click"],[3,"icon"],[1,"plagiarism-paging"],[1,"plagiarism-paging-left",3,"click"],[1,"plagiarism-paging-center"],[1,"plagiarism-paging-right",3,"click"],[1,"filter-disclaimer"],[1,"text-warning","disclaimer-icon",3,"icon"],["jhiTranslate","artemisApp.plagiarism.casesFiltered"],["jhiTranslate","artemisApp.plagiarism.casesTrimmed"],[1,"plagiarism-list"],[1,"plagiarism-list-item",3,"click"],[1,"plagiarism-list-item-content"],[1,"plagiarism-status-indicator",3,"ngClass"],[1,"plagiarism-list-item-info"],[1,"plagiarism-name"],[1,"plagiarism-list-item-students"],[1,"plagiarism-percentage"],["jhiTranslate","artemisApp.plagiarism.notFound",1,"plagiarism-empty"]],template:function(n,t){n&1&&(r(0,"aside",0),e(1,`
    `),r(2,"div",1),f("click",function(){return t.displayRunDetails()}),e(3,`
        `),r(4,"span"),e(5,"Run details"),s(),e(6,`
        `),o(7,"fa-icon",2),e(8,`
    `),s(),e(9,`
    `),P(10,oi,8,1)(11,mi,8,1)(12,ci,6,0)(13,gi,3,0),r(14,"div",3),e(15,`
        `),r(16,"div",4),f("click",function(){return t.handlePageLeft()}),e(17,`
            `),o(18,"fa-icon",2),e(19,`
        `),s(),e(20,`
        `),r(21,"div",5),e(22),s(),e(23,`
        `),r(24,"div",6),f("click",function(){return t.handlePageRight()}),e(25,`
            `),o(26,"fa-icon",2),e(27,`
        `),s(),e(28,`
    `),s(),e(29,`
`),s(),e(30,`
`)),n&2&&(l(2),T("selected",t.showRunDetails),l(5),p("icon",t.faChevronRight),l(3),C(t.casesFiltered?10:-1),l(),C((t.comparisons==null?null:t.comparisons.length)===100?11:-1),l(),C(t.comparisons&&t.comparisons.length?12:-1),l(),C(!t.comparisons||!t.comparisons.length?13:-1),l(3),T("disabled",t.currentPage===0),l(2),p("icon",t.faArrowLeft),l(4),z("",t.currentPage+1,"/",t.numberOfPages,""),l(2),T("disabled",t.currentPage+1>=t.numberOfPages),l(2),p("icon",t.faArrowRight))},dependencies:[q,k,ce,de,R],styles:[".plagiarism-sidebar[_ngcontent-%COMP%]{border-right:1px solid var(--body-bg);display:flex;flex-direction:column;position:absolute;bottom:0;left:0;top:0;width:240px}.plagiarism-sidebar[_ngcontent-%COMP%]   .filter-disclaimer[_ngcontent-%COMP%]{padding:.75rem}.plagiarism-sidebar[_ngcontent-%COMP%]   .filter-disclaimer[_ngcontent-%COMP%]   .disclaimer-icon[_ngcontent-%COMP%]{margin-right:.5rem}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-paging[_ngcontent-%COMP%]{border-top:1px solid var(--body-bg);display:flex;flex-shrink:0}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-paging-left[_ngcontent-%COMP%], .plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-paging-right[_ngcontent-%COMP%]{flex-shrink:0;padding:.75rem;opacity:.5}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-paging-left.disabled[_ngcontent-%COMP%], .plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-paging-right.disabled[_ngcontent-%COMP%]{opacity:.2}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-paging-left[_ngcontent-%COMP%]:hover:not(.disabled), .plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-paging-right[_ngcontent-%COMP%]:hover:not(.disabled){cursor:pointer;opacity:.8}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-paging-center[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:1;font-weight:700;justify-content:center}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-info-tab[_ngcontent-%COMP%]{border-bottom:1px solid var(--body-bg);flex-shrink:0;cursor:pointer;padding:.75rem;display:flex;justify-content:space-between}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-info-tab.selected[_ngcontent-%COMP%]{background-color:#87cefa80;font-weight:700}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-info-tab[_ngcontent-%COMP%]:hover{background-color:#87cefa}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-list[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;list-style:none;margin:0;padding:0}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-list-item[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;justify-content:space-between;padding:.75rem}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-list-item-students[_ngcontent-%COMP%]{font-size:10px}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-list-item-content[_ngcontent-%COMP%]{align-items:center;display:flex}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-list-item-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-list-item.selected[_ngcontent-%COMP%]{background-color:#87cefa80}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-list-item.selected[_ngcontent-%COMP%]   .plagiarism-name[_ngcontent-%COMP%]{font-weight:700}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-list-item[_ngcontent-%COMP%]:hover{background-color:#87cefa}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-empty[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:1;justify-content:center;opacity:.5}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-status-indicator[_ngcontent-%COMP%]{background-color:var(--body-bg);border-radius:50%;flex-shrink:0;height:8px;margin-right:.75rem;width:8px}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-status-indicator.confirmed[_ngcontent-%COMP%]{background-color:green}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-status-indicator.denied[_ngcontent-%COMP%]{background-color:red}.plagiarism-sidebar[_ngcontent-%COMP%]   .plagiarism-percentage[_ngcontent-%COMP%]{flex-shrink:0}"]})}return a})();var di=a=>["/course-management",a,"plagiarism-cases"],ui=a=>({exerciseId:a});function hi(a,d){if(a&1&&(e(0,`
            `),o(1,"button",17),e(2,`
        `)),a&2){let i=c();l(),p("routerLink",w(3,di,i.exercise.course==null?null:i.exercise.course.id))("queryParams",w(5,ui,i.exercise.id))("disabled",i.isLoading||i.exercise.teamMode)}}function xi(a,d){if(a&1){let i=S();e(0,`
            `),r(1,"button",18),f("click",function(){h(i);let t=c();return x(t.confirmPlagiarism())}),s(),e(2,`
        `)}if(a&2){let i=c();l(),p("disabled",i.isLoading||i.exercise.teamMode)}}var ai=(()=>{class a{plagiarismCasesService=_(U);modalService=_(G);comparison;exercise;splitControlSubject;plagiarismStatus=v;isLoading=!1;confirmPlagiarism(){this.updatePlagiarismStatus(v.CONFIRMED)}denyPlagiarism(){this.comparison.status===v.CONFIRMED?this.askForConfirmationOfDenying(()=>this.updatePlagiarismStatus(v.DENIED)):this.updatePlagiarismStatus(v.DENIED)}askForConfirmationOfDenying(i){this.isLoading=!0;let n=this.modalService.open(Ze,{keyboard:!0,size:"lg"});n.componentInstance.title="artemisApp.plagiarism.denyAfterConfirmModalTitle",n.componentInstance.text="artemisApp.plagiarism.denyAfterConfirmModalText",n.componentInstance.translateText=!0,n.result.then(i,()=>this.isLoading=!1)}updatePlagiarismStatus(i){this.isLoading=!0;let n=this.comparison;this.plagiarismCasesService.updatePlagiarismComparisonStatus(Le(this.exercise),n.id,i).subscribe(()=>{n.status=i,this.isLoading=!1})}expandSplitPane(i){this.splitControlSubject.next(i)}resetSplitPanes(){this.splitControlSubject.next("even")}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["jhi-plagiarism-header"]],inputs:{comparison:"comparison",exercise:"exercise",splitControlSubject:"splitControlSubject"},decls:53,vars:8,consts:[[1,"plagiarism-header"],[1,"plagiarism-header-left"],[1,"fw-medium"],[1,"plagiarism-header-right"],["data-qa","deny-plagiarism-button","jhiTranslate","artemisApp.plagiarism.deny",1,"btn","btn-danger","btn-sm",3,"click","disabled"],[1,"vertical-divider"],[1,"split-controls"],["data-qa","split-view-left",1,"split-control",3,"click"],["width","28","height","28","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M4 5.5C4 4.67157 4.67157 4 5.5 4H15V20H5.5C4.67157 20 4 19.3284 4 18.5V5.5Z","fill","#E4E5E6"],["d","M17 4H18.5C19.3284 4 20 4.67157 20 5.5V18.5C20 19.3284 19.3284 20 18.5 20H17V4Z","fill","#E4E5E6"],["data-qa","split-view-even",1,"split-control",3,"click"],["d","M4 5.5C4 4.67157 4.67157 4 5.5 4H11V20H5.5C4.67157 20 4 19.3284 4 18.5V5.5Z","fill","#E4E5E6"],["d","M13 4H18.5C19.3284 4 20 4.67157 20 5.5V18.5C20 19.3284 19.3284 20 18.5 20H13V4Z","fill","#E4E5E6"],["data-qa","split-view-right",1,"split-control",3,"click"],["d","M20 18.5C20 19.3284 19.3284 20 18.5 20L9 20L9 4L18.5 4C19.3284 4 20 4.67157 20 5.5L20 18.5Z","fill","#E4E5E6"],["d","M7 20L5.5 20C4.67157 20 4 19.3284 4 18.5L4 5.5C4 4.67157 4.67157 4 5.5 4L7 4L7 20Z","fill","#E4E5E6"],["data-qa","view-plagiarism-cases-button","jhiTranslate","artemisApp.plagiarism.viewCases",1,"btn","btn-primary","btn-sm",3,"routerLink","queryParams","disabled"],["data-qa","confirm-plagiarism-button","jhiTranslate","artemisApp.plagiarism.confirm",1,"btn","btn-success","btn-sm",3,"click","disabled"]],template:function(n,t){n&1&&(r(0,"div",0),e(1,`
    `),r(2,"div",1),e(3,`
        `),r(4,"h5",2),e(5),b(6,"artemisTranslate"),b(7,"artemisTranslate"),s(),e(8,`
    `),s(),e(9,`

    `),r(10,"div",3),e(11,`
        `),P(12,hi,3,7)(13,xi,3,1),r(14,"button",4),f("click",function(){return t.denyPlagiarism()}),s(),e(15,`

        `),o(16,"div",5),e(17,`

        `),r(18,"div",6),e(19,`
            `),r(20,"div",7),f("click",function(){return t.expandSplitPane("left")}),e(21,`
                `),L(),r(22,"svg",8),e(23,`
                    `),o(24,"path",9),e(25,`
                    `),o(26,"path",10),e(27,`
                `),s(),e(28,`
            `),s(),e(29,`
            `),Y(),r(30,"div",11),f("click",function(){return t.resetSplitPanes()}),e(31,`
                `),L(),r(32,"svg",8),e(33,`
                    `),o(34,"path",12),e(35,`
                    `),o(36,"path",13),e(37,`
                `),s(),e(38,`
            `),s(),e(39,`
            `),Y(),r(40,"div",14),f("click",function(){return t.expandSplitPane("right")}),e(41,`
                `),L(),r(42,"svg",8),e(43,`
                    `),o(44,"path",15),e(45,`
                    `),o(46,"path",16),e(47,`
                `),s(),e(48,`
            `),s(),e(49,`
        `),s(),e(50,`
    `),s(),e(51,`
`),s(),e(52,`
`)),n&2&&(l(5),z(`
            `,t.comparison.submissionA.studentLogin||O(6,4,"artemisApp.plagiarism.unknownStudent"),`,
            `,t.comparison.submissionB.studentLogin||O(7,6,"artemisApp.plagiarism.unknownStudent"),`
        `),l(7),C(t.comparison.status===t.plagiarismStatus.CONFIRMED?12:13),l(2),p("disabled",t.comparison.status===t.plagiarismStatus.DENIED||t.isLoading||t.exercise.teamMode))},dependencies:[k,R,xe,he],styles:[".plagiarism-header[_ngcontent-%COMP%]{align-items:center;border-bottom:1px solid var(--body-bg);display:flex;justify-content:space-between;padding:1rem}.plagiarism-header-right[_ngcontent-%COMP%]{align-items:center;display:flex}.plagiarism-header-right[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 8px}.plagiarism-header-right[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]{display:flex}.plagiarism-header-right[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-control[_ngcontent-%COMP%]{border-radius:4px;cursor:pointer;margin:0 2px}.plagiarism-header-right[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-control[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.plagiarism-header-right[_ngcontent-%COMP%]   .vertical-divider[_ngcontent-%COMP%]{background-color:var(--body-bg);height:24px;width:1px}.plagiarism-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0}.plagiarism-header[_ngcontent-%COMP%]   .plagiarism-warning[_ngcontent-%COMP%]{color:#fff}"]})}return a})();function fi(a,d){if(a&1&&(e(0,`
    `),r(1,"div",0),e(2,`
        `),o(3,"jhi-plagiarism-header",1),e(4,`
        `),o(5,"jhi-plagiarism-split-view",2),e(6,`
    `),s(),e(7,`
`)),a&2){let i=c();l(3),p("splitControlSubject",i.splitControlSubject)("exercise",i.exercise)("comparison",i.comparison),l(2),p("comparison",i.comparison)("exercise",i.exercise)("splitControlSubject",i.splitControlSubject)}}var ri=(()=>{class a{comparison;exercise;splitControlSubject=new ie;static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["jhi-plagiarism-details"]],inputs:{comparison:"comparison",exercise:"exercise"},decls:1,vars:1,consts:[[1,"plagiarism-details"],[3,"splitControlSubject","exercise","comparison"],[3,"comparison","exercise","splitControlSubject"]],template:function(n,t){n&1&&P(0,fi,8,6),n&2&&C(t.comparison?0:-1)},dependencies:[ai,ei],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}.plagiarism-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:100%;overflow:hidden}"]})}return a})();var Ci=a=>[a,400],X=a=>({amount:a}),_i=a=>({range:a}),Pi=a=>({percentage:a});function bi(a,d){if(a&1&&(e(0,`
                    `),o(1,"b",17),e(2," "),o(3,"br"),e(4,`
                    `),o(5,"span",18),e(6," "),o(7,"br"),e(8,`
                    `),o(9,"span",19),e(10," "),o(11,"br"),e(12,`
                    `),o(13,"span",20),e(14," "),o(15,"br"),e(16,`
                    `),o(17,"span",21),e(18," "),o(19,"br"),e(20,`
                    `),o(21,"b",22),e(22,`
                `)),a&2){let i=d.model,n=c();l(),p("translateValues",w(6,X,i.value)),l(4),p("translateValues",w(8,X,n.getBucketDTO(i.label).confirmed)),l(4),p("translateValues",w(10,X,n.getBucketDTO(i.label).denied)),l(4),p("translateValues",w(12,X,n.getBucketDTO(i.label).open)),l(4),p("translateValues",w(14,_i,i.name)),l(4),p("translateValues",w(16,Pi,n.totalDetectedPlagiarisms>0?n.round(i.value*100/n.totalDetectedPlagiarisms,2):0))}}var si=(()=>{class a extends ti{inspectorService=_(Q);plagiarismResult;plagiarismResultStats;similaritySelected=new V;yScaleMax=5;totalDetectedPlagiarisms;bucketDTOs=[];round=ze;constructor(){super(),this.ngxChartLabels=["[0%-10%)","[10%-20%)","[20%-30%)","[30%-40%)","[40%-50%)","[50%-60%)","[60%-70%)","[70%-80%)","[80%-90%)","[90%-100%]"],this.ngxColor.domain=[...Array(8).fill(ee.LIGHT_BLUE),...Array(2).fill(ee.RED)]}ngOnChanges(i){i.plagiarismResult&&(this.setBucketDTOs(i.plagiarismResult.currentValue.comparisons||[]),this.updateChartDataSet(i.plagiarismResult.currentValue.similarityDistribution||[]))}updateChartDataSet(i){let n;this.ngxData=[],i.forEach((t,m)=>{n={name:this.ngxChartLabels[m],value:t},this.ngxData.push(n)}),this.totalDetectedPlagiarisms=i.reduce((t,m)=>t+m,0),this.ngxData=[...this.ngxData]}setBucketDTOs(i){this.bucketDTOs=[];let n=[0,10,20,30,40,50,60,70,80,90],t,m;n.forEach(u=>{t=this.inspectorService.filterComparisons(new $(u,u+10),i),m={confirmed:t.filter(g=>g.status===v.CONFIRMED).length,denied:t.filter(g=>g.status===v.DENIED).length,open:t.filter(g=>g.status===v.NONE).length},this.bucketDTOs.push(m)})}getBucketDTO(i){let n=this.ngxChartLabels.indexOf(i);return this.bucketDTOs[n]}onSelect(i){let n=i.name,t=n.indexOf("-"),m=parseInt(n.slice(1,t),10),u=parseInt(n.slice(t+1,n.length-2),10);this.similaritySelected.emit(new $(m,u))}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["jhi-plagiarism-run-details"]],inputs:{plagiarismResult:"plagiarismResult",plagiarismResultStats:"plagiarismResultStats"},outputs:{similaritySelected:"similaritySelected"},features:[ae,F],decls:75,vars:28,consts:[["containerRef",""],["tooltipTemplate",""],[1,"plagiarism-run-details"],[1,"plagiarism-run-details-stats"],[1,"plagiarism-run-details-stats-item"],["jhiTranslate","artemisApp.plagiarism.numberOfDetectedSubmissions",1,"plagiarism-run-details-label"],[1,"plagiarism-run-details-info"],["jhiTranslate","artemisApp.plagiarism.averageSimilarity",1,"plagiarism-run-details-label"],["jhiTranslate","artemisApp.plagiarism.maximalSimilarity",1,"plagiarism-run-details-label"],["jhiTranslate","artemisApp.plagiarism.duration",1,"plagiarism-run-details-label"],[1,"plagiarism-run-details-info","duration"],["jhiTranslate","artemisApp.plagiarism.startedAt",1,"plagiarism-run-details-label"],["jhiTranslate","artemisApp.plagiarism.startedBy",1,"plagiarism-run-details-label"],[1,"plagiarism-run-details-item"],[1,"plagiarism-run-details-label","text-center"],["placement","right auto","text","artemisApp.plagiarism.similarityDistributionExplanationTooltip"],[3,"select","roundEdges","view","scheme","results","xAxis","yAxis","yAxisTickFormatting","yScaleMax","showDataLabel"],["jhiTranslate","artemisApp.plagiarism.numberIdentifiedPairs",3,"translateValues"],["jhiTranslate","artemisApp.plagiarism.confirmed",3,"translateValues"],["jhiTranslate","artemisApp.plagiarism.denied",3,"translateValues"],["jhiTranslate","artemisApp.plagiarism.open",3,"translateValues"],["jhiTranslate","artemisApp.plagiarism.withSimilarity",3,"translateValues"],["jhiTranslate","artemisApp.plagiarism.portionOfAllCases",3,"translateValues"]],template:function(n,t){if(n&1){let m=S();r(0,"div",2),e(1,`
    `),r(2,"div",3),e(3,`
        `),r(4,"div",4),e(5,`
            `),o(6,"div",5),e(7,`
            `),r(8,"div",6),e(9),s(),e(10,`
        `),s(),e(11,`
        `),r(12,"div",4),e(13,`
            `),o(14,"div",7),e(15,`
            `),r(16,"div",6),e(17),s(),e(18,`
        `),s(),e(19,`
        `),r(20,"div",4),e(21,`
            `),o(22,"div",8),e(23,`
            `),r(24,"div",6),e(25),s(),e(26,`
        `),s(),e(27,`
        `),r(28,"div",4),e(29,`
            `),o(30,"div",9),e(31,`
            `),r(32,"div",10),e(33),b(34,"date"),s(),e(35,`
        `),s(),e(36,`
        `),r(37,"div",4),e(38,`
            `),o(39,"div",11),e(40,`
            `),r(41,"div",6),e(42),b(43,"date"),s(),e(44,`
        `),s(),e(45,`
        `),r(46,"div",4),e(47,`
            `),o(48,"div",12),e(49,`
            `),r(50,"div",6),e(51),s(),e(52,`
        `),s(),e(53,`
    `),s(),e(54,`

    `),r(55,"div",13),e(56,`
        `),r(57,"div",14),e(58),b(59,"artemisTranslate"),o(60,"jhi-help-icon",15),e(61,`
        `),s(),e(62,`
        `),r(63,"div",6,0),e(65,`
            `),r(66,"ngx-charts-bar-vertical",16),f("select",function(g){return h(m),x(t.onSelect(g))}),e(67,`
                `),P(68,bi,23,18,"ng-template",null,1,H),e(70,`
            `),s(),e(71,`
        `),s(),e(72,`
    `),s(),e(73,`
`),s(),e(74,`
`)}if(n&2){let m,u=N(64);l(9),y(`
                `,t.plagiarismResultStats==null?null:t.plagiarismResultStats.numberOfDetectedSubmissions,`
            `),l(8),y(`
                `,(t.plagiarismResultStats==null||t.plagiarismResultStats.averageSimilarity==null?null:t.plagiarismResultStats.averageSimilarity.toFixed(2))+" %",`
            `),l(8),y(`
                `,(t.plagiarismResultStats==null||t.plagiarismResultStats.maximalSimilarity==null?null:t.plagiarismResultStats.maximalSimilarity.toFixed(2))+" %",`
            `),l(8),y(`
                `,K(34,16,t.plagiarismResult==null?null:t.plagiarismResult.duration,"HH:mm:ss","GMT"),`
            `),l(9),y(`
                `,K(43,20,t.plagiarismResult==null||t.plagiarismResult.createdDate==null?null:t.plagiarismResult.createdDate.toLocaleString(),"dd.MM.YY HH:mm","GMT"),`
            `),l(9),y(`
                `,(m=t.plagiarismResultStats==null?null:t.plagiarismResultStats.createdBy)!==null&&m!==void 0?m:"unknown",`
            `),l(7),y(`
            `,O(59,24,"artemisApp.plagiarism.similarityDistribution"),`
            `),l(8),p("roundEdges",!1)("view",w(26,Ci,u.offsetWidth))("scheme",t.ngxColor)("results",t.ngxData)("xAxis",!0)("yAxis",!0)("yAxisTickFormatting",t.yAxisTickFormatting)("yScaleMax",t.yScaleMax)("showDataLabel",!0)}},dependencies:[k,Ge,Je,We,ge,R],styles:["[_nghost-%COMP%]{display:block;overflow-y:auto}.plagiarism-run-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.plagiarism-run-details-stats[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:1.5rem}.plagiarism-run-details-stats-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:180px;margin-right:1rem}.plagiarism-run-details-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.plagiarism-run-details-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.plagiarism-run-details-label[_ngcontent-%COMP%]{margin-bottom:.25rem}.plagiarism-run-details-info[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}[_nghost-%COMP%]  .tick{font-weight:700}","[_nghost-%COMP%]  .textDataLabel{font-weight:bolder;font-size:small!important;alignment-baseline:middle;text-anchor:start}@media (min-width: 1420px){[_nghost-%COMP%]  .textDataLabel{transform:rotate(0);font-size:medium!important;alignment-baseline:baseline;text-anchor:middle}}"]})}return a})();function Si(a,d){if(a&1){let i=S();e(0,`
                    `),r(1,"button",27),f("click",function(){h(i);let t=c();return x(t.resetFilter())}),e(2,`
                        `),o(3,"span",28),e(4,`
                    `),s(),e(5,`
                `)}}function Mi(a,d){a&1&&(e(0,`
                            `),o(1,"p",41),e(2,`
                        `))}function vi(a,d){if(a&1){let i=S();e(0,`
                    `),r(1,"div",29),e(2,`
                        `),r(3,"h4",30),e(4,`
                            `),o(5,"span",31),e(6,`
                        `),s(),e(7,`
                        `),r(8,"button",32),f("click",function(){let t=h(i).$implicit;return x(t.dismiss())}),s(),e(9,`
                    `),s(),e(10,`
                    `),r(11,"div",33),e(12,`
                        `),o(13,"p",34),e(14,`
                        `),r(15,"div",35),e(16,`
                            `),r(17,"input",36),f("change",function(){h(i);let t=c();return x(t.toggleDeleteAllPlagiarismComparisons())}),s(),e(18,`
                            `),o(19,"label",37),e(20,`
                        `),s(),e(21,`
                        `),P(22,Mi,3,0),s(),e(23,`
                    `),r(24,"div",38),e(25,`
                        `),r(26,"button",39),f("click",function(){let t=h(i).$implicit;return x(t.close("confirm"))}),e(27,`
                            `),o(28,"span",40),e(29,`
                        `),s(),e(30,`
                    `),s(),e(31,`
                `)}if(a&2){let i=c();l(17),p("checked",i.deleteAllPlagiarismComparisons),l(5),C(i.deleteAllPlagiarismComparisons?22:-1)}}function yi(a,d){if(a&1){let i=S();e(0,`
                    `),r(1,"button",42),f("click",function(){h(i);let t=c(),m=N(32);return x(t.openCleanUpModal(m))}),e(2,`
                        `),o(3,"span",40),e(4,`
                    `),s(),e(5,`
                `)}if(a&2){let i=c();l(),p("jhiFeatureToggle",i.FeatureToggle.PlagiarismChecks)("overwriteDisabled",i.detectionInProgress)}}function Oi(a,d){if(a&1){let i=S();e(0,`
                    `),r(1,"div",43),e(2,`
                        `),r(3,"button",44),e(4,`
                            `),r(5,"span"),e(6,"Download"),s(),e(7,`
                        `),s(),e(8,`
                        `),r(9,"div",45),e(10,`
                            `),r(11,"button",46),f("click",function(){h(i);let t=c();return x(t.downloadPlagiarismResultsJson())}),e(12,"JSON"),s(),e(13,`
                            `),r(14,"button",46),f("click",function(){h(i);let t=c();return x(t.downloadPlagiarismResultsCsv())}),e(15,"CSV"),s(),e(16,`
                        `),s(),e(17,`
                    `),s(),e(18,`
                `)}}function wi(a,d){if(a&1){let i=S();e(0,`
                `),r(1,"div",47),e(2,`
                    `),r(3,"input",48),A("ngModelChange",function(t){h(i);let m=c();return I(m.generateJPlagReport,t)||(m.generateJPlagReport=t),x(t)}),s(),e(4,`
                    `),o(5,"label",49),e(6,`
                `),s(),e(7,`
            `)}if(a&2){let i=c();l(3),D("ngModel",i.generateJPlagReport)}}function Ei(a,d){if(a&1){let i=S();e(0,`
        `),r(1,"div",50),e(2,`
            `),r(3,"jhi-plagiarism-sidebar",51),f("showRunDetailsChange",function(t){h(i);let m=c();return x(m.showSimilarityDistribution(t))})("selectIndex",function(t){h(i);let m=c();return x(m.selectComparisonWithID(t))}),s(),e(4,`
            `),o(5,"jhi-plagiarism-details",52),e(6,`
            `),r(7,"jhi-plagiarism-run-details",53),f("similaritySelected",function(t){h(i);let m=c();return x(m.filterByChart(t))}),s(),e(8,`
        `),s(),e(9,`
    `)}if(a&2){let i=c();l(3),p("showRunDetails",i.showRunDetails)("comparisons",i.visibleComparisons)("offset",i.sidebarOffset)("activeID",i.selectedComparisonId)("casesFiltered",i.chartFilterApplied),l(2),p("hidden",i.showRunDetails)("comparison",i.plagiarismResult.comparisons?i.getSelectedComparison():void 0)("exercise",i.exercise),l(2),p("hidden",!i.showRunDetails)("plagiarismResult",i.plagiarismResult)("plagiarismResultStats",i.plagiarismResultStats)}}function Ti(a,d){if(a&1&&(e(0,`
                `),r(1,"div",55),e(2,`
                    `),r(3,"div",56),e(4,`
                        `),o(5,"span",57),e(6,`
                    `),s(),e(7,`
                    `),r(8,"p"),e(9),s(),e(10,`
                `),s(),e(11,`
            `)),a&2){let i=c(2);l(9),B(i.detectionInProgressMessage)}}function Ri(a,d){a&1&&(e(0,`
                `),o(1,"span",58),e(2,`
            `))}function ki(a,d){if(a&1&&(e(0,`
        `),r(1,"div",54),e(2,`
            `),P(3,Ti,12,1)(4,Ri,3,0),s(),e(5,`
    `)),a&2){let i=c();l(3),C(i.detectionInProgress?3:-1),l(),C(i.detectionInProgress?-1:4)}}var pn=(()=>{class a{route=_(ue);modelingExerciseService=_(Qe);programmingExerciseService=_(Xe);textExerciseService=_(ii);websocketService=_(Ie);translateService=_(De);inspectorService=_(Q);plagiarismCasesService=_(U);modalService=_(G);alertService=_(Be);exercise;plagiarismResult;plagiarismResultStats;detectionInProgress=!1;detectionInProgressMessage="";selectedComparisonId;showRunDetails=!1;showOptions=!1;generateJPlagReport=!1;similarityThreshold=90;minimumScore=0;minimumSize=50;enableMinimumScore=!1;enableMinimumSize=!1;visibleComparisons;chartFilterApplied=!1;sidebarOffset=0;deleteAllPlagiarismComparisons=!1;FeatureToggle=Ae;PROGRAMMING=M.PROGRAMMING;faQuestionCircle=je;faExclamationTriangle=J;faChevronRight=W;ngOnInit(){this.route.data.subscribe(({exercise:i})=>{this.exercise=i,this.registerToPlagarismDetectionTopic(),this.getLatestPlagiarismResult()})}registerToPlagarismDetectionTopic(){let i=this.getPlagarismDetectionTopic();this.websocketService.subscribe(i),this.websocketService.receive(i).pipe(te(n=>this.handlePlagiarismCheckStateChange(n))).subscribe()}getPlagarismDetectionTopic(){let i="/topic/";switch(this.exercise.type){case M.PROGRAMMING:i+="programming-exercises";break;case M.TEXT:i+="text-exercises";break;case M.MODELING:i+="modeling-exercises";break}return i+"/"+this.exercise.id+"/plagiarism-check"}handlePlagiarismCheckStateChange(i){let{state:n,messages:t}=i;this.detectionInProgress=n==="RUNNING",this.detectionInProgressMessage=n==="RUNNING"?t:this.translateService.instant("artemisApp.plagiarism.loading"),n==="COMPLETED"&&(this.detectionInProgressMessage=this.translateService.instant("artemisApp.plagiarism.fetchingResults"),this.getLatestPlagiarismResult())}getLatestPlagiarismResult(){switch(this.detectionInProgress=!0,this.exercise.type){case M.MODELING:{this.modelingExerciseService.getLatestPlagiarismResult(this.exercise.id).subscribe({next:i=>this.handlePlagiarismResult(i),error:()=>this.handleError()});return}case M.PROGRAMMING:{this.programmingExerciseService.getLatestPlagiarismResult(this.exercise.id).subscribe({next:i=>this.handlePlagiarismResult(i),error:()=>this.handleError()});return}case M.TEXT:{this.textExerciseService.getLatestPlagiarismResult(this.exercise.id).subscribe({next:i=>this.handlePlagiarismResult(i),error:()=>this.handleError()});return}default:this.detectionInProgress=!1}}checkPlagiarism(){let i=this.enableMinimumScore?this.minimumScore:0,n=this.enableMinimumSize?this.minimumSize:0,t=new Z(this.similarityThreshold,i,n);this.exercise.type===M.MODELING?this.checkPlagiarismModeling(t):this.generateJPlagReport?this.checkPlagiarismJPlagReport(t):this.checkPlagiarismJPlag(t)}selectComparisonWithID(i){this.selectedComparisonId=i,this.showRunDetails=!1}checkPlagiarismJPlagReport(i){this.detectionInProgress=!0,this.programmingExerciseService.checkPlagiarismJPlagReport(this.exercise.id,i).subscribe({next:n=>{this.detectionInProgress=!1,qe(n)},error:n=>{n.headers.get("x-artemisapp-error")==="error.notEnoughSubmissions"&&this.alertService.addAlert({type:Ne.DANGER,message:"Insufficient amount of valid and long enough submissions available for comparison",disableTranslation:!0}),this.handleError()}})}isProgrammingExercise(){return this.exercise?.type===M.PROGRAMMING}checkPlagiarismJPlag(i){this.detectionInProgress=!0,this.exercise.type===M.TEXT?this.textExerciseService.checkPlagiarism(this.exercise.id,i).subscribe({next:n=>this.handlePlagiarismResult(n),error:()=>this.handleError()}):this.programmingExerciseService.checkPlagiarism(this.exercise.id,i).subscribe({next:n=>this.handlePlagiarismResult(n),error:()=>this.handleError()})}handleError(){this.detectionInProgress=!1}checkPlagiarismModeling(i){this.detectionInProgress=!0,this.modelingExerciseService.checkPlagiarism(this.exercise.id,i).subscribe({next:n=>this.handlePlagiarismResult(n),error:()=>this.handleError()})}handlePlagiarismResult(i){this.detectionInProgress=!1,i?.plagiarismResult?.comparisons&&(this.sortComparisonsForResult(i.plagiarismResult),this.showRunDetails=!0),this.plagiarismResult=i?.plagiarismResult,this.plagiarismResultStats=i?.plagiarismResultStats,this.visibleComparisons=i?.plagiarismResult?.comparisons}sortComparisonsForResult(i){i.comparisons=i.comparisons.sort((n,t)=>t.similarity-n.similarity===0?t.id-n.id:t.similarity-n.similarity)}downloadPlagiarismResultsJson(){let i=JSON.stringify(this.plagiarismResult),n=new Blob([i],{type:"application/json"});Ue(n,`plagiarism-result_${this.exercise.type}-exercise-${this.exercise.id}.json`)}downloadPlagiarismResultsCsv(){if(this.plagiarismResult&&this.plagiarismResult.comparisons.length>0){let i={fieldSeparator:";",quoteStrings:!0,quoteCharacter:'"',decimalSeparator:"locale",showLabels:!0,title:`Plagiarism Check for Exercise ${this.exercise.id}: ${this.exercise.title}`,filename:`plagiarism-result_${this.exercise.type}-exercise-${this.exercise.id}`,useTextFile:!1,useBom:!0,columnHeaders:["Similarity","Status","Participant 1","Submission 1","Score 1","Size 1","Participant 2","Submission 2","Score 2","Size 2"]},n=this.plagiarismResult.comparisons.map(u=>Object.assign({Similarity:u.similarity,Status:u.status,"Participant 1":u.submissionA.studentLogin,"Submission 1":u.submissionA.submissionId,"Score 1":u.submissionA.score,"Size 1":u.submissionA.size,"Participant 2":u.submissionB.studentLogin,"Submission 2":u.submissionB.submissionId,"Score 2":u.submissionB.score,"Size 2":u.submissionB.size})),t=Ye(i),m=Ke(t)(n);$e(t)(m)}}getMinimumSizeTooltip(){switch(this.exercise.type){case M.PROGRAMMING:return"artemisApp.plagiarism.minimumSizeTooltipProgrammingExercise";case M.TEXT:return"artemisApp.plagiarism.minimumSizeTooltipTextExercise";case M.MODELING:return"artemisApp.plagiarism.minimumSizeTooltipModelingExercise"}}filterByChart(i){this.visibleComparisons=this.inspectorService.filterComparisons(i,this.plagiarismResult?.comparisons);let n=this.plagiarismResult?.comparisons.indexOf(this.visibleComparisons[0])??0;this.sidebarOffset=n!==-1?n:0,this.chartFilterApplied=!0}resetFilter(){this.visibleComparisons=this.plagiarismResult?.comparisons,this.chartFilterApplied=!1,this.sidebarOffset=0}showSimilarityDistribution(i){this.resetFilter(),this.getLatestPlagiarismResult(),this.showRunDetails=i}getSelectedComparison(){return this.visibleComparisons.filter(i=>i.id===this.selectedComparisonId)[0]}toggleDeleteAllPlagiarismComparisons(){this.deleteAllPlagiarismComparisons=!this.deleteAllPlagiarismComparisons}cleanUpPlagiarism(){this.plagiarismCasesService.cleanUpPlagiarism(this.exercise.id,this.plagiarismResult.id,this.deleteAllPlagiarismComparisons).subscribe({next:()=>{this.deleteAllPlagiarismComparisons?(this.deleteAllPlagiarismComparisons=!1,this.plagiarismResult=void 0):(this.deleteAllPlagiarismComparisons=!1,this.getLatestPlagiarismResult())}})}openCleanUpModal(i){this.modalService.open(i).result.then(n=>{n==="confirm"&&this.cleanUpPlagiarism()})}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["jhi-plagiarism-inspector"]],decls:86,vars:37,consts:[["toggleDeleteModal",""],[1,"plagiarism-inspector"],[1,"plagiarism-header"],[1,"plagiarism-header-top"],[1,"plagiarism-header-top-left"],[1,"plagiarism-page-title","fw-medium",3,"click"],[1,"plagiarism-options-toggle",3,"icon"],["jhiTranslate","artemisApp.plagiarism.plagiarismDetection"],[1,"plagiarism-warning"],["id","plagiarismCaution",3,"icon"],["jhiTranslate","artemisApp.plagiarism.caution"],[1,"plagiarism-header-top-right"],[1,"check-plagiarism","btn","btn-primary",3,"click","jhiFeatureToggle","overwriteDisabled"],[3,"jhiTranslate"],[1,"plagiarism-header-options",3,"hidden"],[1,"plagiarism-option"],["jhiTranslate","artemisApp.plagiarism.similarityThreshold",1,"plagiarism-option-label"],["placement","bottom auto",3,"icon","ngbTooltip"],["type","number","required","","min","0","max","100","step","5","id","plagiarism-similarity-threshold",1,"form-control",3,"ngModelChange","ngModel"],["for","enableMinimumScore",1,"plagiarism-checkbox","form-check"],["type","checkbox","id","enableMinimumScore","checked","",1,"plagiarism-option-checkbox","form-check-input",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.plagiarism.minimumScore",1,"plagiarism-option-label","form-check-label"],["required","","type","number","min","0","max","100","id","plagiarism-minimum-score",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","enableMinimumSize",1,"plagiarism-checkbox","form-check"],["type","checkbox","id","enableMinimumSize","checked","",1,"plagiarism-option-checkbox","form-check-input",3,"ngModelChange","ngModel"],["for","enableMinimumSize","jhiTranslate","artemisApp.plagiarism.minimumSize",1,"plagiarism-option-label","form-check-label"],["required","","type","number","min","0","max","100","id","plagiarism-minimum-size",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"check-plagiarism","btn","btn-info",3,"click"],["jhiTranslate","artemisApp.plagiarism.resetFilter"],[1,"modal-header"],[1,"modal-title"],["jhiTranslate","artemisApp.plagiarism.cleanUp.confirmDialog.title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["jhiTranslate","artemisApp.plagiarism.cleanUp.confirmDialog.question"],[1,"form-check","flex-grow-0"],["id","deleteAllPlagiarismComparisons","type","checkbox",1,"form-check-input",3,"change","checked"],["for","deleteAllPlagiarismComparisons","jhiTranslate","artemisApp.plagiarism.cleanUp.confirmDialog.deleteAll",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["jhiTranslate","artemisApp.plagiarism.cleanUp.confirmDialog.submit"],["jhiTranslate","artemisApp.plagiarism.cleanUp.confirmDialog.warning",1,"text-warning"],[1,"check-plagiarism","btn","btn-danger",3,"click","jhiFeatureToggle","overwriteDisabled"],["ngbDropdown",""],["id","download-plagiarism","ngbDropdownToggle","",1,"btn","btn-secondary","btn-block"],["ngbDropdownMenu","","aria-labelledby","download-plagiarism"],["type","button","ngbDropdownItem","",3,"click"],["for","generateJPlagReport",1,"plagiarism-checkbox","form-check"],["type","checkbox","id","generateJPlagReport","checked","",1,"form-check-input",3,"ngModelChange","ngModel"],["for","generateJPlagReport","jhiTranslate","artemisApp.plagiarism.generateJplagReport",1,"plagiarism-option-label"],[1,"plagiarism-body"],[3,"showRunDetailsChange","selectIndex","showRunDetails","comparisons","offset","activeID","casesFiltered"],[3,"hidden","comparison","exercise"],[3,"similaritySelected","hidden","plagiarismResult","plagiarismResultStats"],[1,"plagiarism-empty"],[1,"d-flex","flex-column"],["role","status",1,"spinner-border","text-primary","align-self-center","mb-1"],[1,"sr-only"],["jhiTranslate","artemisApp.plagiarism.empty",1,"plagiarism-empty-label"]],template:function(n,t){if(n&1){let m=S();r(0,"div",1),e(1,`
    `),r(2,"div",2),e(3,`
        `),r(4,"div",3),e(5,`
            `),r(6,"div",4),e(7,`
                `),r(8,"h4",5),f("click",function(){return h(m),x(t.showOptions=!t.showOptions)}),e(9,`
                    `),o(10,"fa-icon",6),e(11,`
                    `),o(12,"span",7),e(13,`
                `),s(),e(14,`
                `),r(15,"div",8),e(16,`
                    `),o(17,"fa-icon",9),e(18,`
                    `),o(19,"span",10),e(20,`
                `),s(),e(21,`
            `),s(),e(22,`
            `),r(23,"div",11),e(24,`
                `),P(25,Si,6,0),r(26,"button",12),f("click",function(){return h(m),x(t.checkPlagiarism())}),e(27,`
                    `),o(28,"span",13),e(29,`
                `),s(),e(30,`
                `),P(31,vi,32,2,"ng-template",null,0,H),e(33,`
                `),P(34,yi,6,2)(35,Oi,19,0),s(),e(36,`
        `),s(),e(37,`
        `),r(38,"div",14),e(39,`
            `),r(40,"div",15),e(41,`
                `),o(42,"div",16),e(43,`
                `),o(44,"fa-icon",17),b(45,"artemisTranslate"),e(46,`
                `),r(47,"input",18),A("ngModelChange",function(g){return h(m),I(t.similarityThreshold,g)||(t.similarityThreshold=g),x(g)}),s(),e(48,`
            `),s(),e(49,`
            `),r(50,"div",15),e(51,`
                `),r(52,"div",19),e(53,`
                    `),r(54,"input",20),A("ngModelChange",function(g){return h(m),I(t.enableMinimumScore,g)||(t.enableMinimumScore=g),x(g)}),s(),e(55,`
                    `),o(56,"div",21),e(57,`
                `),s(),e(58,`
                `),o(59,"fa-icon",17),b(60,"artemisTranslate"),e(61,`
                `),r(62,"input",22),A("ngModelChange",function(g){return h(m),I(t.minimumScore,g)||(t.minimumScore=g),x(g)}),s(),e(63,`
            `),s(),e(64,`
            `),r(65,"div",15),e(66,`
                `),r(67,"div",23),e(68,`
                    `),r(69,"input",24),A("ngModelChange",function(g){return h(m),I(t.enableMinimumSize,g)||(t.enableMinimumSize=g),x(g)}),s(),e(70,`
                    `),o(71,"label",25),e(72,`
                `),s(),e(73,`
                `),o(74,"fa-icon",17),b(75,"artemisTranslate"),e(76,`
                `),r(77,"input",26),A("ngModelChange",function(g){return h(m),I(t.minimumSize,g)||(t.minimumSize=g),x(g)}),s(),e(78,`
            `),s(),e(79,`
            `),P(80,wi,8,1),s(),e(81,`
    `),s(),e(82,`
    `),P(83,Ei,10,11)(84,ki,6,2),s(),e(85,`
`)}n&2&&(l(8),T("active",t.showOptions),l(2),p("icon",t.faChevronRight),l(7),p("icon",t.faExclamationTriangle),l(8),C(t.chartFilterApplied?25:-1),l(),p("jhiFeatureToggle",t.FeatureToggle.PlagiarismChecks)("overwriteDisabled",t.detectionInProgress),l(2),oe("jhiTranslate",t.plagiarismResult?"artemisApp.plagiarism.rerun":"artemisApp.plagiarism.detect"),l(6),C(t.exercise.isAtLeastInstructor&&t.plagiarismResult?34:-1),l(),C(t.plagiarismResult?35:-1),l(3),p("hidden",!t.showOptions),l(6),p("icon",t.faQuestionCircle)("ngbTooltip",O(45,31,"artemisApp.plagiarism.similarityThresholdTooltip")),l(3),D("ngModel",t.similarityThreshold),l(3),T("disabled",!t.enableMinimumScore),l(4),D("ngModel",t.enableMinimumScore),l(5),p("icon",t.faQuestionCircle)("ngbTooltip",O(60,33,"artemisApp.plagiarism.minimumScoreTooltip")),l(3),p("disabled",!t.enableMinimumScore),D("ngModel",t.minimumScore),l(3),T("disabled",!t.enableMinimumSize),l(4),D("ngModel",t.enableMinimumSize),l(5),p("icon",t.faQuestionCircle)("ngbTooltip",O(75,35,t.getMinimumSizeTooltip())),l(3),p("disabled",!t.enableMinimumSize),D("ngModel",t.minimumSize),l(3),C(t.isProgrammingExercise()?80:-1),l(3),C(t.plagiarismResult&&!t.detectionInProgress?83:-1),l(),C(!t.plagiarismResult||t.detectionInProgress?84:-1))},dependencies:[q,k,He,Re,Te,Ee,we,Oe,ke,ye,Ce,be,fe,_e,ve,Me,Se,Pe,ni,ri,si,R],styles:[".plagiarism-inspector[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 2rem - 129px);margin:-1rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header[_ngcontent-%COMP%]{background-color:var(--artemis-dark);color:#fff;flex-shrink:0}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-top[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;padding:1.5rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-top-left[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-top-right[_ngcontent-%COMP%]{display:flex}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-top-right[_ngcontent-%COMP%]   .check-plagiarism[_ngcontent-%COMP%]{margin-right:1rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header[_ngcontent-%COMP%]   .plagiarism-page-title[_ngcontent-%COMP%]{align-items:center;display:flex;margin:0 1rem 0 0;padding:.25rem .5rem;border-radius:4px;cursor:pointer}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header[_ngcontent-%COMP%]   .plagiarism-page-title[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header[_ngcontent-%COMP%]   .plagiarism-page-title[_ngcontent-%COMP%]   .plagiarism-options-toggle[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:1rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header[_ngcontent-%COMP%]   .plagiarism-page-title.active[_ngcontent-%COMP%]   .plagiarism-options-toggle[_ngcontent-%COMP%]{transform:rotate(90deg)}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]{align-items:center;background-color:var(--plagiarism-inspector-darker-artemis-dark);display:flex;flex-wrap:wrap;padding:1rem 1.5rem;white-space:nowrap}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:1.5rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]   .plagiarism-option[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]   .plagiarism-option.disabled[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{opacity:.4}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]   .plagiarism-option-label[_ngcontent-%COMP%]{flex-shrink:0;margin-right:.5rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]   .plagiarism-option-checkbox[_ngcontent-%COMP%]{margin-right:.5rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]   .plagiarism-option[_ngcontent-%COMP%]   #plagiarism-similarity-threshold[_ngcontent-%COMP%], .plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]   .plagiarism-option[_ngcontent-%COMP%]   #plagiarism-minimum-score[_ngcontent-%COMP%], .plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]   .plagiarism-option[_ngcontent-%COMP%]   #plagiarism-minimum-size[_ngcontent-%COMP%]{margin-left:1rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-header-options[_ngcontent-%COMP%]   .plagiarism-option[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-right:0}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;padding-left:240px;position:relative;overflow:hidden}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-body[_ngcontent-%COMP%]   .plagiarism-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-warning[_ngcontent-%COMP%]{align-items:center;display:flex;color:#fff;padding-top:1px}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-warning[_ngcontent-%COMP%]   #plagiarismCaution[_ngcontent-%COMP%]{margin-right:.5rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-checkbox[_ngcontent-%COMP%]{margin:0;flex-shrink:0}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-checkbox[_ngcontent-%COMP%]   #generateJPlagReport[_ngcontent-%COMP%]{margin-right:.5rem}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-empty[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:1;justify-content:center}.plagiarism-inspector[_ngcontent-%COMP%]   .plagiarism-empty-label[_ngcontent-%COMP%]{opacity:.5}"]})}return a})();export{pn as PlagiarismInspectorComponent};
//# sourceMappingURL=plagiarism-inspector.component-4C5MPNJV.js.map
