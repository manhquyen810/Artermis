import{b as P,c as W,d as H}from"./chunk-ITOSPRIX.js";import{b as Y,c as N}from"./chunk-NTCPM4SY.js";import{a as w,e as U}from"./chunk-4YACL3TM.js";import"./chunk-IJQAYIKN.js";import"./chunk-DMHWBHTD.js";import"./chunk-57BCHYEO.js";import"./chunk-IJRVZ46L.js";import"./chunk-SKB5UJGX.js";import"./chunk-SUUJN3EQ.js";import"./chunk-KZGAUMRM.js";import{a as V}from"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-EGRHWZRV.js";import"./chunk-MBS3WUDO.js";import{f as R,g as $}from"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-T77OIOZ4.js";import"./chunk-Z2YUBN6N.js";import"./chunk-35PLMJNP.js";import"./chunk-5JBXU6VG.js";import"./chunk-QA7Y7QBM.js";import"./chunk-2CUFQLAH.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import{b as B}from"./chunk-YLNI6ED3.js";import"./chunk-ZFM7LHJQ.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{d as M}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Ba as I,Cd as j,Ka as F}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as X}from"./chunk-U54OSGNH.js";import"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{s as Q}from"./chunk-IOA4DPXY.js";import{Db as o,Dc as k,Ea as f,Ma as C,Mc as D,Na as S,Oc as p,Qa as y,Tb as A,Xb as L,Zb as m,cd as T,dd as t,ed as h,fd as v,kc as u,pd as z,rd as E,sc as l,uc as x,ud as b,vc as _,wb as q,wc as g,xc as a,yc as r,zc as s}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var J=i=>[i,525],G=(i,d,e,n)=>({top:i,left:d,width:e,height:n});function K(i,d){if(i&1&&(t(0,`
                `),a(1,"h3"),t(2),r(),t(3,`
            `)),i&2){let e=p(2);o(2),h(e.quizExercise.title)}}function O(i,d){i&1&&(t(0,`
                                `),s(1,"span",17),t(2,`
                            `))}function Z(i,d){i&1&&(t(0,`
                                            `),s(1,"span",18),t(2,`
                                        `))}function tt(i,d){i&1&&(t(0,`
                                            `),s(1,"span",19),t(2,`
                                        `))}function it(i,d){if(i&1&&(t(0,`
                                        `),s(1,"fa-icon",14),t(2,`
                                    `)),i&2){let e=p(3);o(),u("icon",e.faCheckCircle)}}function et(i,d){if(i&1&&(t(0,`
                                        `),s(1,"fa-icon",14),t(2,`
                                    `)),i&2){let e=p(3);o(),u("icon",e.faTimesCircle)}}function nt(i,d){i&1&&(t(0,`
                                        `),s(1,"span",20),t(2,`
                                    `))}function ot(i,d){i&1&&(t(0,`
                                        `),s(1,"span",21),t(2,`
                                    `))}function at(i,d){i&1&&(t(0,`
                                        `),s(1,"span",22),t(2,`
                                    `))}function rt(i,d){i&1&&(t(0,`
                                        `),s(1,"span",23),t(2,`
                                    `))}function dt(i,d){if(i&1&&(t(0,`
                                    `),s(1,"jhi-secured-image",24),t(2,`
                                `)),i&2){let e=p(3);o(),u("src",e.question.backgroundFilePath)}}function lt(i,d){i&1&&(t(0,`
                                                        `),a(1,"div",27),t(2,`
                                                            `),s(3,"span",28),t(4,`
                                                        `),r(),t(5,`
                                                    `))}function st(i,d){if(i&1&&(t(0,`
                                                `),a(1,"div",25),t(2,`
                                                    `),a(3,"div",26),t(4,`
                                                        `),a(5,"span"),t(6),r(),t(7,`
                                                    `),r(),t(8,`
                                                    `),m(9,lt,6,0),r(),t(10,`
                                            `)),i&2){let e=d.$implicit,n=d.$index,c=p(4);o(),u("ngStyle",b(3,G,e.posY/2+"%",e.posX/2+"%",e.width/2+"%",e.height/2+"%")),o(5),h(c.getLetter(n)+"."),o(3),l(e.invalid?9:-1)}}function ct(i,d){if(i&1&&(t(0,`
                                        `),a(1,"div"),t(2,`
                                            `),_(3,st,11,8,null,null,x),r(),t(5,`
                                    `)),i&2){let e=p(3);o(3),g(e.question.dropLocations)}}function pt(i,d){i&1&&(t(0,`
                                                        `),a(1,"div",27),t(2,`
                                                            `),s(3,"span",28),t(4,`
                                                        `),r(),t(5,`
                                                    `))}function mt(i,d){if(i&1&&(t(0,`
                                                        `),s(1,"jhi-drag-item",31),t(2,`
                                                    `)),i&2){let e=p().$implicit,n=p(4);o(),u("dragItem",n.correctDragItemForDropLocation(e))("clickDisabled",!0)("minWidth","100%")}}function ut(i,d){if(i&1&&(t(0,`
                                                `),a(1,"div",29),t(2,`
                                                    `),a(3,"div",30),t(4,`
                                                        `),a(5,"span"),t(6),r(),t(7,`
                                                    `),r(),t(8,`
                                                    `),m(9,pt,6,0)(10,mt,3,3),r(),t(11,`
                                            `)),i&2){let e=d.$implicit,n=d.$index,c=p(4);o(),u("ngStyle",b(4,G,e.posY/2+"%",e.posX/2+"%",e.width/2+"%",e.height/2+"%")),o(5),h(c.getLetter(n)+"."),o(3),l(e.invalid?9:-1),o(),l(c.correctDragItemForDropLocation(e)?10:-1)}}function xt(i,d){if(i&1&&(t(0,`
                                        `),a(1,"div"),t(2,`
                                            `),_(3,ut,12,9,null,null,x),r(),t(5,`
                                    `)),i&2){let e=p(3);o(3),g(e.question.dropLocations)}}function _t(i,d){if(i&1&&(t(0,`
                                                `),s(1,"jhi-drag-item",34),t(2,`
                                            `)),i&2){let e=d.$implicit;o(),u("dragItem",e)("invalid",!!e.invalid)("clickDisabled",!0)("minWidth","100%")}}function gt(i,d){if(i&1&&(t(0,`
                                        `),a(1,"div",33),t(2,`
                                            `),_(3,_t,3,4,null,null,x),r(),t(5,`
                                    `)),i&2){let e=p(4);o(3),g(e.question.dragItems)}}function ht(i,d){if(i&1&&(t(0,`
                                `),a(1,"div",32),t(2,`
                                    `),a(3,"h4"),t(4,"Drag-Items:"),r(),t(5,`
                                    `),m(6,gt,6,0),r(),t(7,`
                            `)),i&2){let e=p(3);o(6),l(e.question.dragItems&&e.question.dragItems.length?6:-1)}}function ft(i,d){if(i&1){let e=k();t(0,`
                    `),a(1,"div",3),t(2,`
                        `),a(3,"h3"),t(4),m(5,O,3,0),r(),t(6,`
                        `),s(7,"h4",4),t(8,`
                        `),a(9,"div",null,0),t(11,`
                            `),a(12,"div",1),t(13,`
                                `),a(14,"div",5),t(15,`
                                    `),a(16,"p",6),t(17,`
                                        `),m(18,Z,3,0)(19,tt,3,0),r(),t(20,`
                                `),r(),t(21,`
                                `),a(22,"div",7),t(23,`
                                    `),a(24,"p",8),t(25,`
                                        `),a(26,"span"),t(27),r(),s(28,"span",9),t(29,`
                                    `),r(),t(30,`
                                `),r(),t(31,`
                            `),r(),t(32,`
                            `),s(33,"ngx-charts-bar-vertical",10),t(34,`
                            `),a(35,"div",11),t(36,`
                                `),a(37,"button",12),D("click",function(){C(e);let c=p(2);return S(c.switchSolution())}),t(38,`
                                    `),m(39,it,3,1)(40,et,3,1)(41,nt,3,0)(42,ot,3,0),r(),t(43,`
                                `),a(44,"button",13),D("click",function(){C(e);let c=p(2);return S(c.switchRated())}),t(45,`
                                    `),s(46,"fa-icon",14),t(47,`\xA0
                                    `),m(48,at,3,0)(49,rt,3,0),r(),t(50,`
                            `),r(),t(51,`
                            `),a(52,"p"),t(53,"\xA0"),r(),t(54,`
                            `),a(55,"div",15),t(56,`
                                `),m(57,dt,3,1),a(58,"div",16),t(59,`
                                    `),m(60,ct,6,0)(61,xt,6,0),r(),t(62,`
                            `),r(),t(63,`
                            `),m(64,ht,8,1),r(),t(65,`
                    `),r(),t(66,`
                `)}if(i&2){let e=T(10),n=p(2);o(4),v(`
                            `,n.question.title,`
                            `),o(),l(n.question.invalid?5:-1),o(2),u("innerHTML",n.questionTextRendered,q),o(11),l(n.rated?18:-1),o(),l(n.rated?-1:19),o(8),v("",n.participants," "),o(6),u("view",E(33,J,e.offsetWidth))("results",n.ngxData)("scheme",n.ngxColor)("showDataLabel",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel",n.xAxisLabel)("yAxisLabel",n.yAxisLabel)("xAxis",!0)("yAxis",!0)("yScaleMax",n.maxScale)("tooltipDisabled",!0)("rotateXAxisTicks",!1)("maxXAxisTickLength",17)("dataLabelFormatting",n.bindFormatting)("roundEdges",!1),o(6),l(n.showSolution?39:-1),o(),l(n.showSolution?-1:40),o(),l(n.showSolution?41:-1),o(),l(n.showSolution?-1:42),o(4),u("icon",n.faSync),o(2),l(n.rated?48:-1),o(),l(n.rated?-1:49),o(8),l(n.question.backgroundFilePath?57:-1),o(3),l(n.showSolution?-1:60),o(),l(n.showSolution?61:-1),o(3),l(n.showSolution?-1:64)}}function Ct(i,d){if(i&1&&(t(0,`
    `),a(1,"div",1),t(2,`
        `),a(3,"div",2),t(4,`
            `),m(5,K,4,1),a(6,"div",1),t(7,`
                `),m(8,ft,67,35),r(),t(9,`
        `),r(),t(10,`
        `),s(11,"jhi-quiz-statistics-footer"),t(12,`
    `),r(),t(13,`
`)),i&2){let e=p();o(5),l(e.quizExercise.title!==e.question.title?5:-1),o(3),l(e.question?8:-1)}}var Mt=(()=>{class i extends H{dragAndDropQuestionUtil=f(w);artemisMarkdown=f(V);question;faSync=F;faCheckCircle=I;faTimesCircle=j;loadQuiz(e,n){super.loadQuizCommon(e)&&(n||(this.questionTextRendered=this.artemisMarkdown.safeHtmlForMarkdown(this.question.text),this.loadLayout()),this.loadData())}loadLayout(){this.orderDropLocationByPos(),this.resetLabelsColors(),this.question.dropLocations.forEach((e,n)=>{this.labels.push(this.getLetter(n)+"."),this.solutionLabels.push(this.getLetter(n)+"."),this.backgroundColors.push(W),this.backgroundSolutionColors.push(P)}),this.addLastBarLayout(this.question.dropLocations.length),this.loadInvalidLayout(this.question.dropLocations)}loadData(){this.resetData(),this.question.dropLocations.forEach(e=>{let n=this.questionStatistic.dropLocationCounters?.find(c=>e.id===c.dropLocation.id);this.addData(n.ratedCounter,n.unRatedCounter)}),this.updateData()}orderDropLocationByPos(){let e=!0;for(;e;)if(e=!1,this.question.dropLocations&&this.question.dropLocations.length>0){for(let n=0;n<this.question.dropLocations.length-1;n++)if(this.question.dropLocations[n].posX>this.question.dropLocations[n+1].posX){let c=this.question.dropLocations[n];this.question.dropLocations[n]=this.question.dropLocations[n+1],this.question.dropLocations[n+1]=c,e=!0}}}correctDragItemForDropLocation(e){return this.dragAndDropQuestionUtil.solve(this.question,void 0).filter(c=>c.dropLocation.id===e.id)[0].dragItem}static \u0275fac=(()=>{let e;return function(c){return(e||(e=y(i)))(c||i)}})();static \u0275cmp=A({type:i,selectors:[["jhi-drag-and-drop-question-statistic"]],features:[z([Y,w]),L],decls:1,vars:1,consts:[["containerRef",""],[1,"row"],[1,"col-md-8","offset-md-2","text-center"],[1,"col"],[3,"innerHTML"],[1,"col-md-7","text-start"],["id","text",1,"chart-title-text"],[1,"col-md-5","text-end"],[1,"chart-title-text"],["jhiTranslate","artemisApp.showStatistic.participants"],[3,"view","results","scheme","showDataLabel","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxis","yAxis","yScaleMax","tooltipDisabled","rotateXAxisTicks","maxXAxisTickLength","dataLabelFormatting","roundEdges"],[1,"col-md-12","text-center","button-row"],["type","button",1,"btn","btn-primary","show-solution",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"],[1,"drag-and-drop-quizStatistic-picture","col-md-8","offset-md-2"],[1,"click-layer"],["jhiTranslate","artemisApp.showStatistic.invalid",1,"invalid-question"],["jhiTranslate","artemisApp.showStatistic.questionStatistic.titleRated"],["jhiTranslate","artemisApp.showStatistic.questionStatistic.titleUnrated"],["jhiTranslate","artemisApp.showStatistic.dragAndDropQuestionStatistic.hideSampleSolution"],["jhiTranslate","artemisApp.showStatistic.dragAndDropQuestionStatistic.showSampleSolution"],["jhiTranslate","artemisApp.showStatistic.switchToUnrated"],["jhiTranslate","artemisApp.showStatistic.switchToRated"],[3,"src"],["id","drop-location",1,"drop-location",3,"ngStyle"],[1,"letter"],[1,"invalid"],["jhiTranslate","artemisApp.showStatistic.invalid"],[1,"drop-location","solution",3,"ngStyle"],[1,"letter-solution"],[3,"dragItem","clickDisabled","minWidth"],[1,"drag-and-drop-quizStatistic-picture"],[1,"drag-items"],[3,"dragItem","invalid","clickDisabled","minWidth"]],template:function(n,c){n&1&&m(0,Ct,14,2),n&2&&l(c.quizExercise?0:-1)},dependencies:[X,$,R,M,B,Q,U,N],styles:[`:host::ng-deep .textDataLabel{font-weight:bolder;font-size:small!important;alignment-baseline:middle;text-anchor:start}@media (min-width: 1420px){:host::ng-deep .textDataLabel{transform:rotate(0);font-size:medium!important;alignment-baseline:baseline;text-anchor:middle}}
`,`.chart-title-text{font-size:large}.question-title{font-size:medium}.invalid-question{color:red}.button-row{padding-left:61px}@media (max-width: 575px){.button-row{padding-left:0}}@media (max-width: 430px){.show-solution{margin-bottom:.25rem}}
`,`.drag-and-drop-quizStatistic-picture{position:relative;width:100%;box-sizing:border-box;margin-bottom:18px;background:#fefefe;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.drag-and-drop-quizStatistic-picture>jhi-secured-image img{max-width:100%}.drag-and-drop-quizStatistic-picture .drag-items{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-evenly;margin:6px 0;width:100%}.drag-and-drop-quizStatistic-picture .drag-items .drag-item{border:1px solid #696969;background:#fafafa}.drag-and-drop-quizStatistic-picture .drag-items .drag-item .drag-item-picture{cursor:default!important}.drag-and-drop-quizStatistic-picture .drag-items .drag-item .drag-item-text span{border:1px solid transparent;cursor:default!important;padding:0}.drag-and-drop-quizStatistic-picture .click-layer{width:100%;height:100%}.drag-and-drop-quizStatistic-picture .click-layer .drop-location{position:absolute;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-end;background:#fff;border:1px dashed black}.drag-and-drop-quizStatistic-picture .click-layer jhi-drag-item,.drag-and-drop-quizStatistic-picture .click-layer .drag-item{width:100%;height:100%;margin:0;background:#fff}.drag-and-drop-quizStatistic-picture .click-layer jhi-drag-item .drag-item-text,.drag-and-drop-quizStatistic-picture .click-layer jhi-drag-item .drag-item-picture,.drag-and-drop-quizStatistic-picture .click-layer .drag-item .drag-item-text,.drag-and-drop-quizStatistic-picture .click-layer .drag-item .drag-item-picture{line-height:1}.drag-and-drop-quizStatistic-picture .click-layer jhi-drag-item .drag-item-text span,.drag-and-drop-quizStatistic-picture .click-layer jhi-drag-item .drag-item-picture span,.drag-and-drop-quizStatistic-picture .click-layer .drag-item .drag-item-text span,.drag-and-drop-quizStatistic-picture .click-layer .drag-item .drag-item-picture span{border:none;padding:0;vertical-align:middle;display:inline-block;white-space:nowrap}.drag-and-drop-quizStatistic-picture .click-layer .letter{width:30px;height:30px;line-height:30px;background-color:#428bca;color:var(--quiz-mapping-letter-number-mixin-color);border-radius:50%;text-align:center;-webkit-transform:translate3d(-63%,-63%,0);-moz-transform:translate3d(-63%,-63%,0);-ms-transform:translate3d(-63%,-63%,0);-o-transform:translate3d(-63%,-63%,0);transform:translate3d(-63%,-63%,0);position:absolute;top:3%;left:3%;z-index:1;opacity:1}.drag-and-drop-quizStatistic-picture .click-layer .letter-solution{width:30px;height:30px;line-height:30px;background-color:#5cb85c;color:var(--quiz-mapping-letter-number-mixin-color);border-radius:50%;text-align:center;-webkit-transform:translate3d(-63%,-63%,0);-moz-transform:translate3d(-63%,-63%,0);-ms-transform:translate3d(-63%,-63%,0);-o-transform:translate3d(-63%,-63%,0);transform:translate3d(-63%,-63%,0);position:absolute;top:3%;left:3%;z-index:1;opacity:1}.drag-and-drop-quizStatistic-picture .click-layer .solution .drag-item-picture img{max-width:100%;max-height:100%;position:absolute;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}
`],encapsulation:2})}return i})();export{Mt as DragAndDropQuestionStatisticComponent};
//# sourceMappingURL=drag-and-drop-question-statistic.component-OUWGI3PL.js.map
