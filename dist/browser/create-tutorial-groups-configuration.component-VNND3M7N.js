import{a as f}from"./chunk-HLUEVYPH.js";import{a as U}from"./chunk-WLHCEJZ5.js";import"./chunk-IQWRONMP.js";import{a as D}from"./chunk-X237AILQ.js";import"./chunk-ZPITQMA6.js";import"./chunk-HK7MJBP6.js";import"./chunk-2CUFQLAH.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import{d as j}from"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import{a as M}from"./chunk-FGAONQTL.js";import{a as _}from"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import{c as g}from"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-JNO6DNVW.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-WA5GEAJB.js";import"./chunk-5GXY5RYT.js";import{c as L}from"./chunk-JXJXC4DZ.js";import"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as x}from"./chunk-U54OSGNH.js";import{f as w,h as y}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Db as v,Ea as i,Id as G,Mc as S,Tb as T,W as C,aa as s,dd as r,f as h,kc as c,oa as b,pa as u,xc as p,yc as l,zc as m}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var V=(()=>{class a{activatedRoute=i(w);router=i(y);tutorialGroupsConfigurationService=i(M);courseManagementService=i(j);alertService=i(L);courseStorageService=i(_);cdr=i(G);ngUnsubscribe=new h;newTutorialGroupsConfiguration=new f;isLoading;course;ngOnInit(){this.isLoading=!0,this.activatedRoute.paramMap.pipe(C(1),b(e=>{let t=Number(e.get("courseId"));return this.courseManagementService.find(t)}),s(()=>this.isLoading=!1),u(this.ngUnsubscribe)).subscribe({next:e=>{e.body&&(this.course=e.body,this.newTutorialGroupsConfiguration=new f)},error:e=>g(this.alertService,e)}).add(()=>this.cdr.detectChanges())}createTutorialsGroupConfiguration(e){let{period:t,usePublicTutorialGroupChannels:o,useTutorialGroupChannels:d}=e;this.isLoading=!0,this.newTutorialGroupsConfiguration.useTutorialGroupChannels=d,this.newTutorialGroupsConfiguration.usePublicTutorialGroupChannels=o,this.tutorialGroupsConfigurationService.create(this.newTutorialGroupsConfiguration,this.course.id,t??[]).pipe(s(()=>{this.isLoading=!1}),u(this.ngUnsubscribe)).subscribe({next:n=>{this.course.tutorialGroupsConfiguration=n.body,this.courseStorageService.updateCourse(this.course),this.router.navigate(["/course-management",this.course.id,"tutorial-groups-checklist"])},error:n=>g(this.alertService,n)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=T({type:a,selectors:[["jhi-create-tutorial-groups-configuration"]],decls:9,vars:3,consts:[[3,"isLoading"],["jhiTranslate","artemisApp.pages.createTutorialGroupsConfiguration.title"],["role","alert","jhiTranslate","artemisApp.pages.createTutorialGroupsConfiguration.explanation",1,"alert","alert-info"],[3,"formSubmitted","isEditMode","course"]],template:function(t,o){t&1&&(p(0,"jhi-loading-indicator-container",0),r(1,`
    `),m(2,"h3",1),r(3,`
    `),m(4,"div",2),r(5,`
    `),p(6,"jhi-tutorial-groups-configuration-form",3),S("formSubmitted",function(n){return o.createTutorialsGroupConfiguration(n)}),l(),r(7,`
`),l(),r(8,`
`)),t&2&&(c("isLoading",o.isLoading),v(6),c("isEditMode",!1)("course",o.course))},dependencies:[D,x,U],encapsulation:2,changeDetection:0})}return a})();export{V as CreateTutorialGroupsConfigurationComponent};
//# sourceMappingURL=create-tutorial-groups-configuration.component-VNND3M7N.js.map
