import{a as ft}from"./chunk-MGAZNMUZ.js";import"./chunk-RF2AUYNN.js";import{a as Ct,b as Te,c as ye}from"./chunk-VTTU6NLB.js";import{a as we,b as si}from"./chunk-PCAOW5RI.js";import{a as dt,b as oi}from"./chunk-T7GRTCG6.js";import{a as ct,b as pt,c as gt,d as ai,e as ht}from"./chunk-OBRXVNR3.js";import"./chunk-4CVODXGB.js";import{a as mt,b as ut}from"./chunk-TLJ4QAPU.js";import{a as xt}from"./chunk-HOVEUVZP.js";import{a as lt}from"./chunk-YKUEDDG2.js";import{a as ce}from"./chunk-VDG3BHQZ.js";import{a as at,b as st}from"./chunk-JUXTEYRQ.js";import{a as ot}from"./chunk-EJ5LGD43.js";import{a as rt}from"./chunk-CFJ5GCKD.js";import"./chunk-DRT3JEBM.js";import{a as nt}from"./chunk-UQA7EKND.js";import{a as tt}from"./chunk-2D32KPWA.js";import"./chunk-7MKMUXV6.js";import"./chunk-GRLLGFUW.js";import{a as $i}from"./chunk-SUUJN3EQ.js";import{a as it}from"./chunk-HTZAAFOQ.js";import{a as ri}from"./chunk-3GEJHWIQ.js";import"./chunk-XX5ZSHAB.js";import"./chunk-HPCUFM6M.js";import"./chunk-JCAGYDTX.js";import"./chunk-OI2L2OHD.js";import{a as Zi}from"./chunk-A2A6JFSH.js";import"./chunk-MD6Z63OB.js";import"./chunk-M2FHCXD3.js";import{a as et}from"./chunk-SLVT6IA5.js";import"./chunk-FAFORKWV.js";import"./chunk-YOWUV6EQ.js";import"./chunk-X3HHHVRJ.js";import"./chunk-FLZTDUOG.js";import"./chunk-QU4DXSXD.js";import{a as He}from"./chunk-LTHMYHP7.js";import"./chunk-DOLVNMRR.js";import{a as Ji}from"./chunk-WIZ2YSLS.js";import{C as Yi}from"./chunk-RTOKZMYN.js";import{j as Ke}from"./chunk-5QODR5GQ.js";import"./chunk-RNPAFOPW.js";import"./chunk-KZGAUMRM.js";import"./chunk-656XE4CO.js";import"./chunk-YGSJB6WY.js";import"./chunk-O2WHE2S3.js";import"./chunk-JJUII2KT.js";import{b as qi,c as Ui,i as Gi,j as Qi,k as zi,l as ei,m as Ki,n as Hi,o as Xi,p as ii,q as ve,r as ti,s as ni}from"./chunk-U4DJRHYQ.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-PNTOXB52.js";import"./chunk-65Z25AP3.js";import"./chunk-5M3YV54C.js";import"./chunk-RYZEETVB.js";import"./chunk-VTF2OQPK.js";import"./chunk-BNRTXX46.js";import"./chunk-N4VVKRBU.js";import"./chunk-5AQXEKLE.js";import"./chunk-3JSWSN6W.js";import"./chunk-7XNS72RJ.js";import"./chunk-KYCCMZSV.js";import"./chunk-DXTZ4GAW.js";import"./chunk-2UXGFGK3.js";import"./chunk-O4VJ5OXY.js";import"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-OTNXTVPX.js";import{d as Ue,e as Ge,f as Qe,g as ze}from"./chunk-F3NFBBHK.js";import"./chunk-Z2YUBN6N.js";import"./chunk-OTCBNILH.js";import"./chunk-AO5E7TEY.js";import{a as Bi,b as F,c as P,e as $e}from"./chunk-6EYB5QBP.js";import"./chunk-GERFCPB6.js";import{a as fe,b as Ee,d as _e}from"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-D6LEDP6W.js";import"./chunk-VWRLJYRR.js";import{a as O}from"./chunk-2QXIMOEO.js";import"./chunk-JHBUBEY6.js";import{a as Oi}from"./chunk-UDBRF4PR.js";import"./chunk-QH7SWO42.js";import"./chunk-P2M2VQE3.js";import"./chunk-GXOKLIFX.js";import"./chunk-5JBXU6VG.js";import"./chunk-4I367PEU.js";import"./chunk-QA7Y7QBM.js";import"./chunk-ZPITQMA6.js";import"./chunk-HK7MJBP6.js";import"./chunk-2CUFQLAH.js";import{a as Wi}from"./chunk-DRMCDU75.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import{d as Di}from"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import{c as We}from"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import{a as be}from"./chunk-PZ7IDTIM.js";import{n as ji}from"./chunk-CT44YL7Q.js";import"./chunk-ZFM7LHJQ.js";import"./chunk-JNO6DNVW.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import{K as Le,j as de,v as Mi}from"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import{C as W,F as Ii,H as ae,K as N,b as Z,c as K,h as L,i as vi,k as Ti,m as D,n as wi,o as Ai,q as ki,w as Ve,x as Fe,z as Ne}from"./chunk-WA5GEAJB.js";import"./chunk-DRSQQEUE.js";import"./chunk-7XXWL6ER.js";import{n as he,p as Ce,u as qe}from"./chunk-VK7JPHFE.js";import{c as xe}from"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import{e as Ze,k as Li}from"./chunk-5GXY5RYT.js";import"./chunk-BQRUD4AM.js";import{a as ee}from"./chunk-K3W6YFKH.js";import"./chunk-TL3DYXRE.js";import{b as je,c as Be}from"./chunk-JXJXC4DZ.js";import{d as me}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import{c as Vi,f as se,g as Fi,k as Ni}from"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Bb as Oe,Lc as ue,kb as $,wd as Ri}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as V}from"./chunk-U54OSGNH.js";import{f as bi}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import{c as De}from"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{A as oe,O as Si,n as Pi}from"./chunk-IOA4DPXY.js";import{Ad as Se,Db as a,Dc as C,Ea as T,La as ne,Ma as u,Mb as X,Mc as f,Na as x,Oc as l,Pb as Ei,Qd as yi,Rc as j,Rd as z,Sc as _i,Tb as A,Va as te,Ya as le,Yc as S,Za as w,Zb as h,Zc as b,_c as v,ab as U,ad as J,bd as pe,cd as B,dd as i,ed as Me,f as H,fd as ge,kc as p,lc as ke,ld as E,md as _,nd as y,oa as hi,oc as Ie,qd as re,ra as Je,rd as Re,sc as d,uc as Y,vc as G,wc as Q,xb as fi,xc as s,ya as Ci,yc as m,yd as k,zc as c,zd as R}from"./chunk-5LC5EQRR.js";import{a as Ae}from"./chunk-3E746U5Y.js";var wt=["field_assignmentRepositoryCheckoutPath"],At=["field_testRepositoryCheckoutPath"],kt=["field_solutionRepositoryCheckoutPath"];function It(r,g){if(r&1){let e=C();i(0,`
        `),c(1,"label",8),i(2,`
        `),c(3,"jhi-help-icon",9),i(4,`
        `),s(5,"input",10,0),y("ngModelChange",function(t){u(e);let o=l();return _(o.assignmentCheckoutPath,t)||(o.assignmentCheckoutPath=t),x(t)}),f("ngModelChange",function(t){u(e);let o=l();return x(o.onAssigmentRepositoryCheckoutPathChange(t))}),m(),i(7,`
    `)}if(r&2){let e=l();a(5),p("pattern",e.pattern()),E("ngModel",e.assignmentCheckoutPath)}}function Mt(r,g){if(r&1){let e=C();i(0,`
        `),c(1,"label",11),i(2,`
        `),c(3,"jhi-help-icon",9),i(4,`
        `),s(5,"input",12,1),y("ngModelChange",function(t){u(e);let o=l();return _(o.testCheckoutPath,t)||(o.testCheckoutPath=t),x(t)}),f("ngModelChange",function(t){u(e);let o=l();return x(o.onTestRepositoryCheckoutPathChange(t))}),m(),i(7,`
    `)}if(r&2){let e=l();a(5),E("ngModel",e.testCheckoutPath),p("pattern",e.pattern())}}function Rt(r,g){if(r&1){let e=C();i(0,`
        `),c(1,"label",13),i(2,`
        `),c(3,"jhi-help-icon",9),i(4,`
        `),s(5,"input",14,2),y("ngModelChange",function(t){u(e);let o=l();return _(o.solutionCheckoutPath,t)||(o.solutionCheckoutPath=t),x(t)}),f("ngModelChange",function(t){u(e);let o=l();return x(o.onSolutionRepositoryCheckoutPathChange(t))}),m(),i(7,`
    `)}if(r&2){let e=l();a(5),E("ngModel",e.solutionCheckoutPath),p("pattern",e.pattern())}}function Vt(r,g){r&1&&(i(0,`
        `),s(1,"div",15),i(2,`
            `),c(3,"strong",16),i(4,`
        `),m(),i(5,`
    `))}var mi=(()=>{class r{programmingExercise=w.required();pattern=w.required();submissionBuildPlanCheckoutRepositories=w.required();assignmentCheckoutPathEvent=le();testCheckoutPathEvent=le();solutionCheckoutPathEvent=le();assignmentCheckoutPath;testCheckoutPath;solutionCheckoutPath;isAssigmentRepositoryEditable=!1;isTestRepositoryEditable=!1;isSolutionRepositoryEditable=!1;formValid=!0;formValidChanges=new H;field_assignmentRepositoryCheckoutPath=X("field_assignmentRepositoryCheckoutPath");field_testRepositoryCheckoutPath=X("field_testRepositoryCheckoutPath");field_solutionRepositoryCheckoutPath=X("field_solutionRepositoryCheckoutPath");constructor(){z(()=>{this.reset()})}reset(){let e=this.submissionBuildPlanCheckoutRepositories();this.isAssigmentRepositoryEditable=!!e?.exerciseCheckoutDirectory&&e?.exerciseCheckoutDirectory.trim()!==""&&e?.exerciseCheckoutDirectory!=="/",this.isAssigmentRepositoryEditable?this.assignmentCheckoutPath=this.programmingExercise().buildConfig?.assignmentCheckoutPath||this.removeLeadingSlash(e?.exerciseCheckoutDirectory)||"":this.assignmentCheckoutPath="",this.isTestRepositoryEditable=!!e?.testCheckoutDirectory&&e?.testCheckoutDirectory.trim()!==""&&e?.testCheckoutDirectory!=="/",this.isTestRepositoryEditable?this.testCheckoutPath=this.programmingExercise().buildConfig?.testCheckoutPath||this.removeLeadingSlash(e?.testCheckoutDirectory)||"":this.testCheckoutPath="/",this.isSolutionRepositoryEditable=!!e?.solutionCheckoutDirectory&&e?.solutionCheckoutDirectory.trim()!==""&&e?.solutionCheckoutDirectory!=="/",this.isSolutionRepositoryEditable?this.solutionCheckoutPath=this.programmingExercise().buildConfig?.solutionCheckoutPath||this.removeLeadingSlash(e?.solutionCheckoutDirectory)||"":this.solutionCheckoutPath=""}onAssigmentRepositoryCheckoutPathChange(e){this.assignmentCheckoutPath=e,this.assignmentCheckoutPathEvent.emit(this.assignmentCheckoutPath),this.calculateFormValid()}onTestRepositoryCheckoutPathChange(e){this.testCheckoutPath=e,this.testCheckoutPathEvent.emit(this.testCheckoutPath),this.calculateFormValid()}onSolutionRepositoryCheckoutPathChange(e){this.solutionCheckoutPath=e,this.solutionCheckoutPathEvent.emit(this.solutionCheckoutPath),this.calculateFormValid()}removeLeadingSlash(e){return e?.replace(/^\//,"")}calculateFormValid(){let e=!!((!this.field_assignmentRepositoryCheckoutPath()||this.field_assignmentRepositoryCheckoutPath()?.valid)&&(!this.field_testRepositoryCheckoutPath()||this.field_testRepositoryCheckoutPath()?.valid)&&(!this.field_solutionRepositoryCheckoutPath()||this.field_solutionRepositoryCheckoutPath()?.valid));this.formValid=e&&this.areValuesUnique([this.assignmentCheckoutPath,this.testCheckoutPath,this.solutionCheckoutPath]),this.formValidChanges.next(this.formValid)}areValuesUnique(e){let n=e.filter(o=>o!==void 0&&o.trim()!==""),t=new Set(n);return n.length===t.size}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-edit-checkout-directories"]],viewQuery:function(n,t){n&1&&(J(t.field_assignmentRepositoryCheckoutPath,wt,5),J(t.field_testRepositoryCheckoutPath,At,5),J(t.field_solutionRepositoryCheckoutPath,kt,5)),n&2&&pe(3)},inputs:{programmingExercise:[1,"programmingExercise"],pattern:[1,"pattern"],submissionBuildPlanCheckoutRepositories:[1,"submissionBuildPlanCheckoutRepositories"]},outputs:{assignmentCheckoutPathEvent:"assignmentCheckoutPathEvent",testCheckoutPathEvent:"testCheckoutPathEvent",solutionCheckoutPathEvent:"solutionCheckoutPathEvent"},decls:17,vars:4,consts:[["field_assignmentRepositoryCheckoutPath","ngModel"],["field_testRepositoryCheckoutPath","ngModel"],["field_solutionRepositoryCheckoutPath","ngModel"],[1,"form-group"],["role","alert",1,"warning","alert-warning","mt-2"],["jhiTranslate","artemisApp.programmingExercise.checkoutPath.warning"],["role","alert",1,"warning","alert-warning","mt-1"],["jhiTranslate","artemisApp.programmingExercise.checkoutPath.warningBuildScript"],["jhiTranslate","artemisApp.programmingExercise.checkoutPath.assignment"],["placement","auto","text","artemisApp.programmingExercise.checkoutPath.customize"],["required","","type","text","name","assignmentRepositoryCheckoutPath","id","field_assignmentRepositoryCheckoutPath",1,"form-control",3,"ngModelChange","pattern","ngModel"],["jhiTranslate","artemisApp.programmingExercise.checkoutPath.tests"],["required","","type","text","name","testRepositoryCheckoutPath","id","field_testRepositoryCheckoutPath",1,"form-control",3,"ngModelChange","ngModel","pattern"],["jhiTranslate","artemisApp.programmingExercise.checkoutPath.solution"],["required","","type","text","name","solutionRepositoryCheckoutPath","id","field_solutionRepositoryCheckoutPath",1,"form-control",3,"ngModelChange","ngModel","pattern"],["role","alert",1,"alert","alert-danger","mt-2"],["jhiTranslate","artemisApp.programmingExercise.checkoutPath.alert"]],template:function(n,t){n&1&&(s(0,"div",3),i(1,`
    `),h(2,It,8,2)(3,Mt,8,2)(4,Rt,8,2)(5,Vt,6,0),s(6,"div",4),i(7,`
        `),c(8,"strong",5),i(9,`
    `),m(),i(10,`
    `),s(11,"div",6),i(12,`
        `),c(13,"strong",7),i(14,`
    `),m(),i(15,`
`),m(),i(16,`
`)),n&2&&(a(2),d(t.isAssigmentRepositoryEditable?2:-1),a(),d(t.isTestRepositoryEditable?3:-1),a(),d(t.isSolutionRepositoryEditable?4:-1),a(),d(t.formValid?-1:5))},dependencies:[O,V,N,K,L,W,ae,D],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var Xe=class{id;name;checkoutDirectory;repositoryUri;description};var Et=(()=>{class r{ButtonType=fe;ButtonSize=Ee;programmingExercise;row;onRefresh=new te;faTrash=Oe;removeAuxiliaryRepository(){let e=this.programmingExercise.auxiliaryRepositories?.indexOf(this.row);this.programmingExercise.auxiliaryRepositories?.splice(e,1),this.onRefresh.emit(),this.programmingExercise.auxiliaryRepositories=[...this.programmingExercise.auxiliaryRepositories]}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-remove-auxiliary-repository-button"]],inputs:{programmingExercise:"programmingExercise",row:"row"},outputs:{onRefresh:"onRefresh"},decls:3,vars:4,consts:[[3,"onClick","btnType","btnSize","icon","title"]],template:function(n,t){n&1&&(i(0,`
        `),s(1,"jhi-button",0),f("onClick",function(){return t.removeAuxiliaryRepository()}),m(),i(2,`
    `)),n&2&&(a(),p("btnType",t.ButtonType.ERROR)("btnSize",t.ButtonSize.SMALL)("icon",t.faTrash)("title","entity.action.remove"))},dependencies:[_e],encapsulation:2})}return r})();var _t=(()=>{class r{ButtonType=fe;ButtonSize=Ee;faPlus=ue;programmingExercise;onRefresh=new te;addAuxiliaryRepositoryRow(){this.programmingExercise.auxiliaryRepositories===void 0&&(this.programmingExercise.auxiliaryRepositories=[]);let e=new Xe;e.name="",e.checkoutDirectory="",this.programmingExercise.auxiliaryRepositories?.push(e),this.onRefresh.emit(),this.programmingExercise.auxiliaryRepositories=[...this.programmingExercise.auxiliaryRepositories]}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-add-auxiliary-repository-button"]],inputs:{programmingExercise:"programmingExercise"},outputs:{onRefresh:"onRefresh"},decls:3,vars:4,consts:[[3,"onClick","btnType","btnSize","icon","title"]],template:function(n,t){n&1&&(i(0,`
        `),s(1,"jhi-button",0),f("onClick",function(){return t.addAuxiliaryRepositoryRow()}),m(),i(2,`
    `)),n&2&&(a(),p("btnType",t.ButtonType.SUCCESS)("btnSize",t.ButtonSize.SMALL)("icon",t.faPlus)("title","entity.action.addAuxiliaryRepository"))},dependencies:[_e],encapsulation:2})}return r})();var Ye=(()=>{class r{programmingExercise=w.required();static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-difficulty"]],inputs:{programmingExercise:[1,"programmingExercise"]},decls:10,vars:1,consts:[[1,"form-group"],["jhiTranslate","artemisApp.exercise.difficulty",1,"label-narrow"],[3,"exercise"]],template:function(n,t){n&1&&(s(0,"div",0),i(1,`
    `),c(2,"label",1),i(3,`
    `),s(4,"div"),i(5,`
        `),c(6,"jhi-difficulty-picker",2),i(7,`
    `),m(),i(8,`
`),m(),i(9,`
`)),n&2&&(a(6),p("exercise",t.programmingExercise()))},dependencies:[V,mt],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var yt=["titleChannelNameComponent"],Nt=["shortName"],Lt=["checkoutSolutionRepository"],Dt=["recreateBuildPlans"],Ot=["updateTemplateFiles"],jt=()=>["required"],Bt=(r,g)=>g.key;function Wt(r,g){if(r&1&&(i(0,`
                    `),s(1,"div",13),i(2,`
                        `),c(3,"div",14),i(4,`
                    `),m(),i(5,`
                `)),r&2){let e=l().$implicit;a(3),p("jhiTranslate","artemisApp.exercise.form.shortName."+e.key)}}function qt(r,g){if(r&1&&(i(0,`
                `),h(1,Wt,6,1)),r&2){l();let e=B(11);a(),d(e.invalid&&(e.dirty||e.touched)?1:-1)}}function Ut(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",6),i(2,`
            `),s(3,"div"),i(4,`
                `),c(5,"label",10),i(6,`
                `),c(7,"jhi-help-icon",11),i(8,`
            `),m(),i(9,`
            `),s(10,"input",12,1),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise().shortName,t)||(o.programmingExercise().shortName=t),x(t)}),m(),i(12,`
            `),G(13,qt,2,1,null,null,Bt),k(15,"keyvalue"),k(16,"removekeys"),m(),i(17,`
    `)}if(r&2){let e=B(11),n=l();a(10),p("pattern",n.programmingExerciseCreationConfig.shortNamePattern),E("ngModel",n.programmingExercise().shortName),p("readOnly",!n.programmingExerciseCreationConfig.isImportFromExistingExercise&&!!n.programmingExercise().id)("disabled",!n.programmingExerciseCreationConfig.isImportFromExistingExercise&&!!n.programmingExercise().id)("disallowedValues",n.alreadyUsedShortNames()),a(3),Q(Se(16,7,R(15,5,e.errors),re(10,jt)))}}function Gt(r,g){if(r&1){let e=C();i(0,`
                `),s(1,"jhi-programming-exercise-edit-checkout-directories",18),f("assignmentCheckoutPathEvent",function(t){u(e);let o=l(2);return x(o.onAssigmentRepositoryCheckoutPathChange(t))})("testCheckoutPathEvent",function(t){u(e);let o=l(2);return x(o.onTestRepositoryCheckoutPathChange(t))})("solutionCheckoutPathEvent",function(t){u(e);let o=l(2);return x(o.onSolutionRepositoryCheckoutPathChange(t))}),m(),i(2,`
            `)}if(r&2){let e=l(2);a(),p("programmingExercise",e.programmingExercise())("submissionBuildPlanCheckoutRepositories",e.submissionBuildPlanCheckoutRepositories)("pattern",e.programmingExerciseCreationConfig.invalidDirectoryNamePattern)}}function Qt(r,g){if(r&1&&(i(0,`
                                    `),c(1,"jhi-table-editable-field",25),i(2,`
                                `)),r&2){let e=g.row,n=l(4);a(),p("id",e.id+"-repositoryName")("value",e.name||"")("onValueUpdate",n.programmingExerciseCreationConfig.updateRepositoryName(e))("pattern",n.programmingExerciseCreationConfig.invalidRepositoryNamePattern)("isRequired",!0)("translationBase","artemisApp.programmingExercise.auxiliaryRepository.repositoryNameRequired")}}function zt(r,g){if(r&1&&(i(0,`
                                    `),c(1,"jhi-table-editable-field",26),i(2,`
                                `)),r&2){let e=g.row,n=l(4);a(),p("id",e.id+"-checkoutDirectory")("value",e.checkoutDirectory||"")("onValueUpdate",n.programmingExerciseCreationConfig.updateCheckoutDirectory(e))("pattern",n.programmingExerciseCreationConfig.invalidDirectoryNamePattern)("translationBase","artemisApp.programmingExercise.auxiliaryRepository.invalidDirectoryName")}}function Kt(r,g){if(r&1){let e=C();i(0,`
                                    `),s(1,"textarea",27),y("ngModelChange",function(t){let o=u(e).row;return _(o.description,t)||(o.description=t),x(t)}),i(2,"                                    "),m(),i(3,`
                                `)}if(r&2){let e=g.row;a(),p("id",e.id+"-description"),E("ngModel",e.description)}}function Ht(r,g){if(r&1){let e=C();i(0,`
                                    `),s(1,"jhi-remove-auxiliary-repository-button",28),f("onRefresh",function(){u(e);let t=l(4);return x(t.programmingExerciseCreationConfig.refreshAuxiliaryRepositoryChecks())}),m(),i(2,`
                                `)}if(r&2){let e=g.row,n=l(4);a(),p("programmingExercise",n.programmingExercise())("row",e)}}function Xt(r,g){if(r&1&&(i(0,`
                        `),s(1,"ngx-datatable",19),i(2,`
                            `),s(3,"ngx-datatable-column",20),k(4,"artemisTranslate"),i(5,`
                                `),h(6,Qt,3,6,"ng-template",21),i(7,`
                            `),m(),i(8,`
                            `),s(9,"ngx-datatable-column",22),k(10,"artemisTranslate"),i(11,`
                                `),h(12,zt,3,5,"ng-template",21),i(13,`
                            `),m(),i(14,`
                            `),s(15,"ngx-datatable-column",23),k(16,"artemisTranslate"),i(17,`
                                `),h(18,Kt,4,2,"ng-template",21),i(19,`
                            `),m(),i(20,`
                            `),s(21,"ngx-datatable-column",24),i(22,`
                                `),h(23,Ht,3,2,"ng-template",21),i(24,`
                            `),m(),i(25,`
                        `),m(),i(26,`
                    `)),r&2){let e=l(3);a(),p("headerHeight",50)("limit",20)("columnMode","force")("rowHeight","auto")("rows",e.programmingExercise().auxiliaryRepositories),a(2),p("name",R(4,8,"artemisApp.programmingExercise.auxiliaryRepository.repositoryName")),a(6),p("name",R(10,10,"artemisApp.programmingExercise.auxiliaryRepository.checkoutDirectory")),a(6),p("name",R(16,12,"artemisApp.programmingExercise.auxiliaryRepository.description"))}}function Yt(r,g){r&1&&(i(0,`
                                `),c(1,"span",30),i(2,`
                            `))}function Jt(r,g){r&1&&(i(0,`
                                `),c(1,"span",31),i(2,`
                            `))}function Zt(r,g){if(r&1&&(i(0,`
                        `),s(1,"ngb-alert",29),i(2,`
                            `),h(3,Yt,3,0)(4,Jt,3,0),m(),i(5,`
                    `)),r&2){let e=l(3);a(),p("dismissible",!1)("type","danger"),a(2),d(e.programmingExerciseCreationConfig.auxiliaryRepositoryDuplicateNames?3:-1),a(),d(e.programmingExerciseCreationConfig.auxiliaryRepositoryDuplicateDirectories?4:-1)}}function $t(r,g){r&1&&(i(0,`
                        `),s(1,"ngb-alert",29),i(2,`
                            `),c(3,"span",32),i(4,`
                        `),m(),i(5,`
                    `)),r&2&&(a(),p("dismissible",!1)("type","info"))}function en(r,g){if(r&1){let e=C();i(0,`
                        `),s(1,"jhi-button",33),f("onClick",function(){u(e);let t=l(3);return x(t.toggleEditRepositoryCheckoutPath())}),m(),i(2,`
                    `)}if(r&2){let e=l(3);a(),p("btnType",e.ButtonType.WARNING)("btnSize",e.ButtonSize.SMALL)("icon",e.faPlus)("title","artemisApp.programmingExercise.checkoutPath.edit")}}function tn(r,g){if(r&1){let e=C();i(0,`
                        `),s(1,"jhi-add-auxiliary-repository-button",34),f("onRefresh",function(){u(e);let t=l(3);return x(t.programmingExerciseCreationConfig.refreshAuxiliaryRepositoryChecks())}),m(),i(2,`
                        `),c(3,"jhi-help-icon",35),i(4,`
                    `)}if(r&2){let e=l(3);a(),p("programmingExercise",e.programmingExercise())}}function nn(r,g){if(r&1&&(i(0,`
                `),s(1,"div",6),i(2,`
                    `),h(3,Xt,27,14)(4,Zt,6,4)(5,$t,6,2)(6,en,3,4)(7,tn,5,1),m(),i(8,`
            `)),r&2){let e=l(2);a(3),d(e.programmingExercise().auxiliaryRepositories&&e.programmingExercise().auxiliaryRepositories.length>0&&e.isEditFieldDisplayedRecord().addAuxiliaryRepository?3:-1),a(),d(e.programmingExerciseCreationConfig.auxiliaryRepositoryDuplicateNames||e.programmingExerciseCreationConfig.auxiliaryRepositoryDuplicateDirectories?4:-1),a(),d(e.programmingExerciseCreationConfig&&!e.isLocal()?5:-1),a(),d(e.isLocal()&&!e.isImport()&&!e.programmingExerciseCreationConfig.isEdit&&e.isEditFieldDisplayedRecord().editRepositoriesCheckoutPath?6:-1),a(),d(e.isEditFieldDisplayedRecord().addAuxiliaryRepository?7:-1)}}function rn(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",6),i(2,`
            `),s(3,"div"),i(4,`
                `),c(5,"label",15),i(6,`
                `),c(7,"jhi-help-icon",16),i(8,`
            `),m(),i(9,`
            `),s(10,"jhi-programming-exercise-repository-and-build-plan-details",17),f("submissionBuildPlanEvent",function(t){u(e);let o=l();return x(o.updateSubmissionBuildPlanCheckoutDirectories(t))}),m(),i(11,`
            `),h(12,Gt,3,3)(13,nn,9,5),m(),i(14,`
    `)}if(r&2){let e,n=l();a(7),p("text",n.isLocal()?"artemisApp.programmingExercise.preview.tooltipLocalVC":"artemisApp.programmingExercise.preview.tooltip"),a(3),p("programmingExercise",n.programmingExercise())("programmingLanguage",n.programmingExerciseCreationConfig.selectedProgrammingLanguage)("isLocal",n.isLocal())("checkoutSolutionRepository",((e=n.programmingExercise().buildConfig)==null?null:e.checkoutSolutionRepository)||!1)("isCreateOrEdit",!0)("isEditMode",n.programmingExerciseCreationConfig.isEdit)("programmingExerciseBuildConfig",n.programmingExercise().buildConfig),a(2),d(n.editRepositoryCheckoutPath&&n.isLocal()&&!n.isImport()&&!n.programmingExerciseCreationConfig.isEdit&&n.isEditFieldDisplayedRecord().editRepositoriesCheckoutPath?12:-1),a(),d(!n.programmingExerciseCreationConfig.isImportFromExistingExercise&&n.programmingExerciseCreationConfig.auxiliaryRepositoriesSupported?13:-1)}}function on(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",36),i(2,`
                `),s(3,"label",37),i(4,`
                    `),s(5,"input",38,2),y("ngModelChange",function(t){u(e);let o=l();return _(o.importOptions().recreateBuildPlans,t)||(o.importOptions().recreateBuildPlans=t),x(t)}),f("change",function(){u(e);let t=l();return x(t.programmingExerciseCreationConfig.recreateBuildPlanOrUpdateTemplateChange())}),m(),i(7,`
                    `),c(8,"span",39),i(9,`
                    `),c(10,"jhi-help-icon",40),i(11,`
                `),m(),i(12,`
            `),m(),i(13,`
        `)}if(r&2){let e=l();a(5),E("ngModel",e.importOptions().recreateBuildPlans)}}function an(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",36),i(2,`
                `),s(3,"label",41),i(4,`
                    `),s(5,"input",42,3),y("ngModelChange",function(t){u(e);let o=l();return _(o.importOptions().updateTemplate,t)||(o.importOptions().updateTemplate=t),x(t)}),f("change",function(){u(e);let t=l();return x(t.programmingExerciseCreationConfig.recreateBuildPlanOrUpdateTemplateChange())}),m(),i(7,`
                    `),c(8,"span",43),i(9,`
                    `),c(10,"jhi-help-icon",44),i(11,`
                `),m(),i(12,`
            `),m(),i(13,`
        `)}if(r&2){let e=l();a(5),E("ngModel",e.importOptions().updateTemplate)}}function sn(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",45),i(2,`
            `),s(3,"div"),i(4,`
                `),c(5,"label",46),i(6,`
                `),c(7,"jhi-help-icon",47),i(8,`
            `),m(),i(9,`
            `),s(10,"jhi-category-selector",48),f("selectedCategories",function(t){u(e);let o=l();return x(o.programmingExerciseCreationConfig.updateCategories(t))}),m(),i(11,`
        `),m(),i(12,`
    `)}if(r&2){let e=l();a(10),p("categories",e.programmingExerciseCreationConfig.exerciseCategories)("existingCategories",e.programmingExerciseCreationConfig.existingCategories)}}function mn(r,g){if(r&1&&(i(0,`
        `),c(1,"jhi-programming-exercise-difficulty",49),i(2,`
    `)),r&2){let e=l();a(),p("programmingExercise",e.programmingExercise())}}var ln=200,li=(()=>{class r{ProjectType=P;ButtonType=fe;ButtonSize=Ee;faPlus=ue;programmingExerciseCreationConfig;isImport=w.required();isExamMode=w.required();programmingExercise=w.required();isLocal=w.required();importOptions=w.required();isSimpleMode=w.required();isEditFieldDisplayedRecord=w.required();courseId=w();isAuxiliaryRepositoryInputValid=Ei.required();exerciseTitleChannelComponent=X("titleChannelNameComponent");tableEditableFields;shortNameField=X("shortName");checkoutSolutionRepositoryField;recreateBuildPlansField;updateTemplateFilesField;titleComponent;programmingExerciseEditCheckoutDirectories;exerciseService=T(We);alertService=T(Be);isShortNameFieldValid=U(!1);isShortNameFromAdvancedMode=U(!1);formValid;formValidChanges=new H;inputFieldSubscriptions=[];alreadyUsedExerciseNames=U(new Set);alreadyUsedShortNames=U(new Set);exerciseTitle=U(void 0);editRepositoryCheckoutPath=!1;submissionBuildPlanCheckoutRepositories;constructor(){z(()=>{this.defineShortNameOnEditModeChangeIfNotDefinedInAdvancedMode()}),z(()=>{this.generateShortNameWhenInSimpleMode()}),z(()=>{this.registerInputFieldsWhenChildComponentsAreReady()}),z(()=>{this.fetchAndInitializeTakenTitlesAndShortNames()})}ngAfterViewInit(){this.registerInputFields()}ngOnChanges(e){e.programmingExercise&&this.exerciseTitle.set(this.programmingExercise().title)}ngOnDestroy(){for(let e of this.inputFieldSubscriptions)e?.unsubscribe()}registerInputFields(){this.inputFieldSubscriptions.forEach(e=>e?.unsubscribe()),this.inputFieldSubscriptions.push(this.exerciseTitleChannelComponent()?.titleChannelNameComponent?.formValidChanges.subscribe(()=>this.calculateFormValid())),this.inputFieldSubscriptions.push(this.shortNameField()?.valueChanges?.subscribe(()=>this.calculateFormValid())),this.inputFieldSubscriptions.push(this.checkoutSolutionRepositoryField?.valueChanges?.subscribe(()=>this.calculateFormValid())),this.inputFieldSubscriptions.push(this.recreateBuildPlansField?.valueChanges?.subscribe(()=>this.calculateFormValid())),this.inputFieldSubscriptions.push(this.updateTemplateFilesField?.valueChanges?.subscribe(()=>this.calculateFormValid())),this.inputFieldSubscriptions.push(this.programmingExerciseEditCheckoutDirectories?.formValidChanges.subscribe(()=>this.calculateFormValid())),this.tableEditableFields?.changes.subscribe(e=>{e.toArray().forEach(n=>this.inputFieldSubscriptions.push(n.editingInput.valueChanges?.subscribe(()=>this.calculateFormValid())))}),this.titleComponent?.titleChannelNameComponent?.field_title?.valueChanges?.subscribe(e=>{this.isSimpleMode()&&this.updateShortName(e)}),this.shortNameField()?.valueChanges?.subscribe(()=>{this.updateIsShortNameValid()})}updateShortName(e){this.exerciseTitle.set(e)}calculateFormValid(){let e=this.isCheckoutSolutionRepositoryValid(),n=this.isRecreateBuildPlansValid(),t=this.isUpdateTemplateFilesValid(),o=this.areAuxiliaryRepositoriesValid(),M=this.areCheckoutPathsValid();this.formValid=!!(this.exerciseTitleChannelComponent()?.titleChannelNameComponent?.isFormValidSignal()&&this.getIsShortNameFieldValid()&&e&&n&&t&&o&&M),this.formValidChanges.next(this.formValid)}areAuxiliaryRepositoriesValid(){let e=Li(this.tableEditableFields?.map(t=>t.editingInput.valid),Boolean)&&!this.programmingExerciseCreationConfig.auxiliaryRepositoryDuplicateDirectories&&!this.programmingExerciseCreationConfig.auxiliaryRepositoryDuplicateNames||!this.programmingExercise().auxiliaryRepositories?.length;return(!this.isSimpleMode()||this.isEditFieldDisplayedRecord().addAuxiliaryRepository)&&this.isAuxiliaryRepositoryInputValid.set(e),e}isUpdateTemplateFilesValid(){return this.updateTemplateFilesField?.valid||!this.programmingExerciseCreationConfig.isImportFromExistingExercise||this.programmingExercise().projectType===P.PLAIN_GRADLE||this.programmingExercise().projectType===P.GRADLE_GRADLE}isRecreateBuildPlansValid(){return this.recreateBuildPlansField?.valid||!this.programmingExerciseCreationConfig.isImportFromExistingExercise}isCheckoutSolutionRepositoryValid(){return!!(this.checkoutSolutionRepositoryField?.valid||this.programmingExercise().id||!this.programmingExercise().programmingLanguage||!this.programmingExerciseCreationConfig.checkoutSolutionRepositoryAllowed)}areCheckoutPathsValid(){return!!(!this.programmingExerciseEditCheckoutDirectories||this.programmingExerciseEditCheckoutDirectories.formValid&&this.programmingExerciseEditCheckoutDirectories.areValuesUnique([this.programmingExercise().buildConfig?.assignmentCheckoutPath,this.programmingExercise().buildConfig?.testCheckoutPath,this.programmingExercise().buildConfig?.solutionCheckoutPath]))}toggleEditRepositoryCheckoutPath(){this.editRepositoryCheckoutPath=!this.editRepositoryCheckoutPath}updateSubmissionBuildPlanCheckoutDirectories(e){this.submissionBuildPlanCheckoutRepositories=e}onAssigmentRepositoryCheckoutPathChange(e){this.programmingExercise().buildConfig.assignmentCheckoutPath=e,this.programmingExercise().buildConfig=Ae({},this.programmingExercise().buildConfig)}onTestRepositoryCheckoutPathChange(e){this.programmingExercise().buildConfig.testCheckoutPath=e,this.programmingExercise().buildConfig=Ae({},this.programmingExercise().buildConfig)}onSolutionRepositoryCheckoutPathChange(e){this.programmingExercise().buildConfig.solutionCheckoutPath=e,this.programmingExercise().buildConfig=Ae({},this.programmingExercise().buildConfig)}registerInputFieldsWhenChildComponentsAreReady(){this.shortNameField(),this.registerInputFields()}fetchAndInitializeTakenTitlesAndShortNames(){let e=this.courseId()??this.programmingExercise().course?.id;e&&this.exerciseService.getExistingExerciseDetailsInCourse(e,Vi.PROGRAMMING).subscribe(n=>{this.alreadyUsedExerciseNames.set(n.exerciseTitles??new Set),this.alreadyUsedShortNames.set(n.shortNames??new Set)})}generateShortNameWhenInSimpleMode(){if(!this.isSimpleMode()||this.programmingExerciseCreationConfig.isEdit){this.isShortNameFromAdvancedMode.set(this.isShortNameFieldValid());return}let n=this.exerciseTitle()??this.programmingExercise().title;if((this.isImport()||this.isShortNameFromAdvancedMode())&&(n=this.programmingExercise().shortName),n&&n.length>3){let t=ji(n??""),o=this.ensureShortNameIsUnique(t);this.programmingExercise().shortName=o}this.updateIsShortNameValid()}defineShortNameOnEditModeChangeIfNotDefinedInAdvancedMode(){this.isSimpleMode()&&(this.updateIsShortNameValid(),this.calculateFormValid())}updateIsShortNameValid(){this.isShortNameFieldValid.set(this.getIsShortNameFieldValid())}getIsShortNameFieldValid(){return this.shortNameField()===void 0||this.shortNameField()?.control?.status==="VALID"||this.shortNameField()?.control?.status==="DISABLED"}ensureShortNameIsUnique(e){let n=e,t=1;for(;this.alreadyUsedShortNames().has(n);){if(t>ln){this.alertService.error("artemisApp.error.shortNameGenerationFailed");break}n=`${e}${t}`,t++}return n}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-info"]],viewQuery:function(n,t){if(n&1&&(J(t.exerciseTitleChannelComponent,yt,5),J(t.shortNameField,Nt,5),S(Lt,5),S(Dt,5),S(Ot,5),S(yt,5),S(mi,5),S(we,5)),n&2){pe(2);let o;b(o=v())&&(t.checkoutSolutionRepositoryField=o.first),b(o=v())&&(t.recreateBuildPlansField=o.first),b(o=v())&&(t.updateTemplateFilesField=o.first),b(o=v())&&(t.titleComponent=o.first),b(o=v())&&(t.programmingExerciseEditCheckoutDirectories=o.first),b(o=v())&&(t.tableEditableFields=o)}},inputs:{programmingExerciseCreationConfig:"programmingExerciseCreationConfig",isImport:[1,"isImport"],isExamMode:[1,"isExamMode"],programmingExercise:[1,"programmingExercise"],isLocal:[1,"isLocal"],importOptions:[1,"importOptions"],isSimpleMode:[1,"isSimpleMode"],isEditFieldDisplayedRecord:[1,"isEditFieldDisplayedRecord"],courseId:[1,"courseId"],isAuxiliaryRepositoryInputValid:[1,"isAuxiliaryRepositoryInputValid"]},outputs:{isAuxiliaryRepositoryInputValid:"isAuxiliaryRepositoryInputValidChange"},features:[ne],decls:29,vars:15,consts:[["titleChannelNameComponent",""],["shortName","ngModel"],["recreateBuildPlans","ngModel"],["updateTemplateFiles","ngModel"],["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.generalInfoStepTitle","id","artemisApp.programmingExercise.wizardMode.detailedSteps.generalInfoStepTitle"],["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.generalInfoStepMessage"],[1,"form-group"],["jhiTranslate","artemisApp.exercise.title"],["text","artemisApp.programmingExercise.titleTooltip"],[3,"exercise","course","minTitleLength","titlePattern","hideTitleLabel","isExamMode","isImport","isEditFieldDisplayedRecord","courseId"],["jhiTranslate","artemisApp.exercise.shortName","for","field_shortName",1,"label-narrow"],["text","artemisApp.programmingExercise.shortNameTooltip"],["required","","type","text","name","shortName","id","field_shortName","minlength","3","notIncludedIn","",1,"form-control",3,"ngModelChange","pattern","ngModel","readOnly","disabled","disallowedValues"],[1,"alert","alert-danger"],[3,"jhiTranslate"],["jhiTranslate","artemisApp.programmingExercise.preview.label",1,"label-narrow"],[3,"text"],[3,"submissionBuildPlanEvent","programmingExercise","programmingLanguage","isLocal","checkoutSolutionRepository","isCreateOrEdit","isEditMode","programmingExerciseBuildConfig"],[3,"assignmentCheckoutPathEvent","testCheckoutPathEvent","solutionCheckoutPathEvent","programmingExercise","submissionBuildPlanCheckoutRepositories","pattern"],["id","auxiliaryRepositoryTable","trackByProp","id",1,"bootstrap",3,"headerHeight","limit","columnMode","rowHeight","rows"],["prop","repositoryName",3,"name"],["ngx-datatable-cell-template",""],["prop","checkoutDirectory",3,"name"],["prop","description",3,"name"],["name","","prop","removeButton"],[3,"id","value","onValueUpdate","pattern","isRequired","translationBase"],[3,"id","value","onValueUpdate","pattern","translationBase"],["name","description",1,"form-control","table-editable-field__input","me-2",3,"ngModelChange","id","ngModel"],["placement","right auto",1,"ml-2",3,"onRefresh","programmingExercise","row"],[3,"dismissible","type"],["jhiTranslate","artemisApp.programmingExercise.auxiliaryRepository.duplicateRepositoryNames"],["jhiTranslate","artemisApp.programmingExercise.auxiliaryRepository.duplicateDirectoryNames"],["jhiTranslate","artemisApp.programmingExercise.auxiliaryRepository.warning"],[3,"onClick","btnType","btnSize","icon","title"],[1,"ml-2",3,"onRefresh","programmingExercise"],["text","artemisApp.programmingExercise.auxiliaryRepository.usageDescription"],[1,"form-check"],["for","field_recreateBuildPlans",1,"form-check-label"],["type","checkbox","name","recreateBuildPlans","id","field_recreateBuildPlans",1,"form-check-input",3,"ngModelChange","change","ngModel"],["jhiTranslate","artemisApp.programmingExercise.recreateBuildPlans.title"],["placement","auto","text","artemisApp.programmingExercise.recreateBuildPlans.description"],["for","field_updateTemplateFiles",1,"form-check-label"],["type","checkbox","name","updateTemplateFiles","id","field_updateTemplateFiles",1,"form-check-input",3,"ngModelChange","change","ngModel"],["jhiTranslate","artemisApp.programmingExercise.updateTemplate.title"],["placement","auto","text","artemisApp.programmingExercise.updateTemplate.description"],["id","creation-config-selector"],["jhiTranslate","artemisApp.exercise.categories",1,"label-narrow"],["text","artemisApp.exercise.categoriesTooltip"],[3,"selectedCategories","categories","existingCategories"],[3,"programmingExercise"]],template:function(n,t){n&1&&(s(0,"section"),i(1,`
    `),c(2,"h3",4),i(3,`
    `),c(4,"p",5),i(5,`
    `),s(6,"div",6),i(7,`
        `),s(8,"div"),i(9,`
            `),c(10,"label",7),i(11,`
            `),c(12,"jhi-help-icon",8),i(13,`
        `),m(),i(14,`
        `),c(15,"jhi-exercise-title-channel-name",9,0),i(17,`
    `),m(),i(18,`
    `),h(19,Ut,18,11)(20,rn,15,10),s(21,"div",6),i(22,`
        `),h(23,on,14,1)(24,an,14,1),m(),i(25,`
    `),h(26,sn,13,2)(27,mn,3,1),m(),i(28,`
`)),n&2&&(a(15),p("exercise",t.programmingExercise())("course",t.programmingExercise().course)("minTitleLength",3)("titlePattern",t.programmingExerciseCreationConfig.titleNamePattern)("hideTitleLabel",!0)("isExamMode",t.isExamMode())("isImport",t.isImport())("isEditFieldDisplayedRecord",t.isEditFieldDisplayedRecord())("courseId",t.courseId()),a(4),d(t.isEditFieldDisplayedRecord().shortName?19:-1),a(),d(t.programmingExercise().shortName&&t.isShortNameFieldValid()?20:-1),a(3),d(t.programmingExerciseCreationConfig.isImportFromExistingExercise?23:-1),a(),d(t.programmingExerciseCreationConfig.isImportFromExistingExercise&&t.programmingExercise().projectType!==t.ProjectType.PLAIN_GRADLE&&t.programmingExercise().projectType!==t.ProjectType.GRADLE_GRADLE?24:-1),a(2),d(!t.programmingExerciseCreationConfig.isExamMode&&t.isEditFieldDisplayedRecord().categories?26:-1),a(),d(t.isSimpleMode()?27:-1))},dependencies:[V,O,ut,N,K,Z,L,W,Ii,ae,D,nt,it,mi,ze,Qe,Ge,Ue,we,Et,de,_e,_t,xt,Ye,oe,ee,He],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}","#creation-config-selector[_ngcontent-%COMP%]{position:relative}  .tooltip-inner{max-width:600px}"]})}return r})();function cn(r,g){if(r&1&&(i(0,`
        `),c(1,"jhi-programming-exercise-difficulty",3),i(2,`
    `)),r&2){let e=l();a(),p("programmingExercise",e.programmingExercise)}}function pn(r,g){if(r&1&&(i(0,`
        `),s(1,"div",2),i(2,`
            `),c(3,"jhi-team-config-form-group",4),i(4,`
        `),m(),i(5,`
    `)),r&2){let e=l();a(3),p("exercise",e.programmingExercise)("isImport",e.programmingExerciseCreationConfig.isImportFromExistingExercise)}}function gn(r,g){if(r&1&&(i(0,`
                            `),c(1,"fa-icon",9),k(2,"artemisTranslate"),i(3,`
                        `)),r&2){let e=l(3);a(),j("ngbTooltip",R(2,3,"artemisApp.programmingExercise.allowOfflineIde.alert")),p("icon",e.faQuestionCircle)("placement","top")}}function dn(r,g){if(r&1&&(i(0,`
                            `),c(1,"fa-icon",9),k(2,"artemisTranslate"),i(3,`
                        `)),r&2){let e=l(3);a(),j("ngbTooltip",R(2,3,"artemisApp.programmingExercise.allowOfflineIde.alertNoTheia")),p("icon",e.faQuestionCircle)("placement","top")}}function un(r,g){if(r&1&&(i(0,`
                        `),h(1,gn,4,5)(2,dn,4,5)),r&2){let e=l(2);a(),d(e.theiaEnabled?1:2)}}function xn(r,g){r&1&&(i(0,`
                        `),c(1,"jhi-help-icon",10),i(2,`
                    `))}function hn(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",5),i(2,`
                `),s(3,"label",6),i(4,`
                    `),s(5,"input",7),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.allowOfflineIde,t)||(o.programmingExercise.allowOfflineIde=t),x(t)}),f("ngModelChange",function(){u(e);let t=l();return x(t.triggerValidation.emit())}),m(),i(6,`
                    `),c(7,"span",8),i(8,`
                    `),h(9,un,3,1)(10,xn,3,0),m(),i(11,`
            `),m(),i(12,`
        `)}if(r&2){let e=l();a(3),Ie(e.programmingExerciseCreationConfig.validIdeSelection()?"form-check-label":"form-check-label text-danger"),a(2),E("ngModel",e.programmingExercise.allowOfflineIde),a(4),d(e.programmingExerciseCreationConfig.validIdeSelection()?10:9)}}function Cn(r,g){if(r&1&&(i(0,`
                            `),c(1,"fa-icon",9),k(2,"artemisTranslate"),i(3,`
                        `)),r&2){let e=l(3);a(),j("ngbTooltip",R(2,3,"artemisApp.programmingExercise.allowOnlineEditor.alert")),p("icon",e.faQuestionCircle)("placement","top")}}function fn(r,g){if(r&1&&(i(0,`
                            `),c(1,"fa-icon",9),k(2,"artemisTranslate"),i(3,`
                        `)),r&2){let e=l(3);a(),j("ngbTooltip",R(2,3,"artemisApp.programmingExercise.allowOnlineEditor.alertNoTheia")),p("icon",e.faQuestionCircle)("placement","top")}}function En(r,g){if(r&1&&(i(0,`
                        `),h(1,Cn,4,5)(2,fn,4,5)),r&2){let e=l(2);a(),d(e.theiaEnabled?1:2)}}function _n(r,g){r&1&&(i(0,`
                        `),c(1,"jhi-help-icon",14),i(2,`
                    `))}function yn(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",5),i(2,`
                `),s(3,"label",11),i(4,`
                    `),s(5,"input",12),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.allowOnlineEditor,t)||(o.programmingExercise.allowOnlineEditor=t),x(t)}),f("ngModelChange",function(){u(e);let t=l();return x(t.triggerValidation.emit())}),m(),i(6,`
                    `),c(7,"span",13),i(8,`
                    `),h(9,En,3,1)(10,_n,3,0),m(),i(11,`
            `),m(),i(12,`
        `)}if(r&2){let e=l();a(3),Ie(e.programmingExerciseCreationConfig.validIdeSelection()?"form-check-label":"form-check-label text-danger"),a(2),E("ngModel",e.programmingExercise.allowOnlineEditor),a(4),d(e.programmingExerciseCreationConfig.validIdeSelection()?10:9)}}function Pn(r,g){if(r&1&&(i(0,`
                        `),c(1,"fa-icon",9),k(2,"artemisTranslate"),i(3,`
                    `)),r&2){let e=l(2);a(),j("ngbTooltip",R(2,3,"artemisApp.programmingExercise.allowOnlineIde.alert")),p("icon",e.faQuestionCircle)("placement","top")}}function Sn(r,g){r&1&&(i(0,`
                        `),c(1,"jhi-help-icon",18),i(2,`
                    `))}function bn(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",5),i(2,`
                `),s(3,"label",15),i(4,`
                    `),s(5,"input",16),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.allowOnlineIde,t)||(o.programmingExercise.allowOnlineIde=t),x(t)}),f("ngModelChange",function(){u(e);let t=l();return x(t.triggerValidation.emit())}),m(),i(6,`
                    `),c(7,"span",17),i(8,`
                    `),h(9,Pn,4,5)(10,Sn,3,0),m(),i(11,`
            `),m(),i(12,`
        `)}if(r&2){let e=l();a(3),Ie(e.programmingExerciseCreationConfig.validIdeSelection()?"form-check-label":"form-check-label text-danger"),a(2),E("ngModel",e.programmingExercise.allowOnlineIde),a(4),d(e.programmingExerciseCreationConfig.validIdeSelection()?10:9)}}var ci=(()=>{class r{profileService=T(xe);ProjectType=P;faQuestionCircle=$;programmingExercise;programmingExerciseCreationConfig;isEditFieldDisplayedRecord=w.required();teamConfigComponent;triggerValidation=new te;theiaEnabled=!1;ngOnInit(){this.profileService.getProfileInfo().subscribe(e=>{this.theiaEnabled=e.activeProfiles?.includes(qe)})}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-mode"]],viewQuery:function(n,t){if(n&1&&S(ai,5),n&2){let o;b(o=v())&&(t.teamConfigComponent=o.first)}},inputs:{programmingExercise:"programmingExercise",programmingExerciseCreationConfig:"programmingExerciseCreationConfig",isEditFieldDisplayedRecord:[1,"isEditFieldDisplayedRecord"]},outputs:{triggerValidation:"triggerValidation"},decls:15,vars:5,consts:[["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.difficultyStepTitle","id","artemisApp.programmingExercise.wizardMode.detailedSteps.difficultyStepTitle"],["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.difficultyStepMessage"],[1,"form-group"],[3,"programmingExercise"],[1,"form-element",3,"exercise","isImport"],[1,"form-check"],["for","field_allowOfflineIde"],["type","checkbox","name","allowOfflineIde","id","field_allowOfflineIde","checked","",1,"form-check-input",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.programmingExercise.allowOfflineIde.title"],[1,"text-danger",3,"icon","placement","ngbTooltip"],["text","artemisApp.programmingExercise.allowOfflineIde.description"],["for","field_allowOnlineEditor"],["type","checkbox","name","allowOnlineEditor","id","field_allowOnlineEditor","checked","",1,"form-check-input",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.programmingExercise.allowOnlineEditor.title"],["text","artemisApp.programmingExercise.allowOnlineEditor.description"],["for","field_allowOnlineIde"],["type","checkbox","name","allowOnlineIde","id","field_allowOnlineIde","checked","",1,"form-check-input",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.programmingExercise.allowOnlineIde.title"],["text","artemisApp.programmingExercise.allowOnlineIde.description"]],template:function(n,t){n&1&&(s(0,"section"),i(1,`
    `),c(2,"h3",0),i(3,`
    `),c(4,"p",1),i(5,`
    `),h(6,cn,3,1)(7,pn,6,2),s(8,"div",2),i(9,`
        `),h(10,hn,13,4)(11,yn,13,4)(12,bn,13,4),m(),i(13,`
`),m(),i(14,`
`)),n&2&&(a(6),d(t.isEditFieldDisplayedRecord().difficulty?6:-1),a(),d(t.isEditFieldDisplayedRecord().participationMode?7:-1),a(3),d(t.isEditFieldDisplayedRecord().allowOfflineIde?10:-1),a(),d(t.ProjectType.XCODE!==t.programmingExerciseCreationConfig.selectedProjectType&&t.isEditFieldDisplayedRecord().allowOnlineCodeEditor?11:-1),a(),d(!t.programmingExercise.exerciseGroup&&t.theiaEnabled&&t.isEditFieldDisplayedRecord().allowOnlineIde?12:-1))},dependencies:[V,Ye,ai,N,Z,L,D,me,Le,O,ee],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var vn=["dockerImageField"],Tn=["timeoutField"];function wn(r,g){r&1&&(i(0,`
                `),s(1,"div",37),i(2,`
                    `),c(3,"span",38),i(4,`
                `),m(),i(5,`
            `))}function An(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",32),i(2,`
                `),s(3,"label",33),i(4,`
                    `),s(5,"input",34),f("change",function(t){u(e);let o=l(2);return x(o.onDisableNetworkAccessChange(t))}),m(),i(6,`
                    `),c(7,"span",35),i(8,`
                    `),c(9,"jhi-help-icon",36),i(10,`
                `),m(),i(11,`
            `),m(),i(12,`
            `),h(13,wn,6,0)}if(r&2){let e=l(2);a(5),p("checked",e.isNetworkDisabled),a(8),d(e.isNetworkDisabled?13:-1)}}function kn(r,g){if(r&1&&(i(0,`
                        `),c(1,"jhi-table-editable-field",39),i(2,`
                    `)),r&2){let e=g.row,n=g.rowIndex,t=l(2);a(),p("id","key"+n)("value",e[0]||"")("onValueUpdate",t.onEnvVarsKeyChange(e))("isRequired",!0)}}function In(r,g){if(r&1&&(i(0,`
                        `),c(1,"jhi-table-editable-field",39),i(2,`
                    `)),r&2){let e=g.row,n=g.rowIndex,t=l(2);a(),p("id","value"+n)("value",e[1]||"")("onValueUpdate",t.onEnvVarsValueChange(e))("isRequired",!0)}}function Mn(r,g){if(r&1){let e=C();i(0,`
                        `),s(1,"button",40),f("click",function(){let t=u(e).rowIndex,o=l(2);return x(o.removeEnvVar(t))}),i(2,`
                            `),c(3,"fa-icon",14),i(4,`
                            `),c(5,"span",41),i(6,`
                        `),m(),i(7,`
                    `)}if(r&2){let e=l(2);a(3),p("icon",e.faTrash)}}function Rn(r,g){if(r&1){let e=C();i(0,`
        `),h(1,An,14,2),s(2,"div",2),i(3,`
            `),c(4,"span",6),i(5,`
            `),c(6,"jhi-help-icon",7),i(7,`
            `),s(8,"ngx-datatable",8),i(9,`
                `),s(10,"ngx-datatable-column",9),i(11,`
                    `),h(12,kn,3,4,"ng-template",10),i(13,`
                `),m(),i(14,`
                `),s(15,"ngx-datatable-column",11),i(16,`
                    `),h(17,In,3,4,"ng-template",10),i(18,`
                `),m(),i(19,`
                `),s(20,"ngx-datatable-column",12),i(21,`
                    `),h(22,Mn,8,1,"ng-template",10),i(23,`
                `),m(),i(24,`
            `),m(),i(25,`
            `),s(26,"button",13),f("click",function(){u(e);let t=l();return x(t.addEnvVar())}),i(27,`
                `),c(28,"fa-icon",14),i(29,`
                `),c(30,"span",15),i(31,`
            `),m(),i(32,`
        `),m(),i(33,`
        `),s(34,"div",16),i(35,`
            `),s(36,"div"),i(37,`
                `),s(38,"label"),i(39,`
                    `),c(40,"span",17),i(41,`
                `),m(),i(42,`
                `),c(43,"jhi-help-icon",18),i(44,`
            `),m(),i(45,`
            `),s(46,"div",19),i(47,`
                `),s(48,"input",20,1),f("ngModelChange",function(t){u(e);let o=l();return x(o.timeoutChange.emit(t))}),m(),i(50,`
            `),m(),i(51,`
            `),s(52,"span",21),i(53,`
                `),s(54,"span",22),i(55),m(),i(56,`
            `),m(),i(57,`
        `),m(),i(58,`

        `),s(59,"div",2),i(60,`
            `),s(61,"label"),i(62,`
                `),c(63,"span",23),i(64,`
            `),m(),i(65,`
            `),c(66,"jhi-help-icon",24),i(67,`
            `),s(68,"input",25),f("input",function(t){u(e);let o=l();return x(o.onCpuCountChange(t))}),m(),i(69,`
        `),m(),i(70,`

        `),s(71,"div",2),i(72,`
            `),s(73,"label"),i(74,`
                `),c(75,"span",26),i(76,`
            `),m(),i(77,`
            `),c(78,"jhi-help-icon",27),i(79,`
            `),s(80,"input",28),f("input",function(t){u(e);let o=l();return x(o.onMemoryChange(t))}),m(),i(81,`
        `),m(),i(82,`

        `),s(83,"div",2),i(84,`
            `),s(85,"label"),i(86,`
                `),c(87,"span",29),i(88,`
            `),m(),i(89,`
            `),c(90,"jhi-help-icon",30),i(91,`
            `),s(92,"input",31),f("input",function(t){u(e);let o=l();return x(o.onMemorySwapChange(t))}),m(),i(93,`
        `),m(),i(94,`
    `)}if(r&2){let e=l();a(),d(e.isLanguageSupported?1:-1),a(7),p("headerHeight",50)("columnMode","force")("rowHeight","auto")("rows",e.envVars),a(2),p("name","Key")("maxWidth",200),a(5),p("name","Value"),a(5),p("maxWidth",150),a(8),p("icon",e.faPlus),a(20),j("min",e.timeoutMinValue),j("max",e.timeoutMaxValue),j("value",e.timeoutDefaultValue),p("ngModel",e.timeout()),a(7),ge("",e.timeout()," s"),a(13),p("value",e.cpuCount),a(12),p("value",e.memory),a(12),p("value",e.memorySwap)}}var Vn=[F.EMPTY],Pe=(()=>{class r{profileService=T(xe);programmingExercise=w();dockerImage=w.required();dockerImageChange=le();timeout=w();timeoutChange=le();envVars=[];isNetworkDisabled=!1;cpuCount;memory;memorySwap;dockerFlags={};isAeolus=w.required();dockerImageField=X("dockerImageField");timeoutField=X("timeoutField");timeoutMinValue;timeoutMaxValue;timeoutDefaultValue;isLanguageSupported=!1;faPlus=ue;faTrash=Oe;constructor(){z(()=>{this.setIsLanguageSupported()})}ngOnInit(){this.profileService.getProfileInfo().subscribe(e=>{e&&(this.timeoutMinValue=e.buildTimeoutMin??10,this.timeoutMaxValue=e.buildTimeoutMax&&e.buildTimeoutMax>this.timeoutMinValue?e.buildTimeoutMax:240,this.timeoutDefaultValue=120,e.buildTimeoutDefault&&e.buildTimeoutDefault>=this.timeoutMinValue&&e.buildTimeoutDefault<=this.timeoutMaxValue&&(this.timeoutDefaultValue=e.buildTimeoutDefault),this.timeout||this.timeoutChange.emit(this.timeoutDefaultValue),this.cpuCount||(this.cpuCount=e.defaultContainerCpuCount),this.memory||(this.memory=e.defaultContainerMemoryLimitInMB),this.memorySwap||(this.memorySwap=e.defaultContainerMemorySwapLimitInMB))}),this.programmingExercise()?.buildConfig?.dockerFlags&&this.initDockerFlags()}initDockerFlags(){if(this.dockerFlags=JSON.parse(this.programmingExercise()?.buildConfig?.dockerFlags??""),this.isNetworkDisabled=this.dockerFlags.network==="none",this.dockerFlags.cpuCount&&(this.cpuCount=this.dockerFlags.cpuCount),this.dockerFlags.memory&&(this.memory=this.dockerFlags.memory),this.dockerFlags.memorySwap&&(this.memorySwap=this.dockerFlags.memorySwap),this.envVars=[],this.dockerFlags.env)for(let e in this.dockerFlags.env)this.envVars.push([e,this.dockerFlags.env?.[e]??""])}onDisableNetworkAccessChange(e){this.isNetworkDisabled=e.target.checked,this.parseDockerFlagsToString()}onCpuCountChange(e){this.cpuCount=e.target.value,this.parseDockerFlagsToString()}onMemoryChange(e){this.memory=e.target.value,this.parseDockerFlagsToString()}onMemorySwapChange(e){this.memorySwap=e.target.value,this.parseDockerFlagsToString()}onEnvVarsKeyChange(e){return n=>(e[0]=n,this.parseDockerFlagsToString(),e[0])}onEnvVarsValueChange(e){return n=>(e[1]=n,this.parseDockerFlagsToString(),e[1])}addEnvVar(){this.envVars.push(["",""])}removeEnvVar(e){this.envVars.splice(e,1),this.parseDockerFlagsToString()}parseDockerFlagsToString(){let e={};this.envVars.forEach(([n,t])=>{n.trim()&&(e[n]=t)}),this.dockerFlags={network:this.isNetworkDisabled?"none":void 0,env:e,cpuCount:this.cpuCount,memory:this.memory,memorySwap:this.memorySwap},this.programmingExercise().buildConfig.dockerFlags=JSON.stringify(this.dockerFlags)}setIsLanguageSupported(){this.isLanguageSupported=!Vn.includes(this.programmingExercise()?.programmingLanguage||F.EMPTY)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-build-configuration"]],viewQuery:function(n,t){n&1&&(J(t.dockerImageField,vn,5),J(t.timeoutField,Tn,5)),n&2&&pe(2)},inputs:{programmingExercise:[1,"programmingExercise"],dockerImage:[1,"dockerImage"],timeout:[1,"timeout"],isAeolus:[1,"isAeolus"]},outputs:{dockerImageChange:"dockerImageChange",timeoutChange:"timeoutChange"},decls:17,vars:2,consts:[["dockerImageField","ngModel"],["timeoutField","ngModel"],[1,"mb-2"],["jhiTranslate","artemisApp.programmingExercise.dockerImage"],["placement","auto","text","artemisApp.programmingExercise.customizeDockerImage"],["required","","type","text","name","dockerImage","id","field_dockerImage",1,"form-control",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.programmingExercise.dockerFlags.envVars.title"],["placement","auto","text","artemisApp.programmingExercise.dockerFlags.envVars.description"],["id","envVarsTable","trackByProp","id",1,"bootstrap",3,"headerHeight","columnMode","rowHeight","rows"],[3,"name","maxWidth"],["ngx-datatable-cell-template",""],[3,"name"],[3,"maxWidth"],[1,"btn","btn-sm","btn-primary","mb-2",3,"click"],[3,"icon"],["jhiTranslate","artemisApp.programmingExercise.dockerFlags.envVars.addEnvVar"],[1,"d-flex","align-items-center","justify-content-start","gap-4","mb-2"],["jhiTranslate","artemisApp.programmingExercise.timeout.title"],["placement","auto","text","artemisApp.programmingExercise.timeout.customize"],[1,"w-50"],["type","range","step","1","id","field_timeout",1,"w-100","mt-1",3,"ngModelChange","min","max","value","ngModel"],[1,"slider-label"],[1,"slider-value"],["jhiTranslate","artemisApp.programmingExercise.dockerFlags.cpuCount.label"],["placement","auto","text","artemisApp.programmingExercise.dockerFlags.cpuCount.help"],["type","text","name","cpuCount","id","field_dockerCpuCount",1,"form-control",3,"input","value"],["jhiTranslate","artemisApp.programmingExercise.dockerFlags.memory.label"],["placement","auto","text","artemisApp.programmingExercise.dockerFlags.memory.help"],["type","text","name","memory","id","field_memory",1,"form-control",3,"input","value"],["jhiTranslate","artemisApp.programmingExercise.dockerFlags.memorySwap.label"],["placement","auto","text","artemisApp.programmingExercise.dockerFlags.memorySwap.help"],["type","text","name","memorySwap","id","field_memorySwap",1,"form-control",3,"input","value"],[1,"form-check","mb-2"],["for","field_disableNetworkAccess",1,"form-check-label"],["type","checkbox","name","disableNetworkAccess","id","field_disableNetworkAccess",1,"form-check-input",3,"change","checked"],["jhiTranslate","artemisApp.programmingExercise.dockerFlags.disableNetworkAccess.title"],["placement","auto","text","artemisApp.programmingExercise.dockerFlags.disableNetworkAccess.description"],["role","alert",1,"warning","alert-warning","mb-2"],["jhiTranslate","artemisApp.programmingExercise.dockerFlags.disableNetworkAccess.warning"],[3,"id","value","onValueUpdate","isRequired"],[1,"btn","btn-sm","btn-danger",3,"click"],["jhiTranslate","artemisApp.programmingExercise.dockerFlags.envVars.removeEnvVar"]],template:function(n,t){if(n&1){let o=C();s(0,"div",2),i(1,`
    `),s(2,"div",2),i(3,`
        `),s(4,"label"),i(5,`
            `),c(6,"span",3),i(7,`
        `),m(),i(8,`
        `),c(9,"jhi-help-icon",4),i(10,`
        `),s(11,"input",5,0),f("ngModelChange",function(I){return u(o),x(t.dockerImageChange.emit(I))}),m(),i(13,`
    `),m(),i(14,`
    `),h(15,Rn,95,18),m(),i(16,`
`)}n&2&&(a(11),p("ngModel",t.dockerImage()),a(4),d(t.isAeolus()?-1:15))},dependencies:[V,O,N,K,ki,L,W,D,ze,Qe,Ge,Ue,we,me],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var Fn=["editor"],Nn=r=>({active:r});function Ln(r,g){if(r&1){let e=C();i(0,`
                `),s(1,"jhi-programming-exercise-build-configuration",11),f("dockerImageChange",function(t){u(e);let o=l(2);return x(o.setDockerImage(t))}),m(),i(2,`
            `)}if(r&2){let e=l(2);a(),p("dockerImage",e.programmingExercise.buildConfig.windfile.metadata.docker.image)("isAeolus",!0)}}function Dn(r,g){if(r&1){let e=C();i(0,`
                            `),s(1,"div",12),f("click",function(){let t=u(e).$implicit,o=l(2);return x(o.changeActiveAction(t.name))}),i(2,`
                                `),s(3,"div",13),i(4,`
                                    `),s(5,"p",14),i(6),m(),i(7,`
                                    `),s(8,"div"),i(9,`
                                        `),s(10,"button",15),f("click",function(){let t=u(e).$implicit,o=l(2);return x(o.deleteAction(t.name))}),m(),i(11,`
                                    `),m(),i(12,`
                                `),m(),i(13,`
                            `),m(),i(14,`
                        `)}if(r&2){let e=g.$implicit,n=l(2);a(),p("ngClass",Re(2,Nn,(n.active==null?null:n.active.name)===e.name)),a(5),Me(e.name)}}function On(r,g){if(r&1){let e=C();i(0,`
                                    `),s(1,"label",24),i(2,`
                                        `),s(3,"input",25),y("ngModelChange",function(t){u(e);let o=l(3);return _(o.active.runAlways,t)||(o.active.runAlways=t),x(t)}),m(),i(4,`
                                        `),c(5,"label",26),i(6,`
                                    `),m(),i(7,`
                                `)}if(r&2){let e=l(3);a(3),E("ngModel",e.active.runAlways)}}function jn(r,g){if(r&1){let e=C();i(0,`
                                `),s(1,"jhi-monaco-editor",27,0),f("textChanged",function(t){u(e);let o=l(3);return x(o.codeChanged(t))}),m(),i(3,`
                            `)}r&2&&(a(),p("stickyScroll",!1)("shrinkToFit",!1))}function Bn(r,g){if(r&1){let e=C();i(0,`
                `),s(1,"div",16),i(2,`
                    `),s(3,"div",17),i(4,`
                        `),s(5,"div",1),i(6,`
                            `),s(7,"input",18),y("ngModelChange",function(t){u(e);let o=l(2);return _(o.active.name,t)||(o.active.name=t),x(t)}),m(),i(8,`
                            `),s(9,"input",19),k(10,"artemisTranslate"),y("ngModelChange",function(t){u(e);let o=l(2);return _(o.active.workdir,t)||(o.active.workdir=t),x(t)}),m(),i(11,`
                            `),s(12,"div",20),i(13,`
                                `),h(14,On,8,1),m(),i(15,`
                        `),m(),i(16,`
                    `),m(),i(17,`
                    `),c(18,"label",21),i(19,`
                    `),s(20,"div",22),i(21,`
                        `),s(22,"div",23),i(23,`
                            `),h(24,jn,4,2),m(),i(25,`
                    `),m(),i(26,`
                `),m(),i(27,`
            `)}if(r&2){let e=l(2);a(7),E("ngModel",e.active.name),a(2),p("placeholder",R(10,7,"artemisApp.programmingExercise.workdir")),E("ngModel",e.active.workdir),a(5),d(e.active?14:-1),a(6),ke("height",40,"vh"),a(4),d(e.isScriptAction?24:-1)}}function Wn(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",6),i(2,`
            `),h(3,Ln,3,2),s(4,"div",7),i(5,`
                `),s(6,"div",8),i(7,`
                    `),s(8,"div",9),i(9,`
                        `),G(10,Dn,15,4,null,null,Y),m(),i(12,`
                    `),s(13,"div"),i(14,`
                        `),s(15,"button",10),f("click",function(){u(e);let t=l();return x(t.addAction("new action"))}),i(16,"Add Action"),m(),i(17,`
                    `),m(),i(18,`
                `),m(),i(19,`
            `),m(),i(20,`
            `),h(21,Bn,28,9),m(),i(22,`
    `)}if(r&2){let e=l();a(3),d(e.programmingExercise.buildConfig!=null&&e.programmingExercise.buildConfig.windfile&&(!(e.programmingExercise.buildConfig==null||e.programmingExercise.buildConfig.windfile==null)&&e.programmingExercise.buildConfig.windfile.metadata)&&(!(e.programmingExercise.buildConfig==null||e.programmingExercise.buildConfig.windfile==null||e.programmingExercise.buildConfig.windfile.metadata==null)&&e.programmingExercise.buildConfig.windfile.metadata.docker)?3:-1),a(7),Q(e.programmingExercise.buildConfig==null||e.programmingExercise.buildConfig.windfile==null?null:e.programmingExercise.buildConfig.windfile.actions),a(11),d(e.active?21:-1)}}var pi=(()=>{class r{aeolusService=T(ye);programmingExercise;programmingExerciseCreationConfig;programmingExerciseDockerImageComponent;programmingLanguage;projectType;staticCodeAnalysisEnabled;sequentialTestRuns;code=`#!/bin/bash

# Add your custom build plan action here`;active=void 0;isScriptAction=!1;_editor;set editor(e){this._editor=e,this._editor&&(this.setupEditor(),this._editor.setText(this.code))}ngOnChanges(e){if((e.programmingExerciseCreationConfig||e.programmingExercise)&&this.shouldReloadTemplate()){let n=e.programmingExerciseCreationConfig?.currentValue?.isImportFromFile??!1;this.loadAeolusTemplate(n)}}shouldReloadTemplate(){return this.programmingExercise.programmingLanguage!==this.programmingLanguage||this.programmingExercise.projectType!==this.projectType||this.programmingExercise.staticCodeAnalysisEnabled!==this.staticCodeAnalysisEnabled||this.programmingExercise.buildConfig?.sequentialTestRuns!==this.sequentialTestRuns}resetCustomBuildPlan(){this.programmingExercise.buildConfig.windfile=void 0,this.programmingExercise.buildConfig.buildPlanConfiguration=void 0}loadAeolusTemplate(e=!1){if(this.programmingExercise?.id||e){!this.programmingExerciseCreationConfig.buildPlanLoaded&&!this.programmingExercise.buildConfig?.windfile&&(this.programmingExercise.buildConfig?.buildPlanConfiguration&&(this.programmingExercise.buildConfig.windfile=this.aeolusService.parseWindFile(this.programmingExercise.buildConfig?.buildPlanConfiguration)),this.programmingExerciseCreationConfig.buildPlanLoaded=!0);return}this.resetCustomBuildPlan(),this.programmingExercise.programmingLanguage&&(this.programmingLanguage=this.programmingExercise.programmingLanguage,this.projectType=this.programmingExercise.projectType,this.staticCodeAnalysisEnabled=this.programmingExercise.staticCodeAnalysisEnabled,this.sequentialTestRuns=this.programmingExercise.buildConfig?.sequentialTestRuns,(!e||!this.programmingExercise.buildConfig?.windfile)&&this.aeolusService.getAeolusTemplateFile(this.programmingLanguage,this.projectType,this.staticCodeAnalysisEnabled,this.sequentialTestRuns).subscribe({next:n=>{this.programmingExercise.buildConfig.windfile=this.aeolusService.parseWindFile(n)},error:()=>{this.programmingExercise.buildConfig.windfile=void 0}}),this.programmingExerciseCreationConfig.buildPlanLoaded=!0)}get editor(){return this._editor}faQuestionCircle=$;getActionScript(e){let n=this.programmingExercise.buildConfig?.windfile?.actions.find(t=>t.name===e);return n&&n instanceof Te?n.script:""}changeActiveAction(e){this.programmingExercise.buildConfig?.windfile&&(this.code=this.getActionScript(e),this.active=this.programmingExercise.buildConfig?.windfile.actions.find(n=>n.name===e),this.isScriptAction=this.active instanceof Te,this.isScriptAction&&this.editor&&this.editor.setText(this.code))}deleteAction(e){this.programmingExercise.buildConfig?.windfile&&(this.programmingExercise.buildConfig.windfile.actions=this.programmingExercise.buildConfig?.windfile.actions.filter(n=>n.name!==e),this.active?.name===e&&(this.active=void 0,this.code=""))}addAction(e){if(this.programmingExercise.buildConfig?.windfile){let n=new Te;n.script=`#!/bin/bash

# Add your custom build plan action here

exit 0`,n.name=e,n.runAlways=!1,this.programmingExercise.buildConfig?.windfile.actions.push(n),this.changeActiveAction(e)}}addParameter(){this.active&&(this.active.parameters||(this.active.parameters=new Map),this.active.parameters.set("newParameter"+this.active.parameters.size,"newValue"))}deleteParameter(e){this.active&&this.active.parameters&&this.active.parameters.delete(e)}codeChanged(e){this.active instanceof Te&&(this.active.script=e)}getParameterKeys(){return this.active&&this.active.parameters?Array.from(this.active.parameters.keys()):[]}getParameter(e){return this.active?.parameters?.get(e)??""}setupEditor(){this._editor&&this._editor.changeModel("build-script.sh","")}setDockerImage(e){!this.programmingExercise.buildConfig?.windfile||!this.programmingExercise.buildConfig?.windfile.metadata.docker||(this.programmingExercise.buildConfig.windfile.metadata.docker.image=e.trim())}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-custom-aeolus-build-plan"]],viewQuery:function(n,t){if(n&1&&(S(Pe,5),S(Fn,5)),n&2){let o;b(o=v())&&(t.programmingExerciseDockerImageComponent=o.first),b(o=v())&&(t.editor=o.first)}},inputs:{programmingExercise:"programmingExercise",programmingExerciseCreationConfig:"programmingExerciseCreationConfig"},features:[ne],decls:13,vars:2,consts:[["editor",""],[1,"form-group"],[1,"form-check","custom-checkbox"],["type","checkbox","name","customizeBuildPlan","id","field_customizeBuildPlan",1,"form-check-input",3,"ngModelChange","ngModel"],["for","field_customizeBuildPlan","jhiTranslate","artemisApp.programmingExercise.customizeBuildPlanWithAeolus",1,"form-check-label","custom-control-label"],["placement","auto","text","artemisApp.programmingExercise.customizeBuildPlansWithAeolusTooltip"],[1,"row","m-1"],[1,"col-3","col-md-3"],[1,"d-flex","flex-column","h-100","justify-content-between"],[1,"list-group"],["type","button",1,"btn","btn-primary",3,"click"],[3,"dockerImageChange","dockerImage","isAeolus"],[1,"list-group-item","mb-1",3,"click","ngClass"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-0"],["type","button","aria-label","Remove",1,"btn-close",3,"click"],[1,"card","p-0","col-9","col-md-9"],[1,"card-header"],["required","","type","text","name","actionName","id","field_actionName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","workdir","id","field_workdir",1,"form-control","mt-2",3,"ngModelChange","placeholder","ngModel"],[1,"form-check","mt-2"],["jhiTranslate","artemisApp.programmingExercise.script",1,"m-2"],[1,"card-text","d-flex","flex-column"],[1,"flex-grow-1","flex-shrink-1","mb-1","mh-100"],["for","field_alwaysrun",1,"form-check-label"],["type","checkbox","name","runAlways","id","field_alwaysrun",1,"form-check-input",3,"ngModelChange","ngModel"],["for","field_alwaysrun","jhiTranslate","artemisApp.programmingExercise.runActionAlways",1,"form-check-label","custom-control-label"],[3,"textChanged","stickyScroll","shrinkToFit"]],template:function(n,t){n&1&&(s(0,"div",1),i(1,`
    `),s(2,"div",2),i(3,`
        `),s(4,"input",3),y("ngModelChange",function(M){return _(t.programmingExercise.customizeBuildPlanWithAeolus,M)||(t.programmingExercise.customizeBuildPlanWithAeolus=M),M}),m(),i(5,`
        `),c(6,"label",4),i(7,`
        `),c(8,"jhi-help-icon",5),i(9,`
    `),m(),i(10,`
    `),h(11,Wn,23,2),m(),i(12,`
`)),n&2&&(a(4),E("ngModel",t.programmingExercise.customizeBuildPlanWithAeolus),a(7),d(t.programmingExercise.customizeBuildPlanWithAeolus?11:-1))},dependencies:[N,K,Z,L,W,D,V,O,Pe,Pi,Ke,ee],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var qn=["editor"];function Un(r,g){if(r&1){let e=C();i(0,`
                `),s(1,"jhi-programming-exercise-build-configuration",12),f("dockerImageChange",function(t){u(e);let o=l(2);return x(o.setDockerImage(t))})("timeoutChange",function(t){u(e);let o=l(2);return x(o.setTimeout(t))}),m(),i(2,`
            `)}if(r&2){let e=l(2);a(),p("programmingExercise",e.programmingExercise)("dockerImage",e.programmingExercise.buildConfig.windfile.metadata.docker.image)("timeout",e.programmingExercise.buildConfig.timeoutSeconds===0?120:e.programmingExercise.buildConfig.timeoutSeconds)("isAeolus",!1)}}function Gn(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",6),i(2,`
            `),h(3,Un,3,4),c(4,"label",7),i(5,`
            `),s(6,"div",8),i(7,`
                `),s(8,"div",9),i(9,`
                    `),s(10,"div",10),i(11,`
                        `),s(12,"jhi-monaco-editor",11,0),f("textChanged",function(t){u(e);let o=l();return x(o.codeChanged(t))}),m(),i(14,`
                    `),m(),i(15,`
                `),m(),i(16,`
            `),m(),i(17,`
        `),m(),i(18,`
    `)}if(r&2){let e=l();a(3),d(e.programmingExercise.buildConfig!=null&&e.programmingExercise.buildConfig.windfile&&(!(e.programmingExercise.buildConfig==null||e.programmingExercise.buildConfig.windfile==null)&&e.programmingExercise.buildConfig.windfile.metadata)&&(!(e.programmingExercise.buildConfig==null||e.programmingExercise.buildConfig.windfile==null||e.programmingExercise.buildConfig.windfile.metadata==null)&&e.programmingExercise.buildConfig.windfile.metadata.docker)?3:-1),a(5),ke("height",40,"vh"),a(4),p("stickyScroll",!1)("shrinkToFit",!1)}}var gi=(()=>{class r{aeolusService=T(ye);programmingExercise;programmingExerciseCreationConfig;programmingExerciseDockerImageComponent;programmingLanguage;projectType;staticCodeAnalysisEnabled;sequentialTestRuns;isImportFromFile=!1;code=`#!/bin/bash

# Add your custom build plan action here`;_editor;set editor(e){this._editor=e,this._editor&&(this.setupEditor(),(this.programmingExercise.id||this.isImportFromFile)&&(this.code=this.programmingExercise.buildConfig?.buildScript||""),this._editor.setText(this.code))}ngOnChanges(e){if((e.programmingExerciseCreationConfig||e.programmingExercise)&&this.shouldReloadTemplate()){let n=e.programmingExerciseCreationConfig?.currentValue?.isImportFromFile??!1;this.loadAeolusTemplate(n)}}shouldReloadTemplate(){return!this.programmingExercise.id&&(this.programmingExercise.programmingLanguage!==this.programmingLanguage||this.programmingExercise.projectType!==this.projectType||this.programmingExercise.staticCodeAnalysisEnabled!==this.staticCodeAnalysisEnabled||this.programmingExercise.buildConfig.sequentialTestRuns!==this.sequentialTestRuns)}resetCustomBuildPlan(){this.programmingExercise.buildConfig.windfile=void 0,this.programmingExercise.buildConfig.buildPlanConfiguration=void 0,this.programmingExercise.buildConfig.buildScript=void 0}loadAeolusTemplate(e=!1){this.programmingExercise.programmingLanguage&&(this.programmingLanguage=this.programmingExercise.programmingLanguage,this.projectType=this.programmingExercise.projectType,this.staticCodeAnalysisEnabled=this.programmingExercise.staticCodeAnalysisEnabled,this.sequentialTestRuns=this.programmingExercise.buildConfig?.sequentialTestRuns,this.isImportFromFile=e,(!e||!this.programmingExercise.buildConfig?.windfile)&&this.aeolusService.getAeolusTemplateFile(this.programmingLanguage,this.projectType,this.staticCodeAnalysisEnabled,this.sequentialTestRuns).subscribe({next:n=>{this.programmingExercise.buildConfig.windfile=this.aeolusService.parseWindFile(n)},error:()=>{this.programmingExercise.buildConfig.windfile=void 0}}),this.programmingExerciseCreationConfig.buildPlanLoaded=!0,this.programmingExercise.buildConfig?.windfile||this.resetCustomBuildPlan(),(!e||!this.programmingExercise.buildConfig?.buildScript)&&this.aeolusService.getAeolusTemplateScript(this.programmingLanguage,this.projectType,this.staticCodeAnalysisEnabled,this.sequentialTestRuns).subscribe({next:n=>{n=this.replacePlaceholders(n),this.codeChanged(n),this.editor?.setText(n)},error:()=>{this.programmingExercise.buildConfig.buildScript=void 0}}),this.programmingExercise.buildConfig?.buildScript||this.resetCustomBuildPlan(),this.programmingExercise.buildConfig?.timeoutSeconds||(this.programmingExercise.buildConfig.timeoutSeconds=0))}get editor(){return this._editor}faQuestionCircle=$;codeChanged(e){this.code=e,this.editor?.setText(e),this.programmingExercise.buildConfig.buildScript=e}setupEditor(){this._editor&&this._editor.changeModel("build-plan.sh","")}setDockerImage(e){!this.programmingExercise.buildConfig?.windfile||!this.programmingExercise.buildConfig?.windfile.metadata.docker||(this.programmingExercise.buildConfig.windfile.metadata.docker.image=e.trim())}setTimeout(e){this.programmingExercise.buildConfig.timeoutSeconds=e}replacePlaceholders(e){let n=this.programmingExercise.buildConfig?.assignmentCheckoutPath||Gi,t=this.programmingExercise.buildConfig?.testCheckoutPath||Qi;return e=e.replaceAll("${studentParentWorkingDirectoryName}",n),e=e.replaceAll("${testWorkingDirectory}",t),e}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-custom-build-plan"]],viewQuery:function(n,t){if(n&1&&(S(Pe,5),S(qn,5)),n&2){let o;b(o=v())&&(t.programmingExerciseDockerImageComponent=o.first),b(o=v())&&(t.editor=o.first)}},inputs:{programmingExercise:"programmingExercise",programmingExerciseCreationConfig:"programmingExerciseCreationConfig"},features:[ne],decls:13,vars:2,consts:[["editor",""],[1,"form-group"],[1,"form-check","custom-checkbox"],["type","checkbox","name","customizeBuildPlan","id","field_customizeBuildPlan",1,"form-check-input",3,"ngModelChange","ngModel"],["for","field_customizeBuildPlan","jhiTranslate","artemisApp.programmingExercise.customizeBuildPlan",1,"form-check-label","custom-control-label"],["placement","auto","text","artemisApp.programmingExercise.customizeBuildPlansWithAeolusTooltip"],[1,"row","m-1"],["jhiTranslate","artemisApp.programmingExercise.script",1,"mb-2"],[1,"ms-1","p-0","card","col-12","col-md-12"],[1,"card-text","d-flex","flex-column"],[1,"mh-100","flex-shrink-1","flex-grow-1"],[3,"textChanged","stickyScroll","shrinkToFit"],[3,"dockerImageChange","timeoutChange","programmingExercise","dockerImage","timeout","isAeolus"]],template:function(n,t){n&1&&(s(0,"div",1),i(1,`
    `),s(2,"div",2),i(3,`
        `),s(4,"input",3),y("ngModelChange",function(M){return _(t.programmingExercise.customizeBuildPlanWithAeolus,M)||(t.programmingExercise.customizeBuildPlanWithAeolus=M),M}),m(),i(5,`
        `),c(6,"label",4),i(7,`
        `),c(8,"jhi-help-icon",5),i(9,`
    `),m(),i(10,`
    `),h(11,Gn,19,5),m(),i(12,`
`)),n&2&&(a(4),E("ngModel",t.programmingExercise.customizeBuildPlanWithAeolus),a(7),d(t.programmingExercise.customizeBuildPlanWithAeolus?11:-1))},dependencies:[N,Z,L,D,V,O,Pe,Ke],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var Pt=(()=>{class r{http=T(Si);resourceUrl="api/programming/theia";getTheiaImages(e){return this.http.get(`${this.resourceUrl}/images`,{params:{language:e}})}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Ci({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Qn(r,g){if(r&1&&(i(0,`
            `),s(1,"option",3),i(2),m(),i(3,`
        `)),r&2){let e=g.$implicit;a(),p("value",e.value),a(),ge(`
                `,e.key,`
            `)}}function zn(r,g){r&1&&(i(0,`
            `),s(1,"option",4),i(2,`
                `),c(3,"div",5),i(4,`
            `),m(),i(5,`
        `)),r&2&&(a(),p("value",void 0))}var di=(()=>{class r{theiaService=T(Pt);programmingExercise;programmingExerciseCreationConfig;programmingLanguage;theiaImages={};ngOnChanges(e){(e.programmingExerciseCreationConfig||e.programmingExercise)&&this.shouldReloadTemplate()&&this.loadTheiaImages()}onTheiaImageChange(e){this.programmingExercise.buildConfig&&(this.programmingExercise.buildConfig.theiaImage=e)}shouldReloadTemplate(){return this.programmingExercise.programmingLanguage!==this.programmingLanguage}resetImageSelection(){this.programmingExercise.buildConfig&&(this.programmingExercise.buildConfig.theiaImage=void 0)}loadTheiaImages(){!this.programmingExercise||!this.programmingExercise.programmingLanguage||(this.programmingLanguage=this.programmingExercise.programmingLanguage,this.theiaService.getTheiaImages(this.programmingLanguage).subscribe({next:e=>{if(!e){this.theiaImages={},this.resetImageSelection();return}this.theiaImages=e,this.programmingExercise&&this.programmingExercise.buildConfig&&!this.programmingExercise.buildConfig.theiaImage&&Object.values(e).length>0&&(this.programmingExercise.buildConfig.theiaImage=Object.values(e).first())},error:()=>{this.theiaImages={},this.resetImageSelection()}}))}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-theia"]],inputs:{programmingExercise:"programmingExercise",programmingExerciseCreationConfig:"programmingExerciseCreationConfig"},features:[ne],decls:11,vars:4,consts:[["select","ngModel"],[1,"form-group"],["required","","name","theiaImage","id","field_theiaImage",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["disabled","",3,"value"],["jhiTranslate","artemisApp.programmingExercise.theiaImage.noImageAvailable"]],template:function(n,t){if(n&1){let o=C();s(0,"div",1),i(1,`
    `),s(2,"select",2,0),f("ngModelChange",function(I){return u(o),x(t.onTheiaImageChange(I))}),i(4,`
        `),G(5,Qn,4,2,null,null,Y,!1,zn,6,1),k(8,"keyvalue"),m(),i(9,`
`),m(),i(10,`
`)}n&2&&(a(2),p("ngModel",t.programmingExercise.buildConfig==null?null:t.programmingExercise.buildConfig.theiaImage),a(3),Q(R(8,2,t.theiaImages)))},dependencies:[N,Fe,Ne,Ve,L,W,D,oe,V],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var Kn=["select"],Hn=["packageName"],Xn=r=>({documentationLink:r}),Yn=()=>({resultsDirectory:"./results/"}),Jn=()=>({checkoutDirectory:"./assignment/"}),Zn=()=>({checkoutDirectory:"./"}),St=()=>["required"];function $n(r,g){if(r&1&&(i(0,`
                    `),c(1,"option",8),i(2,`
                `)),r&2){let e=g.$implicit;a(),p("value",e)("jhiTranslate","artemisApp.ProgrammingLanguage."+e)}}function er(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",5),i(2,`
            `),c(3,"label",6),i(4,`
            `),s(5,"select",7,0),f("ngModelChange",function(t){u(e);let o=B(6),M=l();return x(o.model=M.programmingExerciseCreationConfig.onProgrammingLanguageChange(t))}),i(7,`
                `),G(8,$n,3,2,null,null,Y),m(),i(10,`
        `),m(),i(11,`
    `)}if(r&2){let e=l();a(5),p("ngModel",e.programmingExerciseCreationConfig.selectedProgrammingLanguage)("disabled",e.programmingExerciseCreationConfig.isImportFromExistingExercise||!!e.programmingExercise.id||e.programmingExerciseCreationConfig.isImportFromFile),a(3),Q(e.programmingExerciseCreationConfig.supportedLanguages)}}function ir(r,g){if(r&1){let e=C();i(0,`
                `),s(1,"label",10),i(2," "),m(),i(3,`
                `),s(4,"jhi-mode-picker",11),f("valueChange",function(t){u(e);let o=l(2);return x(o.programmingExerciseCreationConfig.onProjectTypeChange(t))}),m(),i(5,`
            `)}if(r&2){let e=l(2);a(4),p("options",e.programmingExerciseCreationConfig.modePickerOptions)("value",e.programmingExerciseCreationConfig.selectedProjectType)("disabled",e.programmingExerciseCreationConfig.isImportFromExistingExercise||e.programmingExerciseCreationConfig.isImportFromFile||!!e.programmingExercise.id)}}function tr(r,g){if(r&1){let e=C();i(0,`
                `),s(1,"div",12),i(2,`
                    `),s(3,"input",13),y("ngModelChange",function(t){u(e);let o=l(2);return _(o.programmingExerciseCreationConfig.withDependencies,t)||(o.programmingExerciseCreationConfig.withDependencies=t),x(t)}),f("ngModelChange",function(t){u(e);let o=l(2);return x(o.programmingExerciseCreationConfig.onWithDependenciesChanged(t))}),m(),i(4,`
                    `),c(5,"span",14),i(6,`
                    `),c(7,"jhi-help-icon",15),i(8,`
                `),m(),i(9,`
            `)}if(r&2){let e=l(2);a(3),E("ngModel",e.programmingExerciseCreationConfig.withDependencies)}}function nr(r,g){if(r&1&&(i(0,`
        `),s(1,"div",9),i(2,`
            `),h(3,ir,6,3)(4,tr,10,1),m(),i(5,`
    `)),r&2){let e=l();a(3),d(e.isEditFieldDisplayedRecord().projectType?3:-1),a(),d(e.isEditFieldDisplayedRecord().withExemplaryDependency&&!e.programmingExerciseCreationConfig.isImportFromExistingExercise&&!e.programmingExerciseCreationConfig.isImportFromFile&&!e.programmingExercise.id&&e.programmingExercise.programmingLanguage===e.ProgrammingLanguage.JAVA&&e.programmingExercise.projectType!==e.ProjectType.MAVEN_BLACKBOX?4:-1)}}function rr(r,g){if(r&1&&(i(0,`
            `),s(1,"div"),i(2,`
                `),s(3,"p"),i(4,`
                    `),c(5,"fa-icon",16),i(6,`
                    `),c(7,"span",17),i(8,`
                `),m(),i(9,`
                `),s(10,"ol"),i(11,`
                    `),c(12,"li",18),i(13,`
                    `),s(14,"li"),i(15,`
                        `),c(16,"p",19),i(17,`
                        `),s(18,"ol"),i(19,`
                            `),c(20,"li",20),i(21,`
                            `),c(22,"li",21),i(23,`
                            `),c(24,"li",22),i(25,`
                        `),m(),i(26,`
                    `),m(),i(27,`
                    `),c(28,"li",23),i(29,`
                    `),c(30,"li",24),i(31,`
                    `),c(32,"li",25),i(33,`
                `),m(),i(34,`
            `),m(),i(35,`
        `)),r&2){let e=l(2);a(5),p("icon",e.faExclamationTriangle),a(2),p("translateValues",Re(6,Xn,e.DOCUMENTATION_LINK)),a(5),p("translateValues",e.DOCKER_REGISTRY_LINKS),a(12),p("translateValues",re(8,Yn)),a(4),p("translateValues",re(9,Jn)),a(4),p("translateValues",re(10,Zn))}}function or(r,g){if(r&1&&(i(0,`
                                `),c(1,"div",29),i(2,`
                            `)),r&2){let e=l(2).$implicit,n=l(3);a(),p("jhiTranslate","artemisApp.exercise.form.packageName."+e.key+"."+n.programmingExercise.programmingLanguage+"_BLACKBOX")}}function ar(r,g){if(r&1&&(i(0,`
                                `),c(1,"div",29),i(2,`
                            `)),r&2){let e=l(2).$implicit,n=l(3);a(),p("jhiTranslate","artemisApp.exercise.form.packageName."+e.key+"."+n.programmingExercise.programmingLanguage)}}function sr(r,g){if(r&1&&(i(0,`
                        `),s(1,"div",28),i(2,`
                            `),h(3,or,3,1)(4,ar,3,1),m(),i(5,`
                    `)),r&2){let e=l(4);a(3),d(e.programmingExercise.projectType===e.ProjectType.MAVEN_BLACKBOX?3:-1),a(),d(e.programmingExercise.projectType!==e.ProjectType.MAVEN_BLACKBOX?4:-1)}}function mr(r,g){if(r&1&&(i(0,`
                    `),h(1,sr,6,2)),r&2){l();let e=B(6);a(),d(e.invalid&&(e.dirty||e.touched)?1:-1)}}function lr(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",5),i(2,`
                `),c(3,"label",26),i(4,`
                `),s(5,"input",27,1),y("ngModelChange",function(t){u(e);let o=l(2);return _(o.programmingExercise.packageName,t)||(o.programmingExercise.packageName=t),x(t)}),m(),i(7,`
                `),G(8,mr,2,1,null,null,Y),k(10,"keyvalue"),k(11,"removekeys"),m(),i(12,`
        `)}if(r&2){let e=B(6),n=l(2);a(5),p("pattern",n.programmingExerciseCreationConfig.packageNamePattern),E("ngModel",n.programmingExercise.packageName),p("readonly",n.programmingExercise.id)("disabled",n.programmingExerciseCreationConfig.isImportFromExistingExercise||!!n.programmingExercise.id||n.programmingExerciseCreationConfig.isImportFromFile),a(3),Q(Se(11,6,R(10,4,e.errors),re(9,St)))}}function cr(r,g){if(r&1&&(i(0,`
                        `),s(1,"div",28),i(2,`
                            `),c(3,"div",29),i(4,`
                        `),m(),i(5,`
                    `)),r&2){let e=l().$implicit,n=l(3);a(3),p("jhiTranslate","artemisApp.exercise.form.packageName."+e.key+"."+n.programmingExercise.programmingLanguage)}}function pr(r,g){if(r&1&&(i(0,`
                    `),h(1,cr,6,1)),r&2){l();let e=B(6);a(),d(e.invalid&&(e.dirty||e.touched)?1:-1)}}function gr(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",5),i(2,`
                `),c(3,"label",30),i(4,`
                `),s(5,"input",31,1),y("ngModelChange",function(t){u(e);let o=l(2);return _(o.programmingExercise.packageName,t)||(o.programmingExercise.packageName=t),x(t)}),m(),i(7,`
                `),G(8,pr,2,1,null,null,Y),k(10,"keyvalue"),k(11,"removekeys"),m(),i(12,`
        `)}if(r&2){let e=B(6),n=l(2);a(5),p("pattern",n.APP_NAME_PATTERN_FOR_SWIFT),E("ngModel",n.programmingExercise.packageName),p("readonly",n.programmingExercise.id)("disabled",n.programmingExerciseCreationConfig.isImportFromExistingExercise||!!n.programmingExercise.id||n.programmingExerciseCreationConfig.isImportFromFile),a(3),Q(Se(11,6,R(10,4,e.errors),re(9,St)))}}function dr(r,g){if(r&1&&(i(0,`
        `),h(1,rr,36,11)(2,lr,13,10)(3,gr,13,10)),r&2){let e=l();a(),d(e.programmingExercise.programmingLanguage===e.ProgrammingLanguage.EMPTY?1:-1),a(),d(e.programmingExercise.programmingLanguage&&e.programmingExerciseCreationConfig.packageNameRequired&&e.programmingExercise.projectType!==e.ProjectType.XCODE?2:-1),a(),d(e.programmingExercise.programmingLanguage===e.ProgrammingLanguage.SWIFT&&e.programmingExercise.projectType===e.ProjectType.XCODE?3:-1)}}function ur(r,g){if(r&1&&(i(0,`
        `),c(1,"label",32),i(2,`
        `),c(3,"jhi-programming-exercise-theia",33),i(4,`
    `)),r&2){let e=l();a(3),p("programmingExercise",e.programmingExercise)("programmingExerciseCreationConfig",e.programmingExerciseCreationConfig)}}function xr(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div"),i(2,`
            `),s(3,"div",34),i(4,`
                `),s(5,"input",35),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.staticCodeAnalysisEnabled,t)||(o.programmingExercise.staticCodeAnalysisEnabled=t),x(t)}),f("change",function(){u(e);let t=l();return x(t.programmingExerciseCreationConfig.onStaticCodeAnalysisChanged())}),m(),i(6,`
                `),s(7,"label",36),i(8,`
                    Enable Static Code Analysis`),m(),i(9,`
                `),c(10,"jhi-help-icon",37),i(11,`
            `),m(),i(12,`
        `),m(),i(13,`
    `)}if(r&2){let e=l();a(5),p("disabled",!!(e.programmingExercise.buildConfig!=null&&e.programmingExercise.buildConfig.sequentialTestRuns)||!e.programmingExerciseCreationConfig.isImportFromExistingExercise&&!!e.programmingExercise.id),E("ngModel",e.programmingExercise.staticCodeAnalysisEnabled)}}function hr(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div"),i(2,`
            `),s(3,"div",34),i(4,`
                `),s(5,"input",38),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.buildConfig.sequentialTestRuns,t)||(o.programmingExercise.buildConfig.sequentialTestRuns=t),x(t)}),m(),i(6,`
                `),s(7,"label",39),i(8,`
                    >Sequential Test Runs`),m(),i(9,`
                `),c(10,"jhi-help-icon",40),i(11,`
            `),m(),i(12,`
        `),m(),i(13,`
    `)}if(r&2){let e=l();a(5),p("disabled",!!e.programmingExercise.id||!!e.programmingExercise.staticCodeAnalysisEnabled),E("ngModel",e.programmingExercise.buildConfig.sequentialTestRuns)}}function Cr(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",41),i(2,`
            `),s(3,"label",42),i(4,`
                `),s(5,"input",43,2),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.buildConfig.checkoutSolutionRepository,t)||(o.programmingExercise.buildConfig.checkoutSolutionRepository=t),x(t)}),m(),i(7,`
                `),c(8,"span",44),i(9,`
                `),c(10,"jhi-help-icon",45),i(11,`
            `),m(),i(12,`
        `),m(),i(13,`
    `)}if(r&2){let e=l();a(5),E("ngModel",e.programmingExercise.buildConfig.checkoutSolutionRepository)}}function fr(r,g){if(r&1&&(i(0,`
            `),c(1,"jhi-programming-exercise-custom-build-plan",33),i(2,`
        `)),r&2){let e=l(2);a(),p("programmingExercise",e.programmingExercise)("programmingExerciseCreationConfig",e.programmingExerciseCreationConfig)}}function Er(r,g){if(r&1&&(i(0,`
            `),c(1,"jhi-programming-exercise-custom-aeolus-build-plan",33),i(2,`
        `)),r&2){let e=l(2);a(),p("programmingExercise",e.programmingExercise)("programmingExerciseCreationConfig",e.programmingExerciseCreationConfig)}}function _r(r,g){if(r&1&&(i(0,`
        `),h(1,fr,3,2)(2,Er,3,2)),r&2){let e=l();a(),d(e.programmingExerciseCreationConfig.customBuildPlansSupported===e.PROFILE_LOCALCI?1:e.programmingExerciseCreationConfig.customBuildPlansSupported===e.PROFILE_AEOLUS?2:-1)}}var ui=(()=>{class r{ProgrammingLanguage=F;ProjectType=P;programmingExercise;programmingExerciseCreationConfig;isEditFieldDisplayedRecord=w.required();selectLanguageField;packageNameField;programmingExerciseCustomAeolusBuildPlanComponent;programmingExerciseCustomBuildPlanComponent;programmingExerciseTheiaComponent;formValid;formValidChanges=new H;fieldSubscriptions=[];faExclamationTriangle=Ri;PROFILE_LOCALCI=he;PROFILE_AEOLUS=Ce;DOCKER_REGISTRY_LINKS={ghcrLink:"https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry",dockerhubLink:"https://hub.docker.com/"};DOCUMENTATION_LINK="https://docs.artemis.cit.tum.de/user/exercises/programming.html";APP_NAME_PATTERN_FOR_SWIFT=ve;ngAfterViewInit(){this.fieldSubscriptions.push(this.selectLanguageField.valueChanges?.subscribe(()=>setTimeout(()=>this.calculateFormValid())))}ngAfterViewChecked(){this.packageNameField?.valueChanges?.observed||this.fieldSubscriptions.push(this.packageNameField?.valueChanges?.subscribe(()=>setTimeout(()=>this.calculateFormValid())));let e=this.programmingExerciseCustomBuildPlanComponent?.programmingExerciseDockerImageComponent?.dockerImageField()??this.programmingExerciseCustomAeolusBuildPlanComponent?.programmingExerciseDockerImageComponent?.dockerImageField();e?.valueChanges?.observed||this.fieldSubscriptions.push(e?.valueChanges?.subscribe(()=>this.calculateFormValid()));let n=this.programmingExerciseCustomBuildPlanComponent?.programmingExerciseDockerImageComponent?.timeoutField()??this.programmingExerciseCustomAeolusBuildPlanComponent?.programmingExerciseDockerImageComponent?.timeoutField();n?.valueChanges?.observed||this.fieldSubscriptions.push(n?.valueChanges?.subscribe(()=>this.calculateFormValid()))}ngOnDestroy(){for(let e of this.fieldSubscriptions)e?.unsubscribe()}calculateFormValid(){let e=this.isPackageNameValid(),n=this.isCustomBuildPlanValid();this.formValid=!!((this.selectLanguageField.isDisabled||this.selectLanguageField.valid)&&e&&n),this.formValidChanges.next(this.formValid)}isPackageNameValid(){return!!(!this.programmingExercise.programmingLanguage||!this.programmingExerciseCreationConfig.packageNameRequired||this.programmingExercise.projectType===P.XCODE||this.packageNameField?.isDisabled||this.packageNameField?.valid)}isCustomBuildPlanValid(){return this.programmingExercise.customizeBuildPlanWithAeolus?this.programmingExerciseCreationConfig.customBuildPlansSupported===he?(this.programmingExerciseCustomBuildPlanComponent?.programmingExerciseDockerImageComponent?.dockerImageField()?.valid??!1)&&(this.programmingExerciseCustomBuildPlanComponent?.programmingExerciseDockerImageComponent?.timeoutField()?.valid??!1):this.programmingExerciseCreationConfig.customBuildPlansSupported===Ce?(this.programmingExerciseCustomAeolusBuildPlanComponent?.programmingExerciseDockerImageComponent?.dockerImageField()?.valid??!1)&&(this.programmingExerciseCustomAeolusBuildPlanComponent?.programmingExerciseDockerImageComponent?.timeoutField()?.valid??!1):!0:!0}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-language"]],viewQuery:function(n,t){if(n&1&&(S(Kn,5),S(Hn,5),S(pi,5),S(gi,5),S(di,5)),n&2){let o;b(o=v())&&(t.selectLanguageField=o.first),b(o=v())&&(t.packageNameField=o.first),b(o=v())&&(t.programmingExerciseCustomAeolusBuildPlanComponent=o.first),b(o=v())&&(t.programmingExerciseCustomBuildPlanComponent=o.first),b(o=v())&&(t.programmingExerciseTheiaComponent=o.first)}},inputs:{programmingExercise:"programmingExercise",programmingExerciseCreationConfig:"programmingExerciseCreationConfig",isEditFieldDisplayedRecord:[1,"isEditFieldDisplayedRecord"]},decls:15,vars:8,consts:[["select","ngModel"],["packageName","ngModel"],["checkoutSolutionRepository","ngModel"],["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.languageStepTitle","id","artemisApp.programmingExercise.wizardMode.detailedSteps.languageStepTitle"],["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.languageStepMessage"],[1,"form-group"],["jhiTranslate","artemisApp.programmingExercise.programmingLanguage","for","field_programmingLanguage",1,"label-narrow"],["required","","name","programmingLanguage","id","field_programmingLanguage",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value","jhiTranslate"],[1,"form-group","mt-2"],["jhiTranslate","artemisApp.programmingExercise.projectType","for","field_projectType",1,"label-narrow"],["required","","name","projectType","id","field_projectType",3,"valueChange","options","value","disabled"],[1,"form-check","mt-2"],["type","checkbox","name","withDependencies","id","field_with_dependencies","checked","",1,"form-check-input",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.programmingExercise.withDependencies"],["placement","auto","text","artemisApp.programmingExercise.withDependenciesTooltip"],["size","xl",1,"text-warning",3,"icon"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.title",3,"translateValues"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.setImage",3,"translateValues"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.buildScript.title",1,"mb-0"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.buildScript.dependencies"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.buildScript.runTests"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.buildScript.moveResults",3,"translateValues"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.pushExercise",3,"translateValues"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.pushSolution"],["jhiTranslate","artemisApp.programmingExercise.otherLanguageHints.pushTest",3,"translateValues"],["jhiTranslate","artemisApp.programmingExercise.packageName","for","field_packageName",1,"label-narrow"],["required","","type","text","name","packageName","id","field_packageName",1,"form-control",3,"ngModelChange","pattern","ngModel","readonly","disabled"],[1,"alert","alert-danger"],[3,"jhiTranslate"],["jhiTranslate","artemisApp.programmingExercise.appName","for","field_packageName",1,"label-narrow"],["required","","type","text","name","packageName","id","field_appName",1,"form-control",3,"ngModelChange","pattern","ngModel","readonly","disabled"],["jhiTranslate","artemisApp.programmingExercise.theiaImage.title",1,"label-narrow"],[3,"programmingExercise","programmingExerciseCreationConfig"],[1,"form-check","custom-control","custom-checkbox"],["type","checkbox","id","field_staticCodeAnalysisEnabled","name","staticCodeAnalysisEnabled",1,"form-check-input","custom-control-input",3,"ngModelChange","change","disabled","ngModel"],["for","field_staticCodeAnalysisEnabled","jhiTranslate","artemisApp.programmingExercise.enableStaticCodeAnalysis.title",1,"form-check-label","custom-control-label"],["placement","auto","text","artemisApp.programmingExercise.enableStaticCodeAnalysis.description"],["type","checkbox","name","sequentialTestRuns","id","field_sequentialTestRuns","checked","",1,"form-check-input",3,"ngModelChange","disabled","ngModel"],["for","field_sequentialTestRuns","jhiTranslate","artemisApp.programmingExercise.sequentialTestRuns.title",1,"form-check-label","custom-control-label"],["placement","auto","text","artemisApp.programmingExercise.sequentialTestRuns.description"],[1,"form-check"],["for","field_checkoutSolutionRepository",1,"form-check-label"],["type","checkbox","name","checkoutSolutionRepository","id","field_checkoutSolutionRepository",1,"form-check-input",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.programmingExercise.checkoutSolutionRepository.title"],["placement","auto","text","artemisApp.programmingExercise.checkoutSolutionRepository.description"]],template:function(n,t){n&1&&(s(0,"section"),i(1,`
    `),c(2,"h3",3),i(3,`
    `),c(4,"p",4),i(5,`
    `),h(6,er,12,2)(7,nr,6,2)(8,dr,4,3)(9,ur,5,2)(10,xr,14,2)(11,hr,14,2)(12,Cr,14,1)(13,_r,3,1),m(),i(14,`
`)),n&2&&(a(6),d(t.isEditFieldDisplayedRecord().programmingLanguage?6:-1),a(),d(t.programmingExercise.programmingLanguage&&(t.programmingExerciseCreationConfig.projectTypes!=null&&t.programmingExerciseCreationConfig.projectTypes.length)&&t.programmingExerciseCreationConfig.modePickerOptions?7:-1),a(),d(t.isEditFieldDisplayedRecord().packageName?8:-1),a(),d(t.programmingExercise.allowOnlineIde&&t.programmingExercise.programmingLanguage?9:-1),a(),d(t.isEditFieldDisplayedRecord().enableStaticCodeAnalysis&&t.programmingExercise.programmingLanguage&&t.programmingExerciseCreationConfig.staticCodeAnalysisAllowed?10:-1),a(),d(t.isEditFieldDisplayedRecord().sequentialTestRuns&&t.programmingExerciseCreationConfig.sequentialTestRunsAllowed?11:-1),a(),d(!t.programmingExercise.id&&t.programmingExercise.programmingLanguage&&t.programmingExerciseCreationConfig.checkoutSolutionRepositoryAllowed?12:-1),a(),d(t.isEditFieldDisplayedRecord().customizeBuildScript?13:-1))},dependencies:[V,N,Fe,Ne,K,Z,Ve,L,W,ae,D,Ji,O,me,di,gi,pi,oe,He],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var yr=["maxScore"],Pr=["bonusPoints"],Sr=["maxPenalty"];function br(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",7),i(2,`
            `),c(3,"label",8),i(4,`
            `),s(5,"div"),i(6,`
                `),s(7,"jhi-included-in-overall-score-picker",9),y("includedInOverallScoreChange",function(t){u(e);let o=l();return _(o.programmingExercise.includedInOverallScore,t)||(o.programmingExercise.includedInOverallScore=t),x(t)}),m(),i(8,`
            `),m(),i(9,`
        `),m(),i(10,`
    `)}if(r&2){let e=l();a(3),_i("jhiTranslate","artemisApp.exercise.includedInOverallScore",e.programmingExercise.course?"Course":"Exam","Label"),a(4),E("includedInOverallScore",e.programmingExercise.includedInOverallScore),p("allowNotIncluded",!0)}}function vr(r,g){r&1&&(i(0,`
                        `),c(1,"div",13),i(2,`
                    `))}function Tr(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",10),i(2,`
                `),s(3,"div",7),i(4,`
                    `),c(5,"label",11),i(6,`
                    `),s(7,"input",12,0),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.maxPoints,t)||(o.programmingExercise.maxPoints=t),x(t)}),m(),i(9,`
                    `),h(10,vr,3,0),m(),i(11,`
            `),m(),i(12,`
        `)}if(r&2){let e=B(8),n=l();a(7),p("customMin",1)("customMax",9999),E("ngModel",n.programmingExercise.maxPoints),a(3),d(e!=null&&e.invalid&&(e!=null&&e.dirty||e!=null&&e.touched)&&(e!=null&&e.errors)?10:-1)}}function wr(r,g){if(r&1&&(i(0,`
                        `),c(1,"div",17),i(2,`
                    `)),r&2){let e=l(2);a(),p("hidden",e.programmingExercise.includedInOverallScore!==e.IncludedInOverallScore.INCLUDED_COMPLETELY)}}function Ar(r,g){if(r&1){let e=C();i(0,`
            `),s(1,"div",10),i(2,`
                `),s(3,"div",14),i(4,`
                    `),c(5,"label",15),i(6,`
                    `),s(7,"input",16,1),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.bonusPoints,t)||(o.programmingExercise.bonusPoints=t),x(t)}),m(),i(9,`
                    `),h(10,wr,3,1),m(),i(11,`
            `),m(),i(12,`
        `)}if(r&2){let e=B(8),n=l();a(3),p("hidden",n.programmingExercise.includedInOverallScore!==n.IncludedInOverallScore.INCLUDED_COMPLETELY),a(4),p("required",n.programmingExercise.includedInOverallScore===n.IncludedInOverallScore.INCLUDED_COMPLETELY)("customMin",0)("customMax",9999),E("ngModel",n.programmingExercise.bonusPoints),a(3),d(e!=null&&e.invalid&&(e!=null&&e.dirty||e!=null&&e.touched)&&(e!=null&&e.errors)?10:-1)}}function kr(r,g){if(r&1&&(i(0,`
                    `),s(1,"div",25),i(2,`
                        `),c(3,"div",26),i(4,`
                    `),m(),i(5,`
                `)),r&2){let e=l().$implicit;a(3),p("jhiTranslate","artemisApp.exercise.form.maxPenalty."+e.key)}}function Ir(r,g){if(r&1&&(i(0,`
                `),h(1,kr,6,1)),r&2){l();let e=B(18);a(),d(e.invalid&&(e.dirty||e.touched)?1:-1)}}function Mr(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",18),i(2,`
            `),s(3,"label",19),i(4,"Max Static Code Analysis Penalty"),m(),i(5,`
            `),c(6,"fa-icon",20),k(7,"artemisTranslate"),i(8,`
            `),s(9,"div",21),i(10,`
                `),s(11,"div",22),i(12,`
                    `),s(13,"span",23),i(14,"%"),m(),i(15,`
                `),m(),i(16,`
                `),s(17,"input",24,2),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.maxStaticCodeAnalysisPenalty,t)||(o.programmingExercise.maxStaticCodeAnalysisPenalty=t),x(t)}),m(),i(19,`
            `),m(),i(20,`
            `),G(21,Ir,2,1,null,null,Y),k(23,"keyvalue"),m(),i(24,`
    `)}if(r&2){let e=B(18),n=l();a(6),j("ngbTooltip",R(7,4,"artemisApp.programmingExercise.maxStaticCodeAnalysisPenalty.description")),p("icon",n.faQuestionCircle),a(11),p("pattern",n.programmingExerciseCreationConfig.maxPenaltyPattern),E("ngModel",n.programmingExercise.maxStaticCodeAnalysisPenalty),a(4),Q(R(23,6,e.errors))}}function Rr(r,g){if(r&1&&(i(0,`
                `),s(1,"ngb-alert",28),i(2,`
                    `),c(3,"span",29),i(4,`
                    `),s(5,"a",30),i(6,`
                        `),c(7,"span",31),i(8,`
                    `),m(),i(9,`
                `),m(),i(10,`
            `)),r&2){let e=l(2);a(),p("dismissible",!1)("type","info"),a(4),p("href",e.editPolicyUrl,fi)}}function Vr(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",7),i(2,`
            `),s(3,"jhi-submission-policy-update",27),f("submissionPolicyTypeChange",function(){u(e);let t=l();return x(t.calculateFormStatus())}),m(),i(4,`
            `),h(5,Rr,11,3),m(),i(6,`
    `)}if(r&2){let e=l();a(3),p("editable",!e.programmingExerciseCreationConfig.isEdit)("programmingExercise",e.programmingExercise),a(2),d(e.programmingExerciseCreationConfig.isEdit?5:-1)}}function Fr(r,g){if(r&1&&(i(0,`
        `),s(1,"div",7),i(2,`
            `),s(3,"div"),i(4,`
                `),c(5,"label",32),i(6,`
                `),c(7,"jhi-help-icon",33),i(8,`
            `),m(),i(9,`
            `),c(10,"jhi-programming-exercise-lifecycle",34),i(11,`
        `),m(),i(12,`
    `)),r&2){let e=l();a(10),p("exercise",e.programmingExercise)("isExamMode",e.programmingExerciseCreationConfig.isExamMode)("readOnly",!1)("importOptions",e.importOptions)("isEditFieldDisplayedRecord",e.isEditFieldDisplayedRecord())}}function Nr(r,g){if(r&1&&(i(0,`
        `),s(1,"div",7),i(2,`
            `),c(3,"label",35),i(4,`
            `),c(5,"jhi-grading-instructions-details",36),i(6,`
        `),m(),i(7,`
    `)),r&2){let e=l();a(5),p("exercise",e.programmingExercise)}}function Lr(r,g){if(r&1&&(i(0,`
        `),c(1,"jhi-presentation-score-checkbox",37),i(2,`
    `)),r&2){let e=l();a(),p("exercise",e.programmingExercise)}}function Dr(r,g){if(r&1&&(i(0,`
        `),s(1,"h6"),i(2),m(),i(3,`
    `)),r&2){let e=l();a(2),Me(e.getGradingSummary())}}var xi=(()=>{class r{translateService=T(De);IncludedInOverallScore=se;AssessmentType=be;faQuestionCircle=$;translationBasePath="artemisApp.programmingExercise.wizardMode.gradingLabels.";programmingExercise;programmingExerciseCreationConfig;importOptions;isEditFieldDisplayedRecord=w.required();submissionPolicyUpdateComponent;lifecycleComponent;maxScoreField;bonusPointsField;maxPenaltyField;formValidSignal=U(!1);formValid;formEmpty;formValidChanges=new H;inputFieldSubscriptions=[];editPolicyUrl;ngAfterContentInit(){this.inputFieldSubscriptions.push(this.maxScoreField?.valueChanges?.subscribe(()=>this.calculateFormStatus())),this.inputFieldSubscriptions.push(this.bonusPointsField?.valueChanges?.subscribe(()=>this.calculateFormStatus())),this.inputFieldSubscriptions.push(this.maxPenaltyField?.valueChanges?.subscribe(()=>this.calculateFormStatus())),this.inputFieldSubscriptions.push(this.submissionPolicyUpdateComponent?.form?.valueChanges?.subscribe(()=>this.calculateFormStatus())),this.inputFieldSubscriptions.push(this.lifecycleComponent?.formValidChanges?.subscribe(()=>this.calculateFormStatus())),this.setEditPolicyPageLink()}ngOnDestroy(){for(let e of this.inputFieldSubscriptions)e?.unsubscribe()}calculateFormStatus(){let e=!!(this.maxScoreField?.valid&&this.bonusPointsField?.valid&&(this.maxPenaltyField?.valid||!this.programmingExercise.staticCodeAnalysisEnabled)&&!this.submissionPolicyUpdateComponent?.invalid&&this.lifecycleComponent?.formValid);this.formValidSignal.set(e),this.formValid=e,this.formEmpty=this.lifecycleComponent?.formEmpty??!1,this.formValidChanges.next(this.formValid)}getGradingSummary(){let e=[];if(!this.programmingExercise.maxPoints)return"";let n=this.programmingExercise.includedInOverallScore===se.INCLUDED_AS_BONUS?"bonusExercise":"normalExercise",t=this.programmingExercise.assessmentType===be.AUTOMATIC?"assessmentAutomatic":"assessmentSemiautomatic",o={exerciseType:this.translateService.instant(this.translationBasePath+n),maxPoints:this.programmingExercise.maxPoints.toString(),bonusPoints:(this.programmingExercise.bonusPoints??0).toString(),assessmentType:this.translateService.instant(this.translationBasePath+t),submissionLimit:this.programmingExercise.submissionPolicy?.submissionLimit,exceedingPenalty:this.programmingExercise.submissionPolicy?.exceedingPenalty,maxPenalty:(this.programmingExercise.maxPoints*(this.programmingExercise.maxStaticCodeAnalysisPenalty??100)/100).toString()};return e.push(this.translateService.instant(this.translationBasePath+"points")),this.programmingExercise.includedInOverallScore===se.NOT_INCLUDED?e.push(this.translateService.instant(this.translationBasePath+"noBonus")):this.programmingExercise.includedInOverallScore===se.INCLUDED_COMPLETELY&&e.push(this.translateService.instant(this.translationBasePath+"bonus")),this.programmingExercise.assessmentType&&e.push(this.translateService.instant(this.translationBasePath+"assessment")),this.programmingExercise.submissionPolicy?.type===ce.LOCK_REPOSITORY?this.programmingExercise.submissionPolicy.submissionLimit&&e.push(this.translateService.instant(this.translationBasePath+"lockedSubmission")):this.programmingExercise.submissionPolicy?.type===ce.SUBMISSION_PENALTY?this.programmingExercise.submissionPolicy.submissionLimit&&this.programmingExercise.submissionPolicy.exceedingPenalty&&e.push(this.translateService.instant(this.translationBasePath+"penaltySubmission")):e.push(this.translateService.instant(this.translationBasePath+"unrestrictedSubmission")),this.programmingExercise.staticCodeAnalysisEnabled?e.push(this.translateService.instant(this.translationBasePath+"staticAnalysisEnabled")):e.push(this.translateService.instant(this.translationBasePath+"staticAnalysisDisabled")),e.map(M=>this.replacePlaceholders(M,o)).join(" ")}replacePlaceholders(e,n){return e.replace(/{(\w+)}/g,(t,o)=>this.replacePlaceholder(t,o,n))}replacePlaceholder(e,n,t){return Object.prototype.hasOwnProperty.call(t,n)?t[n]:e}setEditPolicyPageLink(){let e=["course-management",Ni(this.programmingExercise)?.id,...this.programmingExercise?.exerciseGroup?.exam?["exams",this.programmingExercise.exerciseGroup.exam.id]:[],"programming-exercises",this.programmingExercise.id,"grading","submission-policy"];this.editPolicyUrl=e.join("/")}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-grading"]],viewQuery:function(n,t){if(n&1&&(S(si,5),S(ri,5),S(yr,5),S(Pr,5),S(Sr,5)),n&2){let o;b(o=v())&&(t.submissionPolicyUpdateComponent=o.first),b(o=v())&&(t.lifecycleComponent=o.first),b(o=v())&&(t.maxScoreField=o.first),b(o=v())&&(t.bonusPointsField=o.first),b(o=v())&&(t.maxPenaltyField=o.first)}},inputs:{programmingExercise:"programmingExercise",programmingExerciseCreationConfig:"programmingExerciseCreationConfig",importOptions:"importOptions",isEditFieldDisplayedRecord:[1,"isEditFieldDisplayedRecord"]},decls:19,vars:9,consts:[["maxScore","ngModel"],["bonusPoints","ngModel"],["maxPenalty","ngModel"],[1,"mb-5"],["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.gradingStepTitle","id","artemisApp.programmingExercise.wizardMode.detailedSteps.gradingStepTitle"],["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.gradingStepMessage"],[1,"row"],[1,"form-group"],[1,"form-control-label",3,"jhiTranslate"],[3,"includedInOverallScoreChange","includedInOverallScore","allowNotIncluded"],[1,"col"],["jhiTranslate","artemisApp.exercise.points","for","field_points",1,"label-narrow"],["required","","type","number","name","points","id","field_points",1,"form-control",3,"ngModelChange","customMin","customMax","ngModel"],["jhiTranslate","artemisApp.exercise.pointsError",1,"alert","alert-danger"],[1,"form-group",3,"hidden"],["jhiTranslate","artemisApp.exercise.bonusPoints","for","field_bonusPoints",1,"label-narrow"],["type","number","name","bonusPoints","id","field_bonusPoints",1,"form-control",3,"ngModelChange","required","customMin","customMax","ngModel"],["jhiTranslate","artemisApp.exercise.bonusPointsError",1,"alert","alert-danger",3,"hidden"],[1,"mt-2","mb-4"],["jhiTranslate","artemisApp.programmingExercise.maxStaticCodeAnalysisPenalty.title","for","field_maxPenalty",1,"label-narrow"],["placement","auto",1,"text-secondary",3,"icon","ngbTooltip"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","name","maxPenalty","id","field_maxPenalty",1,"form-control",3,"ngModelChange","pattern","ngModel"],[1,"alert","alert-danger"],[3,"jhiTranslate"],[3,"submissionPolicyTypeChange","editable","programmingExercise"],[3,"dismissible","type"],["jhiTranslate","artemisApp.programmingExercise.submissionPolicy.editInGradingInformation"],[3,"href"],["jhiTranslate","artemisApp.programmingExercise.submissionPolicy.goToGradingToEditInformation"],["jhiTranslate","artemisApp.programmingExercise.timeline.timelineLabel","for","timeline"],["placement","auto","text","artemisApp.programmingExercise.timeline.timelineTooltip"],["id","timeline",3,"exercise","isExamMode","readOnly","importOptions","isEditFieldDisplayedRecord"],["jhiTranslate","artemisApp.exercise.assessmentInstructions","for","gradingInstructions",1,"form-control-label"],["id","gradingInstructions",3,"exercise"],[3,"exercise"]],template:function(n,t){n&1&&(s(0,"section",3),i(1,`
    `),c(2,"h3",4),i(3,`
    `),c(4,"p",5),i(5,`
    `),h(6,br,11,4),s(7,"div",6),i(8,`
        `),h(9,Tr,13,4)(10,Ar,13,6),m(),i(11,`
    `),h(12,Mr,25,8)(13,Vr,7,3)(14,Fr,13,5)(15,Nr,8,1)(16,Lr,3,1)(17,Dr,4,1),m(),i(18,`
`)),n&2&&(a(6),d(t.isEditFieldDisplayedRecord().includeExerciseInCourseScoreCalculation?6:-1),a(3),d(t.isEditFieldDisplayedRecord().points?9:-1),a(),d(t.isEditFieldDisplayedRecord().bonusPoints?10:-1),a(2),d(t.programmingExercise.staticCodeAnalysisEnabled?12:-1),a(),d(t.isEditFieldDisplayedRecord().submissionPolicy?13:-1),a(),d(t.isEditFieldDisplayedRecord().timeline?14:-1),a(),d(t.isEditFieldDisplayedRecord().assessmentInstructions&&t.programmingExercise.assessmentType===t.AssessmentType.SEMI_AUTOMATIC?15:-1),a(),d(t.isEditFieldDisplayedRecord().presentationScore?16:-1),a(),d(t.programmingExerciseCreationConfig.showSummary?17:-1))},dependencies:[V,lt,N,K,Ai,L,W,ae,D,at,st,me,Le,si,de,O,ri,pt,ct,oe,ee],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();var bt={title:!0,channelName:!1,shortName:!1,editRepositoriesCheckoutPath:!1,addAuxiliaryRepository:!1,categories:!0,difficulty:!0,participationMode:!1,allowOfflineIde:!1,allowOnlineCodeEditor:!1,allowOnlineIde:!1,programmingLanguage:!0,projectType:!1,withExemplaryDependency:!1,packageName:!0,enableStaticCodeAnalysis:!1,sequentialTestRuns:!1,customizeBuildScript:!1,problemStatement:!0,linkedCompetencies:!1,includeExerciseInCourseScoreCalculation:!0,points:!0,bonusPoints:!0,submissionPolicy:!1,timeline:!0,releaseDate:!0,startDate:!1,dueDate:!0,runTestsAfterDueDate:!1,assessmentDueDate:!0,exampleSolutionPublicationDate:!1,complaintOnAutomaticAssessment:!1,manualFeedbackRequests:!1,showTestNamesToStudents:!1,includeTestsIntoExampleSolution:!1,assessmentInstructions:!0,presentationScore:!1,plagiarismControl:!1};function Or(r,g){if(r&1&&(i(0,`
                `),s(1,"ngb-alert",4),i(2,`
                    `),s(3,"span",5),i(4),k(5,"artemisTranslate"),m(),i(6,`
                    `),c(7,"span",6),i(8,`
                `),m(),i(9,`
            `)),r&2){let e=l(2);a(),p("dismissible",!1),a(3),ge(`
                        `,R(5,3,"artemisApp.exercise.import.attention"),`
                    `),a(3),j("jhiTranslate",e.programmingExerciseCreationConfig.isImportFromExistingExercise?"artemisApp.exercise.import.markdownWarning":"artemisApp.exercise.import.embeddedFilesWarning")}}function jr(r,g){if(r&1&&(i(0,`
                `),c(1,"jhi-programming-exercise-instructions",7),i(2,`
            `)),r&2){let e=l(2);a(),p("exercise",e.programmingExercise)("participation",e.programmingExercise.templateParticipation)("personalParticipation",!1)}}function Br(r,g){if(r&1){let e=C();i(0,`
                `),s(1,"jhi-programming-exercise-editable-instructions",8),y("exerciseChange",function(t){u(e);let o=l(2);return _(o.exercise,t)||(o.exercise=t),x(t)}),f("hasUnsavedChanges",function(t){u(e);let o=l(2);return x(o.programmingExerciseCreationConfig.hasUnsavedChanges=t)})("instructionChange",function(t){u(e);let o=l(2);return x(o.problemStatementChange.emit(t))}),m(),i(2,`
            `)}if(r&2){let e=l(2);a(),p("participation",e.programmingExercise.templateParticipation),E("exercise",e.exercise),p("initialEditorHeight",e.MarkdownEditorHeight.MEDIUM)("showStatus",!!(e.programmingExercise!=null&&e.programmingExercise.id))("editMode",!!(e.programmingExercise!=null&&e.programmingExercise.id))("forceRender",e.programmingExerciseCreationConfig.rerenderSubject)}}function Wr(r,g){if(r&1&&(i(0,`
        `),s(1,"div",2),i(2,`
            `),c(3,"label",3),i(4,`
            `),h(5,Or,10,5)(6,jr,3,3)(7,Br,3,6),m(),i(8,`
    `)),r&2){let e=l();a(5),d(e.programmingExerciseCreationConfig.isImportFromExistingExercise||e.programmingExerciseCreationConfig.isImportFromFile?5:-1),a(),d(e.programmingExerciseCreationConfig.isImportFromExistingExercise?6:-1),a(),d(e.programmingExerciseCreationConfig.problemStatementLoaded&&e.programmingExerciseCreationConfig.templateParticipationResultLoaded&&!e.programmingExerciseCreationConfig.isImportFromExistingExercise?7:-1)}}function qr(r,g){if(r&1){let e=C();i(0,`
        `),s(1,"div",9),i(2,`
            `),s(3,"jhi-competency-selection",10),k(4,"artemisTranslate"),k(5,"artemisTranslate"),y("ngModelChange",function(t){u(e);let o=l();return _(o.programmingExercise.competencyLinks,t)||(o.programmingExercise.competencyLinks=t),x(t)}),m(),i(6,`
        `),m(),i(7,`
    `)}if(r&2){let e=l();a(3),p("labelName",R(4,3,"artemisApp.competency.link.title"))("labelTooltip",R(5,5,"artemisApp.competency.link.exercise")),E("ngModel",e.programmingExercise.competencyLinks)}}var vt=(()=>{class r{ProgrammingLanguage=F;ProjectType=P;AssessmentType=be;MarkdownEditorHeight=Yi;faQuestionCircle=$;programmingExerciseCreationConfig;isEditFieldDisplayedRecord=w.required();exerciseChange=new te;problemStatementChange=new te;programmingExercise;get exercise(){return this.programmingExercise}set exercise(e){this.programmingExercise=e,this.exerciseChange.emit(this.programmingExercise)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-problem"]],inputs:{programmingExerciseCreationConfig:"programmingExerciseCreationConfig",isEditFieldDisplayedRecord:[1,"isEditFieldDisplayedRecord"],exercise:"exercise"},outputs:{exerciseChange:"exerciseChange",problemStatementChange:"problemStatementChange"},decls:9,vars:2,consts:[["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.problemStepTitle","id","artemisApp.programmingExercise.wizardMode.detailedSteps.problemStepTitle"],["jhiTranslate","artemisApp.programmingExercise.wizardMode.detailedSteps.problemStepMessage"],["id","field_problemStatement","name","problemStatement",1,"form-group"],["for","field_problemStatement","jhiTranslate","artemisApp.programmingExercise.problemStatement.title",1,"form-control-label"],[3,"dismissible"],[1,"font-weight-bold"],[3,"jhiTranslate"],[3,"exercise","participation","personalParticipation"],[1,"form__editable-instructions",3,"exerciseChange","hasUnsavedChanges","instructionChange","participation","exercise","initialEditorHeight","showStatus","editMode","forceRender"],[1,"form-group"],["id","competencies","name","competencyLinks",3,"ngModelChange","labelName","labelTooltip","ngModel"]],template:function(n,t){n&1&&(s(0,"section"),i(1,`
    `),c(2,"h3",0),i(3,`
    `),c(4,"p",1),i(5,`
    `),h(6,Wr,9,3)(7,qr,8,7),m(),i(8,`
`)),n&2&&(a(6),d(t.isEditFieldDisplayedRecord().problemStatement?6:-1),a(),d(t.isEditFieldDisplayedRecord().linkedCompetencies&&!t.programmingExerciseCreationConfig.isExamMode?7:-1))},dependencies:[V,de,Zi,ft,tt,N,L,D,ee],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();function Ur(r,g){r&1&&(i(0,`
            `),c(1,"h2",12),i(2,`
        `))}function Gr(r,g){r&1&&(i(0,`
            `),c(1,"h2",13),i(2,`
        `))}function Qr(r,g){r&1&&(i(0,`
            `),c(1,"h2",14),i(2,`
        `))}function zr(r,g){if(r&1){let e=C();i(0,`
                `),i(1,`
                `),s(2,"jhi-programming-exercise-mode",15),f("triggerValidation",function(){u(e);let t=l();return x(t.calculateFormStatusSections())}),m(),i(3,`
                `),c(4,"hr",7),i(5,`
            `)}if(r&2){let e=l();a(2),p("programmingExercise",e.programmingExercise)("programmingExerciseCreationConfig",e.getProgrammingExerciseCreationConfig())("isEditFieldDisplayedRecord",e.isEditFieldDisplayedRecord())}}function Kr(r,g){if(r&1&&(i(0,`
                `),c(1,"jhi-exercise-update-plagiarism",16),i(2,`
            `)),r&2){let e=l();a(),p("exercise",e.programmingExercise)}}var Tt="isSimpleMode",Nl=(()=>{class r{programmingExerciseService=T(et);modalService=T(Mi);popupService=T(gt);courseService=T(Di);alertService=T(Be);exerciseService=T(We);fileService=T($i);activatedRoute=T(bi);translateService=T(De);profileService=T(xe);exerciseGroupService=T(ot);programmingLanguageFeatureService=T(Ct);navigationUtilService=T(Wi);aeolusService=T(ye);documentationType="Programming";maxPenaltyPattern=zi;invalidRepositoryNamePattern=Ki;invalidDirectoryNamePattern=Hi;shortNamePattern=Xi;packageNameRegexForJavaKotlin=RegExp(ii);packageNameRegexForJavaBlackbox=RegExp(ei);appNameRegexForSwift=RegExp(ve);packageNameRegexForGo=RegExp(ti);packageNameRegexForDart=RegExp(ni);exerciseInfoComponent;exerciseDifficultyComponent;exerciseLanguageComponent;exerciseGradingComponent;exercisePlagiarismComponent;packageNamePattern="";isSimpleMode=U(!0);isAuxiliaryRepositoryInputValid=U(!0);isEditFieldDisplayedRecord=yi(()=>{let e=bt,n={};return Object.keys(e).forEach(t=>{let o=!0;this.isSimpleMode()&&!(this.isImportFromFile||this.isImportFromExistingExercise)&&(o=e[t]),n[t]=o}),n});translationBasePath="artemisApp.programmingExercise.";programmingLanguageChanged=e=>this.onProgrammingLanguageChange(e);withDependenciesChanged=e=>this.onWithDependenciesChanged(e);categoriesChanged=e=>this.updateCategories(e);projectTypeChanged=e=>this.onProjectTypeChange(e);staticCodeAnalysisChanged=()=>this.onStaticCodeAnalysisChanged();auxiliaryRepositoryDuplicateNames;auxiliaryRepositoryDuplicateDirectories;auxiliaryRepositoryNamedCorrectly;isImportFromExistingExercise;isImportFromFile;isEdit;isCreate;isExamMode;isLocal;hasUnsavedChanges=!1;programmingExercise;backupExercise;isSaving;goBackAfterSaving=!1;problemStatementLoaded=!1;buildPlanLoaded=!1;templateParticipationResultLoaded=!0;notificationText;courseId;rerenderSubject=new H;selectedProgrammingLanguageValue;selectedProjectTypeValue;exerciseCategories;existingCategories;formStatusSections=U([]);inputFieldSubscriptions=[];inProductionEnvironment;supportedLanguages=["java"];packageNameRequired=!0;staticCodeAnalysisAllowed=!1;checkoutSolutionRepositoryAllowed=!1;customizeBuildPlanWithAeolus=!1;sequentialTestRunsAllowed=!1;auxiliaryRepositoriesSupported=!1;auxiliaryRepositoriesValid=U(!0);customBuildPlansSupported="";theiaEnabled=!1;importOptions={recreateBuildPlans:!1,updateTemplate:!1,setTestCaseVisibilityToAfterDueDate:!1};originalStaticCodeAnalysisEnabled;projectTypes=[];withDependenciesValue=!1;modePickerOptions=[];constructor(){z(function(){this.isSimpleMode()&&this.calculateFormStatusSections()}.bind(this)),z(function(){let n=localStorage.getItem(Tt);n?this.isSimpleMode.set(n==="true"):this.isSimpleMode.set(!0)}.bind(this))}updateRepositoryName(e){return n=>(e.name=n,this.refreshAuxiliaryRepositoryChecks(),e.name)}updateCheckoutDirectory(e){return n=>(e.checkoutDirectory=n,this.refreshAuxiliaryRepositoryChecks(),e.checkoutDirectory)}refreshAuxiliaryRepositoryChecks(){if(!this.programmingExercise?.auxiliaryRepositories)return;let e=!1,n=new Set,t=this.programmingExercise.auxiliaryRepositories?.filter(I=>I.name);t?.forEach(I=>{n.add(I.name),e||=!this.invalidRepositoryNamePattern.test(I.name)}),this.auxiliaryRepositoryDuplicateNames=n.size!==t?.length;let o=new Set,M=this.programmingExercise.auxiliaryRepositories.filter(I=>I.checkoutDirectory);M.forEach(I=>{o.add(I.checkoutDirectory),e||=!this.invalidDirectoryNamePattern.test(I.checkoutDirectory)}),this.auxiliaryRepositoryDuplicateDirectories=o.size!==M.length,this.auxiliaryRepositoryNamedCorrectly=this.programmingExercise.auxiliaryRepositories.length===t?.length&&!e,this.auxiliaryRepositoriesValid.set(this.auxiliaryRepositoryNamedCorrectly&&!this.auxiliaryRepositoryDuplicateNames&&!this.auxiliaryRepositoryDuplicateDirectories)}set selectedProgrammingLanguage(e){let n=this.selectedProgrammingLanguageValue!==e;this.selectedProgrammingLanguageValue=e;let t=this.programmingLanguageFeatureService.getProgrammingLanguageFeature(e);this.packageNameRequired=t?.packageNameRequired,this.staticCodeAnalysisAllowed=t.staticCodeAnalysis,this.checkoutSolutionRepositoryAllowed=t.checkoutSolutionRepositoryAllowed,this.sequentialTestRunsAllowed=t.sequentialTestRuns,this.auxiliaryRepositoriesSupported=t.auxiliaryRepositoriesSupported,this.projectTypes=t.projectTypes?.filter(o=>o!==P.MAVEN_MAVEN&&o!==P.GRADLE_GRADLE),this.modePickerOptions=this.projectTypes?.map(o=>({value:o,labelKey:"artemisApp.programmingExercise.projectTypes."+o.toString(),btnClass:"btn-secondary"})),n&&(this.programmingExercise.projectType=this.projectTypes?.[0],this.selectedProjectTypeValue=this.projectTypes?.[0],this.withDependenciesValue=!1,this.buildPlanLoaded=!1,this.programmingExercise.buildConfig?(this.programmingExercise.buildConfig.windfile=void 0,this.programmingExercise.buildConfig.buildPlanConfiguration=void 0):this.programmingExercise.buildConfig=new Bi,this.programmingExercise.customizeBuildPlanWithAeolus=e===F.EMPTY),this.staticCodeAnalysisAllowed||(this.programmingExercise.staticCodeAnalysisEnabled=!1,this.programmingExercise.maxStaticCodeAnalysisPenalty=void 0),(e==F.HASKELL||e==F.OCAML)&&(this.programmingExercise.buildConfig.checkoutSolutionRepository=this.checkoutSolutionRepositoryAllowed),this.checkoutSolutionRepositoryAllowed||(this.programmingExercise.buildConfig.checkoutSolutionRepository=!1),this.programmingExercise.id===void 0&&!this.isImportFromFile&&(this.loadProgrammingLanguageTemplate(e),this.rerenderSubject.next())}get selectedProgrammingLanguage(){return this.selectedProgrammingLanguageValue}set selectedProjectType(e){this.updateProjectTypeSettings(e),this.programmingExercise.id===void 0&&!this.isImportFromFile&&(this.loadProgrammingLanguageTemplate(this.programmingExercise.programmingLanguage),this.rerenderSubject.next())}get selectedProjectType(){return this.selectedProjectTypeValue}updateProjectTypeSettings(e){if(P.XCODE===e?this.programmingExercise.allowOnlineEditor=!1:P.FACT===e&&this.disableStaticCodeAnalysis(),this.programmingExercise.programmingLanguage===F.JAVA){let n=this.programmingLanguageFeatureService.getProgrammingLanguageFeature(F.JAVA);e==P.MAVEN_BLACKBOX?(this.selectedProjectTypeValue=P.MAVEN_BLACKBOX,this.programmingExercise.projectType=P.MAVEN_BLACKBOX,this.sequentialTestRunsAllowed=!1):e===P.PLAIN_MAVEN||e===P.MAVEN_MAVEN?(this.selectedProjectTypeValue=P.PLAIN_MAVEN,this.sequentialTestRunsAllowed=n.sequentialTestRuns,this.withDependenciesValue?this.programmingExercise.projectType=P.MAVEN_MAVEN:this.programmingExercise.projectType=P.PLAIN_MAVEN):(this.selectedProjectTypeValue=P.PLAIN_GRADLE,this.sequentialTestRunsAllowed=n.sequentialTestRuns,this.withDependenciesValue?this.programmingExercise.projectType=P.GRADLE_GRADLE:this.programmingExercise.projectType=P.PLAIN_GRADLE)}else this.selectedProjectTypeValue=e,this.programmingExercise.projectType=e}set withDependencies(e){this.withDependenciesValue=e,this.selectedProjectType=this.programmingExercise.projectType}get withDependencies(){return this.withDependenciesValue}disableStaticCodeAnalysis(){this.programmingExercise.staticCodeAnalysisEnabled=!1,this.programmingExercise.maxStaticCodeAnalysisPenalty=void 0}ngOnInit(){this.isSaving=!1,this.notificationText=void 0,this.activatedRoute.data.subscribe(({programmingExercise:e})=>{this.programmingExercise=e,this.programmingExercise.buildConfig?.buildPlanConfiguration&&(this.programmingExercise.buildConfig.windfile=this.aeolusService.parseWindFile(this.programmingExercise.buildConfig.buildPlanConfiguration)),this.backupExercise=Ze(this.programmingExercise),this.selectedProgrammingLanguageValue=this.programmingExercise.programmingLanguage,this.programmingExercise.projectType===P.MAVEN_MAVEN?this.selectedProjectTypeValue=P.PLAIN_MAVEN:this.programmingExercise.projectType===P.GRADLE_GRADLE?this.selectedProjectTypeValue=P.PLAIN_GRADLE:this.selectedProjectTypeValue=this.programmingExercise.projectType}),this.activatedRoute&&this.activatedRoute.url&&this.activatedRoute.url.pipe(Je(e=>{this.isImportFromExistingExercise=e.some(n=>n.path==="import"),this.isImportFromFile=e.some(n=>n.path==="import-from-file"),this.isEdit=e.some(n=>n.path==="edit"),this.isCreate=e.some(n=>n.path==="new")}),hi(()=>this.activatedRoute.params),Je(e=>{this.isImportFromFile&&this.createProgrammingExerciseForImportFromFile(),this.isImportFromExistingExercise?this.createProgrammingExerciseForImport(e):e.courseId&&e.examId&&e.exerciseGroupId?(this.isExamMode=!0,this.exerciseGroupService.find(e.courseId,e.examId,e.exerciseGroupId).subscribe(n=>{this.programmingExercise.exerciseGroup=n.body,!e.exerciseId&&this.programmingExercise.exerciseGroup.exam?.course?.defaultProgrammingLanguage&&!this.isImportFromFile&&(this.selectedProgrammingLanguage=this.programmingExercise.exerciseGroup.exam.course.defaultProgrammingLanguage)}),this.isImportFromFile&&(this.courseId=e.courseId,this.loadCourseExerciseCategories(e.courseId))):e.courseId&&(this.courseId=e.courseId,this.isExamMode=!1,this.courseService.find(this.courseId).subscribe(n=>{this.programmingExercise.course=n.body,!e.exerciseId&&this.programmingExercise.course?.defaultProgrammingLanguage&&!this.isImportFromFile&&(this.selectedProgrammingLanguage=this.programmingExercise.course.defaultProgrammingLanguage),this.exerciseCategories=this.programmingExercise.categories||[],this.loadCourseExerciseCategories(this.programmingExercise.course.id)}))})).subscribe(),this.selectedProgrammingLanguage=this.programmingExercise.programmingLanguage,(this.programmingExercise.id||this.isImportFromFile)&&(this.problemStatementLoaded=!0),this.setPackageNamePattern(this.selectedProgrammingLanguage),this.profileService.getProfileInfo().subscribe(e=>{e&&(this.inProductionEnvironment=e.inProduction)}),this.profileService.getProfileInfo().subscribe(e=>{e?.activeProfiles.includes(he)&&(this.customBuildPlansSupported=he,this.isLocal=!0),e?.activeProfiles.includes(Ce)&&(this.customBuildPlansSupported=Ce),e?.activeProfiles.includes(qe)&&(this.theiaEnabled=!0)}),this.defineSupportedProgrammingLanguages()}ngAfterViewInit(){this.inputFieldSubscriptions.push(this.exerciseInfoComponent?.formValidChanges?.subscribe(()=>this.calculateFormStatusSections())),this.inputFieldSubscriptions.push(this.exerciseDifficultyComponent?.teamConfigComponent?.formValidChanges?.subscribe(()=>this.calculateFormStatusSections())),this.inputFieldSubscriptions.push(this.exerciseLanguageComponent?.formValidChanges?.subscribe(()=>this.calculateFormStatusSections())),this.inputFieldSubscriptions.push(this.exerciseGradingComponent?.formValidChanges?.subscribe(()=>this.calculateFormStatusSections())),this.inputFieldSubscriptions.push(this.exercisePlagiarismComponent?.formValidChanges?.subscribe(()=>this.calculateFormStatusSections()))}ngOnDestroy(){for(let e of this.inputFieldSubscriptions)e?.unsubscribe()}calculateFormStatusSections(){let e=[{title:"artemisApp.programmingExercise.wizardMode.detailedSteps.generalInfoStepTitle",valid:this.exerciseInfoComponent?.formValid??!1},{title:"artemisApp.programmingExercise.wizardMode.detailedSteps.difficultyStepTitle",valid:(this.exerciseDifficultyComponent?.teamConfigComponent?.formValid&&this.validIdeSelection())??!1},{title:"artemisApp.programmingExercise.wizardMode.detailedSteps.languageStepTitle",valid:(this.exerciseLanguageComponent?.formValid&&this.validOnlineIdeSelection())??!1},{title:"artemisApp.programmingExercise.wizardMode.detailedSteps.problemStepTitle",valid:!0,empty:!this.programmingExercise.problemStatement},{title:"artemisApp.programmingExercise.wizardMode.detailedSteps.gradingStepTitle",valid:!!(this.exerciseGradingComponent?.formValid&&(this.isExamMode||!this.isEditFieldDisplayedRecord().plagiarismControl||this.exercisePlagiarismComponent?.formValid)),empty:this.exerciseGradingComponent?.formEmpty}];this.isSimpleMode()&&e.splice(1,1),this.formStatusSections.set(e)}determineProjectTypeIfNotSelectedAndInSimpleMode(){if(this.isSimpleMode()&&this.isCreate&&this.projectTypes){let e=this.programmingExercise.projectType;(e===void 0||!this.projectTypes.includes(e))&&(this.projectTypes.includes(P.PLAIN_GRADLE)?this.programmingExercise.projectType=P.PLAIN_GRADLE:this.projectTypes.includes(P.PLAIN_MAVEN)?this.programmingExercise.projectType=P.PLAIN_MAVEN:this.alertService.addErrorAlert("Could not automatically determine project type","artemisApp.exercise.errors.projectTypeCouldNotBeDetermined"))}}defineSupportedProgrammingLanguages(){this.supportedLanguages=[];for(let e of Object.values(F))this.programmingLanguageFeatureService.supportsProgrammingLanguage(e)&&this.supportedLanguages.push(e)}loadCourseExerciseCategories(e){dt(e,this.courseService,this.exerciseService,this.alertService).subscribe(n=>{this.existingCategories=n}),this.exerciseCategories===void 0&&(this.exerciseCategories=[])}createProgrammingExerciseForImport(e){this.isImportFromExistingExercise=!0,this.originalStaticCodeAnalysisEnabled=this.programmingExercise.staticCodeAnalysisEnabled;let n=e.courseId;n&&e.examId&&e.exerciseGroupId?(this.exerciseGroupService.find(e.courseId,e.examId,e.exerciseGroupId).subscribe(t=>{this.programmingExercise.exerciseGroup=t.body,this.programmingExercise.course=void 0}),this.isExamMode=!0):n&&(this.courseService.find(n).subscribe(t=>{this.programmingExercise.course=t.body,this.programmingExercise.exerciseGroup=void 0}),this.isExamMode=!1),this.loadCourseExerciseCategories(n),$e(this.programmingExercise),this.programmingExercise.projectKey=void 0,this.programmingExercise.submissionPolicy&&(this.programmingExercise.submissionPolicy.id=void 0),this.isExamMode&&this.programmingExercise.includedInOverallScore===se.NOT_INCLUDED&&(this.programmingExercise.includedInOverallScore=se.INCLUDED_COMPLETELY)}previousState(){this.navigationUtilService.navigateBackFromExerciseUpdate(this.programmingExercise)}updateCategories(e){this.programmingExercise.categories=e,this.exerciseCategories=e}save(){let e=this.popupService.checkExerciseBeforeUpdate(this.programmingExercise,this.backupExercise,this.isExamMode);this.determineProjectTypeIfNotSelectedAndInSimpleMode(),this.modalService.hasOpenModals()?e.then(n=>{n.componentInstance.confirmed.subscribe(()=>{this.saveExercise()}),n.componentInstance.reEvaluated.subscribe(()=>{let t={};t.deleteFeedback=n.componentInstance.deleteFeedback,this.subscribeToSaveResponse(this.programmingExerciseService.reevaluateAndUpdate(this.programmingExercise,t))})}):this.saveExercise()}saveExercise(){if(this.programmingExercise.buildConfig.windfile?.metadata?.docker?.image&&(this.programmingExercise.buildConfig.windfile.metadata.docker.image=this.programmingExercise.buildConfig.windfile.metadata.docker.image.trim()),this.programmingExercise.customizeBuildPlanWithAeolus||this.isImportFromFile?this.programmingExercise.buildConfig.buildPlanConfiguration=this.aeolusService.serializeWindFile(this.programmingExercise.buildConfig.windfile):(this.programmingExercise.buildConfig.buildPlanConfiguration=void 0,this.programmingExercise.buildConfig.windfile=void 0),this.programmingExercise.buildConfig?.timeoutSeconds&&this.programmingExercise.buildConfig?.timeoutSeconds<1&&(this.programmingExercise.buildConfig.timeoutSeconds=0),this.programmingExercise.submissionPolicy&&this.programmingExercise.submissionPolicy.type===ce.NONE&&(this.programmingExercise.submissionPolicy=void 0),Fi.sanitize(this.programmingExercise),this.isSaving=!0,this.exerciseService.hasExampleSolutionPublicationDateWarning(this.programmingExercise)&&this.alertService.addAlert({type:je.WARNING,message:"artemisApp.exercise.exampleSolutionPublicationDateWarning"}),this.programmingExercise.auxiliaryRepositories?.some(n=>n.id?this.backupExercise?.auxiliaryRepositories?.some(t=>t.id===n.id&&(t.name!==n.name||t.checkoutDirectory!==n.checkoutDirectory)):!1)&&this.programmingExercise.id&&this.alertService.addAlert({type:je.WARNING,message:"artemisApp.programmingExercise.auxiliaryRepository.editedWarning"}),this.isImportFromFile)this.subscribeToSaveResponse(this.programmingExerciseService.importFromFile(this.programmingExercise,this.courseId));else if(this.isImportFromExistingExercise)this.subscribeToSaveResponse(this.programmingExerciseService.importExercise(this.programmingExercise,this.importOptions));else if(this.programmingExercise.id!==void 0){let n={};this.notificationText&&(n.notificationText=this.notificationText),this.subscribeToSaveResponse(this.programmingExerciseService.update(this.programmingExercise,n))}else this.subscribeToSaveResponse(this.programmingExerciseService.automaticSetup(this.programmingExercise))}subscribeToSaveResponse(e){e.subscribe({next:n=>{this.onSaveSuccess(n.body)},error:n=>{this.onSaveError(n)}})}onSaveSuccess(e){if(this.isSaving=!1,this.goBackAfterSaving){this.navigationUtilService.navigateBack();return}this.navigationUtilService.navigateForwardFromExerciseUpdateOrCreation(e)}onSaveError(e){let n,t;e.status===409&&e.error&&e.error["X-artemisApp-error"]==="error.sourceExerciseInconsistent"?(n="artemisApp.consistencyCheck.error.programmingExerciseImportFailed",t=!1):(n=e.headers.get("X-artemisApp-alert"),t=!0),this.alertService.addAlert({type:je.DANGER,message:n,disableTranslation:t}),this.isSaving=!1,window.scrollTo(0,0)}onProgrammingLanguageChange(e){if(this.hasUnsavedChanges){let n=this.translateService.instant(this.translationBasePath+"unsavedChangesLanguageChange");if(!window.confirm(n))return this.selectedProgrammingLanguage}return this.setPackageNamePattern(e),this.selectedProgrammingLanguage=e,e}setPackageNamePattern(e,n=!1){switch(e){case F.SWIFT:this.packageNamePattern=ve;break;case F.JAVA:case F.KOTLIN:this.packageNamePattern=n?ei:ii;break;case F.GO:this.packageNamePattern=ti;break;case F.DART:this.packageNamePattern=ni;break}}onProjectTypeChange(e){if(this.hasUnsavedChanges){let t=this.translateService.instant(this.translationBasePath+"unsavedChangesProjectTypeChange");if(!window.confirm(t))return this.selectedProjectType}this.selectedProjectType=e;let n=e===P.MAVEN_BLACKBOX;return this.setPackageNamePattern(this.programmingExercise.programmingLanguage,n),e}onWithDependenciesChanged(e){return this.withDependenciesValue=e,e}onStaticCodeAnalysisChanged(){this.isImportFromExistingExercise&&this.programmingExercise.staticCodeAnalysisEnabled!==this.originalStaticCodeAnalysisEnabled&&(this.importOptions.recreateBuildPlans=!0,this.importOptions.updateTemplate=!0),this.programmingExercise.staticCodeAnalysisEnabled||(this.programmingExercise.maxStaticCodeAnalysisPenalty=void 0)}onRecreateBuildPlanOrUpdateTemplateChange(){(!this.importOptions.recreateBuildPlans||!this.importOptions.updateTemplate)&&(this.programmingExercise.staticCodeAnalysisEnabled=this.originalStaticCodeAnalysisEnabled),this.programmingExercise.staticCodeAnalysisEnabled||(this.programmingExercise.maxStaticCodeAnalysisPenalty=void 0)}switchEditMode=()=>{this.isSimpleMode.update(e=>!e),localStorage.setItem(Tt,JSON.stringify(this.isSimpleMode()))};loadProgrammingLanguageTemplate(e){this.hasUnsavedChanges=!1,this.problemStatementLoaded=!1,this.programmingExercise.programmingLanguage=e,this.fileService.getTemplateFile(this.programmingExercise.programmingLanguage,this.programmingExercise.projectType).subscribe({next:n=>{this.programmingExercise.problemStatement=n,this.problemStatementLoaded=!0},error:()=>{this.programmingExercise.problemStatement="",this.problemStatementLoaded=!0}})}validIdeSelection=()=>this.theiaEnabled?this.programmingExercise?.allowOnlineEditor||this.programmingExercise?.allowOfflineIde||this.programmingExercise?.allowOnlineIde:this.programmingExercise?.allowOnlineEditor||this.programmingExercise?.allowOfflineIde;validOnlineIdeSelection=()=>!this.programmingExercise?.allowOnlineIde||this.programmingExercise?.buildConfig.theiaImage!==void 0;isEventInsideTextArea(e){return e.target instanceof Element?e.target.tagName==="TEXTAREA":!1}getInvalidReasons(){let e=[];return this.validateExerciseTitle(e),this.validateExerciseChannelName(e),this.validateExerciseShortName(e),this.validateExerciseAuxiliaryRepositories(e),this.validateExercisePackageName(e),this.validateExerciseIdeSelection(e),this.validateExerciseOnlineIdeSelection(e),this.validateExercisePoints(e),this.validateExerciseBonusPoints(e),this.validateExerciseSCAMaxPenalty(e),this.validateExerciseSubmissionLimit(e),this.validateTimeout(e),this.validateCheckoutPaths(e),e}validateExerciseTitle(e){this.programmingExercise.title===void 0||this.programmingExercise.title===""?e.push({translateKey:"artemisApp.exercise.form.title.undefined",translateValues:{}}):Ui.test(this.programmingExercise.title)?this.exerciseInfoComponent?.titleComponent?.titleChannelNameComponent?.field_title?.control?.errors?.disallowedValue&&e.push({translateKey:"artemisApp.exercise.form.title.disallowedValue",translateValues:{}}):e.push({translateKey:"artemisApp.exercise.form.title.pattern",translateValues:{}})}validateExerciseChannelName(e){this.programmingExercise.channelName===""&&e.push({translateKey:"artemisApp.exercise.form.channelName.empty",translateValues:{}})}validateExerciseShortName(e){if(this.programmingExercise.shortName===void 0||this.programmingExercise.shortName==="")e.push({translateKey:"artemisApp.exercise.form.shortName.undefined",translateValues:{}});else if(this.exerciseInfoComponent?.shortNameField()?.control?.errors?.disallowedValue)e.push({translateKey:"artemisApp.exercise.form.title.disallowedValue",translateValues:{}});else{this.programmingExercise.shortName.length<3&&e.push({translateKey:"artemisApp.exercise.form.shortName.minlength",translateValues:{}});let n=this.programmingExercise.shortName.match(this.shortNamePattern);(n===null||n.length===0)&&e.push({translateKey:"artemisApp.exercise.form.shortName.pattern",translateValues:{}})}}validateExercisePoints(e){this.programmingExercise.maxPoints===void 0?e.push({translateKey:"artemisApp.exercise.form.points.undefined",translateValues:{}}):this.programmingExercise.maxPoints<1?e.push({translateKey:"artemisApp.exercise.form.points.customMin",translateValues:{}}):this.programmingExercise.maxPoints>9999&&e.push({translateKey:"artemisApp.exercise.form.points.customMax",translateValues:{}})}validateExerciseBonusPoints(e){this.programmingExercise.bonusPoints===void 0||typeof this.programmingExercise.bonusPoints!="number"?e.push({translateKey:"artemisApp.exercise.form.bonusPoints.undefined",translateValues:{}}):this.programmingExercise.bonusPoints<0?e.push({translateKey:"artemisApp.exercise.form.bonusPoints.customMin",translateValues:{}}):this.programmingExercise.bonusPoints>9999&&e.push({translateKey:"artemisApp.exercise.form.bonusPoints.customMax",translateValues:{}})}validateExerciseSCAMaxPenalty(e){let n=this.programmingExercise.maxStaticCodeAnalysisPenalty?.toString().match(this.maxPenaltyPattern);(n===null||n?.length===0)&&e.push({translateKey:"artemisApp.exercise.form.maxPenalty.pattern",translateValues:{}})}validateExercisePackageName(e){let n;switch(this.programmingExercise.programmingLanguage){case F.JAVA:this.programmingExercise.projectType===P.MAVEN_BLACKBOX?n=this.packageNameRegexForJavaBlackbox:n=this.packageNameRegexForJavaKotlin;break;case F.KOTLIN:n=this.packageNameRegexForJavaKotlin;break;case F.SWIFT:n=this.appNameRegexForSwift;break;case F.GO:n=this.packageNameRegexForGo;break;case F.DART:n=this.packageNameRegexForDart;break;default:return}if(this.programmingExercise.packageName===void 0||this.programmingExercise.packageName===""){e.push({translateKey:"artemisApp.exercise.form.packageName.undefined",translateValues:{}});return}if(!n.test(this.programmingExercise.packageName)){let o=this.programmingExercise.projectType===P.MAVEN_BLACKBOX?`artemisApp.exercise.form.packageName.pattern.${this.programmingExercise.programmingLanguage}_BLACKBOX`:`artemisApp.exercise.form.packageName.pattern.${this.programmingExercise.programmingLanguage}`;e.push({translateKey:o,translateValues:{}})}}validateExerciseSubmissionLimit(e){if(this.programmingExercise.submissionPolicy!==void 0&&this.programmingExercise.submissionPolicy.type!==ce.NONE){let n=this.programmingExercise.submissionPolicy?.submissionLimit;n===void 0||typeof n!="number"?e.push({translateKey:"artemisApp.programmingExercise.submissionPolicy.submissionLimitWarning.required",translateValues:{}}):(n<1||n>500||n%1!==0)&&e.push({translateKey:"artemisApp.programmingExercise.submissionPolicy.submissionLimitWarning.pattern",translateValues:{}})}if(this.programmingExercise.submissionPolicy?.type===ce.SUBMISSION_PENALTY){let n=this.programmingExercise.submissionPolicy?.exceedingPenalty;n===void 0||typeof n!="number"?e.push({translateKey:"artemisApp.programmingExercise.submissionPolicy.submissionPenalty.penaltyInputFieldValidationWarning.required",translateValues:{}}):n<=0&&e.push({translateKey:"artemisApp.programmingExercise.submissionPolicy.submissionPenalty.penaltyInputFieldValidationWarning.pattern",translateValues:{}})}}validateExerciseAuxiliaryRepositories(e){this.auxiliaryRepositoriesValid()||e.push({translateKey:"artemisApp.programmingExercise.auxiliaryRepository.error",translateValues:{}})}validateExerciseIdeSelection(e){if(!this.validIdeSelection()){let n=this.theiaEnabled?"artemisApp.programmingExercise.allowOnlineEditor.alert":"artemisApp.programmingExercise.allowOnlineEditor.alertNoTheia";e.push({translateKey:n,translateValues:{}})}}validateExerciseOnlineIdeSelection(e){this.validOnlineIdeSelection()||e.push({translateKey:"artemisApp.programmingExercise.theiaImage.alert",translateValues:{}})}validateTimeout(e){this.programmingExercise.buildConfig?.timeoutSeconds&&this.programmingExercise.buildConfig.timeoutSeconds<0&&e.push({translateKey:"artemisApp.programmingExercise.timeout.alert",translateValues:{}})}validateCheckoutPaths(e){let n=[this.programmingExercise.buildConfig?.assignmentCheckoutPath,this.programmingExercise.buildConfig?.solutionCheckoutPath,this.programmingExercise.buildConfig?.testCheckoutPath];(!this.areValuesUnique(n)||!this.testCheckoutPathsPattern(n))&&e.push({translateKey:"artemisApp.programmingExercise.checkoutPath.invalid",translateValues:{}})}areValuesUnique(e){let n=e.filter(o=>o!==void 0&&o!==""),t=new Set(n);return n.length===t.size}testCheckoutPathsPattern(e){return e.every(n=>n===void 0||n.trim()===""||this.invalidDirectoryNamePattern.test(n))}createProgrammingExerciseForImportFromFile(){this.programmingExercise=Ze(history.state.programmingExerciseForImportFromFile),this.programmingExercise.id=void 0,this.programmingExercise.exerciseGroup=void 0,this.programmingExercise.course=void 0,this.programmingExercise.projectKey=void 0,$e(this.programmingExercise),this.selectedProgrammingLanguage=this.programmingExercise.programmingLanguage,this.selectedProjectType=history.state.programmingExerciseForImportFromFile.projectType}getProgrammingExerciseCreationConfig(){return{isImportFromFile:this.isImportFromFile,isImportFromExistingExercise:this.isImportFromExistingExercise,showSummary:!1,isEdit:this.isEdit,isExamMode:this.isExamMode,auxiliaryRepositoriesSupported:this.auxiliaryRepositoriesSupported,auxiliaryRepositoryDuplicateDirectories:this.auxiliaryRepositoryDuplicateDirectories,auxiliaryRepositoryDuplicateNames:this.auxiliaryRepositoryDuplicateNames,checkoutSolutionRepositoryAllowed:this.checkoutSolutionRepositoryAllowed,customBuildPlansSupported:this.customBuildPlansSupported,invalidDirectoryNamePattern:this.invalidDirectoryNamePattern,invalidRepositoryNamePattern:this.invalidRepositoryNamePattern,titleNamePattern:qi,shortNamePattern:this.shortNamePattern,updateRepositoryName:this.updateRepositoryName,updateCheckoutDirectory:this.updateCheckoutDirectory,refreshAuxiliaryRepositoryChecks:this.refreshAuxiliaryRepositoryChecks,exerciseCategories:this.exerciseCategories,existingCategories:this.existingCategories,updateCategories:this.categoriesChanged,modePickerOptions:this.modePickerOptions,withDependencies:this.withDependencies,onWithDependenciesChanged:this.withDependenciesChanged,packageNameRequired:this.packageNameRequired,packageNamePattern:this.packageNamePattern,supportedLanguages:this.supportedLanguages,selectedProgrammingLanguage:this.selectedProgrammingLanguage,onProgrammingLanguageChange:this.programmingLanguageChanged,projectTypes:this.projectTypes,selectedProjectType:this.selectedProjectType,onProjectTypeChange:this.projectTypeChanged,sequentialTestRunsAllowed:this.sequentialTestRunsAllowed,staticCodeAnalysisAllowed:this.staticCodeAnalysisAllowed,onStaticCodeAnalysisChanged:this.staticCodeAnalysisChanged,maxPenaltyPattern:this.maxPenaltyPattern,problemStatementLoaded:this.problemStatementLoaded,templateParticipationResultLoaded:this.templateParticipationResultLoaded,hasUnsavedChanges:this.hasUnsavedChanges,rerenderSubject:this.rerenderSubject.asObservable(),validIdeSelection:this.validIdeSelection,validOnlineIdeSelection:this.validOnlineIdeSelection,inProductionEnvironment:this.inProductionEnvironment,recreateBuildPlans:this.importOptions.recreateBuildPlans,onRecreateBuildPlanOrUpdateTemplateChange:this.onRecreateBuildPlanOrUpdateTemplateChange,updateTemplate:this.importOptions.updateTemplate,recreateBuildPlanOrUpdateTemplateChange:this.onRecreateBuildPlanOrUpdateTemplateChange,buildPlanLoaded:this.buildPlanLoaded}}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["jhi-programming-exercise-update"]],viewQuery:function(n,t){if(n&1&&(S(li,5),S(ci,5),S(ui,5),S(xi,5),S(oi,5)),n&2){let o;b(o=v())&&(t.exerciseInfoComponent=o.first),b(o=v())&&(t.exerciseDifficultyComponent=o.first),b(o=v())&&(t.exerciseLanguageComponent=o.first),b(o=v())&&(t.exerciseGradingComponent=o.first),b(o=v())&&(t.exercisePlagiarismComponent=o.first)}},decls:38,vars:33,consts:[["editForm","ngForm"],[1,"d-flex","align-items-center","gap-2"],[3,"type"],[3,"formStatusSections"],["name","editForm","role","form","novalidate","",3,"keydown.enter"],[1,"update-programming-exercise"],[3,"isAuxiliaryRepositoryInputValidChange","programmingExercise","programmingExerciseCreationConfig","isExamMode","isImport","isLocal","importOptions","isSimpleMode","isEditFieldDisplayedRecord","courseId","isAuxiliaryRepositoryInputValid"],[1,"mb-5"],[3,"programmingExercise","programmingExerciseCreationConfig","isEditFieldDisplayedRecord"],[3,"exerciseChange","problemStatementChange","exercise","programmingExerciseCreationConfig","isEditFieldDisplayedRecord"],[1,"form-step",3,"programmingExercise","programmingExerciseCreationConfig","importOptions","isEditFieldDisplayedRecord"],[3,"notificationTextChange","save","onCancel","isCreation","isImport","isSaving","notificationText","isSimpleMode","switchEditMode","areAuxiliaryRepositoriesValid","invalidReasons"],["id","jhi-programming-exercise-heading-create","jhiTranslate","artemisApp.programmingExercise.home.createLabel"],["id","jhi-programming-exercise-heading-edit","jhiTranslate","artemisApp.programmingExercise.home.editLabel"],["id","jhi-programming-exercise-heading-import","jhiTranslate","artemisApp.programmingExercise.home.importLabel"],[3,"triggerValidation","programmingExercise","programmingExerciseCreationConfig","isEditFieldDisplayedRecord"],[3,"exercise"]],template:function(n,t){if(n&1){let o=C();s(0,"div"),i(1,`
    `),s(2,"div",1),i(3,`
        `),h(4,Ur,3,0)(5,Gr,3,0)(6,Qr,3,0),c(7,"jhi-documentation-button",2),i(8,`
    `),m(),i(9,`
    `),c(10,"jhi-form-status-bar",3),i(11,`
    `),s(12,"form",4,0),f("keydown.enter",function(I){return u(o),x(t.isEventInsideTextArea(I))}),i(14,`
        `),s(15,"div",5),i(16,`
            `),s(17,"jhi-programming-exercise-info",6),y("isAuxiliaryRepositoryInputValidChange",function(I){return u(o),_(t.isAuxiliaryRepositoryInputValid,I)||(t.isAuxiliaryRepositoryInputValid=I),x(I)}),m(),i(18,`
            `),c(19,"hr",7),i(20,`
            `),h(21,zr,6,3),c(22,"jhi-programming-exercise-language",8),i(23,`
            `),c(24,"hr",7),i(25,`
            `),s(26,"jhi-programming-exercise-problem",9),y("exerciseChange",function(I){return u(o),_(t.programmingExercise,I)||(t.programmingExercise=I),x(I)}),f("problemStatementChange",function(){return u(o),x(t.calculateFormStatusSections())}),m(),i(27,`
            `),c(28,"hr",7),i(29,`
            `),c(30,"jhi-programming-exercise-grading",10),i(31,`
            `),h(32,Kr,3,1),s(33,"jhi-form-footer",11),y("notificationTextChange",function(I){return u(o),_(t.notificationText,I)||(t.notificationText=I),x(I)}),f("save",function(){return u(o),x(t.save())})("onCancel",function(){return u(o),x(t.previousState())}),m(),i(34,`
        `),m(),i(35,`
    `),m(),i(36,`
`),m(),i(37,`
`)}n&2&&(a(4),d(!t.isImportFromExistingExercise&&!t.isImportFromFile&&!t.programmingExercise.id?4:!t.isImportFromExistingExercise&&t.programmingExercise.id?5:t.isImportFromExistingExercise||t.isImportFromFile?6:-1),a(3),p("type",t.documentationType),a(3),p("formStatusSections",t.formStatusSections()),a(7),p("programmingExercise",t.programmingExercise)("programmingExerciseCreationConfig",t.getProgrammingExerciseCreationConfig())("isExamMode",t.isExamMode)("isImport",t.isImportFromExistingExercise||t.isImportFromFile)("isLocal",t.isLocal)("importOptions",t.importOptions)("isSimpleMode",t.isSimpleMode())("isEditFieldDisplayedRecord",t.isEditFieldDisplayedRecord())("courseId",t.courseId),E("isAuxiliaryRepositoryInputValid",t.isAuxiliaryRepositoryInputValid),a(4),d(t.isSimpleMode()?-1:21),a(),p("programmingExercise",t.programmingExercise)("programmingExerciseCreationConfig",t.getProgrammingExerciseCreationConfig())("isEditFieldDisplayedRecord",t.isEditFieldDisplayedRecord()),a(4),E("exercise",t.programmingExercise),p("programmingExerciseCreationConfig",t.getProgrammingExerciseCreationConfig())("isEditFieldDisplayedRecord",t.isEditFieldDisplayedRecord()),a(4),p("programmingExercise",t.programmingExercise)("programmingExerciseCreationConfig",t.getProgrammingExerciseCreationConfig())("importOptions",t.importOptions)("isEditFieldDisplayedRecord",t.isEditFieldDisplayedRecord()),a(2),d(t.isEditFieldDisplayedRecord().plagiarismControl&&!t.isExamMode?32:-1),a(),p("isCreation",!t.programmingExercise.id)("isImport",t.isImportFromExistingExercise||t.isImportFromFile)("isSaving",t.isSaving),E("notificationText",t.notificationText),p("isSimpleMode",t.isSimpleMode())("switchEditMode",t.switchEditMode)("areAuxiliaryRepositoriesValid",t.isAuxiliaryRepositoryInputValid())("invalidReasons",t.getInvalidReasons()))},dependencies:[V,Oi,rt,N,wi,vi,Ti,li,ci,ui,vt,xi,oi,ht],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return r})();export{Tt as LOCAL_STORAGE_KEY_IS_SIMPLE_MODE,Nl as ProgrammingExerciseUpdateComponent};
//# sourceMappingURL=programming-exercise-update.component-JRJL4EQP.js.map
