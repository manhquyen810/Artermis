{
  "version": 3,
  "sources": ["src/main/webapp/app/lecture/lecture-unit/lecture-unit-management/create-text-unit/create-text-unit.component.ts", "src/main/webapp/app/lecture/lecture-unit/lecture-unit-management/create-text-unit/create-text-unit.component.html"],
  "sourcesContent": ["import { Component, OnInit, inject } from '@angular/core';\r\nimport { TextUnit } from 'app/entities/lecture-unit/textUnit.model';\r\nimport { TextUnitService } from 'app/lecture/lecture-unit/lecture-unit-management/textUnit.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { TextUnitFormData } from 'app/lecture/lecture-unit/lecture-unit-management/text-unit-form/text-unit-form.component';\r\nimport { onError } from 'app/shared/util/global.utils';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { combineLatest } from 'rxjs';\r\nimport { LectureUnitLayoutComponent } from '../lecture-unit-layout/lecture-unit-layout.component';\r\nimport { TextUnitFormComponent } from '../text-unit-form/text-unit-form.component';\r\n\r\n@Component({\r\n    selector: 'jhi-create-text-unit',\r\n    templateUrl: './create-text-unit.component.html',\r\n    imports: [LectureUnitLayoutComponent, TextUnitFormComponent],\r\n})\r\nexport class CreateTextUnitComponent implements OnInit {\r\n    private activatedRoute = inject(ActivatedRoute);\r\n    private router = inject(Router);\r\n    private textUnitService = inject(TextUnitService);\r\n    private alertService = inject(AlertService);\r\n\r\n    textUnitToCreate: TextUnit = new TextUnit();\r\n    isLoading: boolean;\r\n    lectureId: number;\r\n    courseId: number;\r\n\r\n    ngOnInit(): void {\r\n        const lectureRoute = this.activatedRoute.parent!.parent!;\r\n        combineLatest([lectureRoute.paramMap, lectureRoute.parent!.paramMap]).subscribe(([params, parentParams]) => {\r\n            this.lectureId = Number(params.get('lectureId'));\r\n            this.courseId = Number(parentParams.get('courseId'));\r\n        });\r\n        this.textUnitToCreate = new TextUnit();\r\n    }\r\n\r\n    createTextUnit(formData: TextUnitFormData) {\r\n        if (!formData?.name) {\r\n            return;\r\n        }\r\n\r\n        const { name, releaseDate, content, competencyLinks } = formData;\r\n\r\n        this.textUnitToCreate.name = name;\r\n        this.textUnitToCreate.releaseDate = releaseDate;\r\n        this.textUnitToCreate.content = content;\r\n        this.textUnitToCreate.competencyLinks = competencyLinks || [];\r\n\r\n        this.isLoading = true;\r\n\r\n        this.textUnitService\r\n            .create(this.textUnitToCreate!, this.lectureId)\r\n            .pipe(\r\n                finalize(() => {\r\n                    this.isLoading = false;\r\n                }),\r\n            )\r\n            .subscribe({\r\n                next: () => {\r\n                    this.router.navigate(['../../'], { relativeTo: this.activatedRoute });\r\n                },\r\n                error: (res: HttpErrorResponse) => onError(this.alertService, res),\r\n            });\r\n    }\r\n}\r\n", "<jhi-lecture-unit-layout [isLoading]=\"isLoading\">\r\n    <jhi-text-unit-form [isEditMode]=\"false\" (formSubmitted)=\"createTextUnit($event)\" />\r\n</jhi-lecture-unit-layout>\r\n"],
  "mappings": "k6EAkBA,IAAaA,GAAuB,IAAA,CAA9B,MAAOA,CAAuB,CACxBC,eAAiBC,EAAOC,CAAc,EACtCC,OAASF,EAAOG,CAAM,EACtBC,gBAAkBJ,EAAOK,CAAe,EACxCC,aAAeN,EAAOO,CAAY,EAE1CC,iBAA6B,IAAIC,EACjCC,UACAC,UACAC,SAEAC,UAAQ,CACJ,IAAMC,EAAe,KAAKf,eAAegB,OAAQA,OACjDC,EAAc,CAACF,EAAaG,SAAUH,EAAaC,OAAQE,QAAQ,CAAC,EAAEC,UAAU,CAAC,CAACC,EAAQC,CAAY,IAAK,CACvG,KAAKT,UAAYU,OAAOF,EAAOG,IAAI,WAAW,CAAC,EAC/C,KAAKV,SAAWS,OAAOD,EAAaE,IAAI,UAAU,CAAC,CACvD,CAAC,EACD,KAAKd,iBAAmB,IAAIC,CAChC,CAEAc,eAAeC,EAA0B,CACrC,GAAI,CAACA,GAAUC,KACX,OAGJ,GAAM,CAAEA,KAAAA,EAAMC,YAAAA,EAAaC,QAAAA,EAASC,gBAAAA,CAAe,EAAKJ,EAExD,KAAKhB,iBAAiBiB,KAAOA,EAC7B,KAAKjB,iBAAiBkB,YAAcA,EACpC,KAAKlB,iBAAiBmB,QAAUA,EAChC,KAAKnB,iBAAiBoB,gBAAkBA,GAAmB,CAAA,EAE3D,KAAKlB,UAAY,GAEjB,KAAKN,gBACAyB,OAAO,KAAKrB,iBAAmB,KAAKG,SAAS,EAC7CmB,KACGC,EAAS,IAAK,CACV,KAAKrB,UAAY,EACrB,CAAC,CAAC,EAELQ,UAAU,CACPc,KAAMA,IAAK,CACP,KAAK9B,OAAO+B,SAAS,CAAC,QAAQ,EAAG,CAAEC,WAAY,KAAKnC,cAAc,CAAE,CACxE,EACAoC,MAAQC,GAA2BC,EAAQ,KAAK/B,aAAc8B,CAAG,EACpE,CACT,4CA/CStC,EAAuB,2BAAvBA,EAAuBwC,UAAA,CAAA,CAAA,sBAAA,CAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,WAAA,EAAA,CAAA,EAAA,gBAAA,YAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,IClBpCE,EAAA,EAAA,0BAAA,CAAA,EACIC,EAAA,EAAA;KAAA,EAAAD,EAAA,EAAA,qBAAA,CAAA,EAAyCE,EAAA,gBAAA,SAAAC,EAAA,CAAA,OAAiBJ,EAAArB,eAAAyB,CAAA,CAAsB,CAAA,EAAhFC,EAAA,EACJH,EAAA,EAAA;CAAA,EAAAG,EAAA,EACAH,EAAA,EAAA;CAAA,SAHyBI,EAAA,YAAAN,EAAAlC,SAAA,EACDyC,EAAA,CAAA,EAAAD,EAAA,aAAA,EAAA,kBDeVE,EAA4BC,CAAqB,EAAAC,cAAA,CAAA,CAAA,SAElDxD,CAAuB,GAAA",
  "names": ["CreateTextUnitComponent", "activatedRoute", "inject", "ActivatedRoute", "router", "Router", "textUnitService", "TextUnitService", "alertService", "AlertService", "textUnitToCreate", "TextUnit", "isLoading", "lectureId", "courseId", "ngOnInit", "lectureRoute", "parent", "combineLatest", "paramMap", "subscribe", "params", "parentParams", "Number", "get", "createTextUnit", "formData", "name", "releaseDate", "content", "competencyLinks", "create", "pipe", "finalize", "next", "navigate", "relativeTo", "error", "res", "onError", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275listener", "$event", "\u0275\u0275elementEnd", "\u0275\u0275property", "\u0275\u0275advance", "LectureUnitLayoutComponent", "TextUnitFormComponent", "encapsulation"]
}
