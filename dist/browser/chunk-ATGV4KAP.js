import{a as st,b as pt}from"./chunk-7YN5BABD.js";import{a as lt}from"./chunk-DIZEKHOC.js";import{a as rt}from"./chunk-OTCBNILH.js";import{a as ot}from"./chunk-LYZAUST5.js";import{d as et}from"./chunk-ZPITQMA6.js";import{b as at}from"./chunk-JNO6DNVW.js";import{K as B}from"./chunk-VZRSC3LP.js";import{a as it}from"./chunk-K3W6YFKH.js";import{d as G,f as nt}from"./chunk-EDXSOKK5.js";import{p as q}from"./chunk-DID2YGL7.js";import{Bd as tt,Nb as S,Vc as Y,eb as K,kb as J,u as X}from"./chunk-Z4VHWOB5.js";import{a as T}from"./chunk-U54OSGNH.js";import{i as $}from"./chunk-M6Z6DKZQ.js";import{c as W}from"./chunk-E2KBL4LX.js";import{n as H,s as L,t as Z}from"./chunk-IOA4DPXY.js";import{Db as r,Dc as k,Ea as h,Fb as O,Id as Q,La as b,Ma as D,Mc as z,Na as j,Oc as c,Pc as F,Qc as P,Rc as y,Tb as C,Xc as R,Za as _,Zb as x,Zc as N,_c as U,dd as t,ed as E,fd as m,jc as w,kc as p,rd as g,sc as f,sd as V,wb as M,xc as e,yc as n,yd as I,zc as l,zd as A}from"./chunk-5LC5EQRR.js";var dt=["*"],ut=(()=>{class a{headerIcon=_(S);headline=_("Title");static \u0275fac=function(s){return new(s||a)};static \u0275cmp=C({type:a,selectors:[["jhi-icon-card"]],inputs:{headerIcon:[1,"headerIcon"],headline:[1,"headline"]},ngContentSelectors:dt,decls:17,vars:2,consts:[[1,"icon-card","card","h-100"],[1,"card-body"],[1,"text-center","d-flex","align-items-center","justify-content-center"],["size","lg",1,"text-secondary","me-2",3,"icon"],[1,"icon-card-title","text-secondary","mb-0",3,"jhiTranslate"]],template:function(s,i){s&1&&(F(),e(0,"div",0),t(1,`
    `),e(2,"div",1),t(3,`
        `),e(4,"div",2),t(5,`
            `),l(6,"fa-icon",3),t(7,`
            `),l(8,"strong",4),t(9,`
        `),n(),t(10,`

        `),l(11,"hr"),t(12,`

        `),P(13),t(14,`
    `),n(),t(15,`
`),n(),t(16,`
`)),s&2&&(r(6),p("icon",i.headerIcon()),r(2),p("jhiTranslate",i.headline()))},dependencies:[T,nt,G],encapsulation:2})}return a})();var ct=a=>({$implicit:a}),xt=a=>["/courses",a,"communication"],ft=a=>({conversationId:a}),ht=(a,u)=>({"bg-warning":a,"bg-danger":u}),gt=a=>({width:a});function vt(a,u){}function Ct(a,u){if(a&1&&(t(0,`
        `),x(1,vt,0,0,"ng-template",24),t(2,`
        `),l(3,"hr"),t(4,`
    `)),a&2){let o=c();r(),p("ngTemplateOutlet",o.header)("ngTemplateOutletContext",g(2,ct,o.tutorialGroup))}}function St(a,u){if(a&1&&(t(0,`
                                `),e(1,"a",26),t(2),n(),t(3,`
                            `)),a&2){let o=c(2);r(),p("routerLink",g(3,xt,o.course.id))("queryParams",g(5,ft,o.tutorialGroup.channel.id)),r(),m(`
                                    `,o.tutorialGroup.channel.name,`
                                `)}}function Gt(a,u){if(a&1&&(t(0,`
                                `),e(1,"span"),t(2),n(),t(3,`
                            `)),a&2){let o=c(2);r(2),m(" ",o.tutorialGroup.channel.name," ")}}function Tt(a,u){if(a&1&&(t(0,`
                        `),e(1,"div"),t(2,`
                            `),l(3,"span",25),e(4,"span",8),t(5,":"),n(),t(6,`
                            `),x(7,St,4,7)(8,Gt,4,1),n(),t(9,`
                    `)),a&2){let o=c();r(7),f(o.tutorialGroup.channel.isMember?7:8)}}function _t(a,u){if(a&1&&(t(0,`
                            `),e(1,"div",27),t(2,`
                                `),e(3,"div",28),t(4),n(),t(5,`
                            `),n(),t(6,`
                        `)),a&2){let o=c();r(),w("aria-valuenow",o.utilization),r(2),p("ngClass",V(4,ht,o.utilization>=60&&o.utilization<90,o.utilization>=90))("ngStyle",g(7,gt,o.utilization+"%")),r(),m(`
                                    `,o.utilization,`%
                                `)}}function yt(a,u){a&1&&(t(0,`
                            `),e(1,"div",29),t(2,`
                                `),e(3,"div",30),t(4,"-"),n(),t(5,`
                            `),n(),t(6,`
                        `))}function Et(a,u){if(a&1&&(t(0,`
                            `),l(1,"fa-icon",31),t(2,`
                            `),l(3,"span",32),t(4,`
                        `)),a&2){let o=c();r(),p("icon",o.faCircle)}}function It(a,u){if(a&1&&(t(0,`
                            `),l(1,"fa-icon",33),t(2,`
                            `),l(3,"span",34),t(4,`
                        `)),a&2){let o=c();r(),p("icon",o.faCircleXmark)}}function At(a,u){if(a&1&&(t(0,`
            `),e(1,"div",35),t(2,`
                `),e(3,"div",36),t(4,`
                    `),e(5,"div",37),t(6,`
                        `),e(7,"div"),l(8,"span",38),e(9,"span",8),t(10,":"),n()(),t(11,`

                        `),l(12,"div",39),t(13,`
                    `),n(),t(14,`
                `),n(),t(15,`
            `),n(),t(16,`
        `)),a&2){let o=c();r(12),p("innerHTML",o.formattedAdditionalInformation,M)}}function bt(a,u){if(a&1){let o=k();t(0,`
        `),e(1,"div",40),t(2,`
            `),e(3,"jhi-tutorial-group-sessions-table",41),z("attendanceUpdated",function(){D(o);let i=c();return j(i.recalculateAttendanceDetails())}),n(),t(4,`
        `),n(),t(5,`
    `)}if(a&2){let o=c();r(3),p("timeZone",o.timeZone)("sessions",o.sessions)("tutorialGroup",o.tutorialGroup)("showIdColumn",!1)("isReadOnly",!o.course.isAtLeastTutor)}}function Dt(a,u){a&1&&(t(0,`
        `),e(1,"span"),t(2),n(),t(3,`
    `)),a&2&&(r(2),E("-"))}var le=(()=>{class a{artemisMarkdownService=h(lt);changeDetectorRef=h(Q);translateService=h(W);sortService=h(rt);header;timeZone=void 0;tutorialGroup;course;formattedAdditionalInformation;Math=Math;sessions=[];tutorialTimeslotString;isMessagingEnabled;utilization;faUserCheck=X;faPercent=Y;faCircleInfo=S;faQuestionCircle=J;faCircle=K;faCircleXmark=tt;ngOnChanges(o){for(let s in o)if(o.hasOwnProperty(s)&&s==="tutorialGroup"){let i=o[s];i.currentValue&&i.currentValue.additionalInformation&&(this.formattedAdditionalInformation=this.artemisMarkdownService.safeHtmlForMarkdown(this.tutorialGroup.additionalInformation)),i.currentValue&&i.currentValue.tutorialGroupSessions&&(this.sessions=i.currentValue.tutorialGroupSessions),this.changeDetectorRef.detectChanges()}this.getTutorialDetail()}getTutorialTimeSlotString(){if(!this.tutorialGroup.tutorialGroupSchedule)return;let o=this.translateService.instant(at(this.tutorialGroup.tutorialGroupSchedule?.dayOfWeek)),s=this.tutorialGroup.tutorialGroupSchedule?.startTime?.split(":").slice(0,2).join(":"),i=this.tutorialGroup.tutorialGroupSchedule?.endTime?.split(":").slice(0,2).join(":"),d=this.translateService.instant(this.tutorialGroup.tutorialGroupSchedule.repetitionFrequency===1?"artemisApp.entities.tutorialGroupSchedule.repetitionOneWeek":"artemisApp.entities.tutorialGroupSchedule.repetitionNWeeks",{n:this.tutorialGroup.tutorialGroupSchedule.repetitionFrequency});return`${o} ${s}-${i}, ${d}`}getTutorialDetail(){let o=this.tutorialGroup;this.isMessagingEnabled=et(this.course),o.averageAttendance&&o.capacity?this.utilization=Math.round(o.averageAttendance/o.capacity*100):this.utilization=void 0,this.tutorialTimeslotString=this.getTutorialTimeSlotString()}recalculateAttendanceDetails(){let o=this.tutorialGroup.tutorialGroupSessions?.filter(i=>i.status===st.ACTIVE&&q().isAfter(i.end))??[];o=this.sortService.sortByProperty(o,"start",!1);let s=o.slice(0,3).filter(i=>i.attendanceCount!==void 0);if(s.length){let i=s.map(d=>d.attendanceCount??0).reduce((d,v)=>d+v)/s.length;this.tutorialGroup.averageAttendance=Math.round(i)}this.getTutorialDetail()}static \u0275fac=function(s){return new(s||a)};static \u0275cmp=C({type:a,selectors:[["jhi-tutorial-group-detail"]],contentQueries:function(s,i,d){if(s&1&&R(d,O,7),s&2){let v;N(v=U())&&(i.header=v.first)}},inputs:{timeZone:"timeZone",tutorialGroup:"tutorialGroup",course:"course"},features:[b],decls:129,vars:30,consts:[[1,"tutorial-group-detail"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-4"],["headline","artemisApp.entities.tutorialGroup.teachingAssistant",3,"headerIcon"],[1,"text-center"],[1,"mb-2"],["imageSizeInRem","4.5","fontSizeInRem","2","imageId","tutor-profile-picture","defaultPictureId","tutor-default-profile-picture",3,"authorId","authorName","imageUrl"],["jhiTranslate","artemisApp.entities.tutorialGroup.name",1,"text-secondary"],[1,"text-secondary"],[1,"col-12","col-lg-4","mt-3","mt-lg-0"],["headline","artemisApp.entities.tutorialGroup.utilization",3,"headerIcon"],["jhiTranslate","artemisApp.entities.tutorialGroup.averageAttendanceDetail",1,"text-secondary"],[1,"text-secondary",3,"icon","ngbTooltip"],["jhiTranslate","artemisApp.entities.tutorialGroup.capacity",1,"text-secondary"],["jhiTranslate","artemisApp.entities.tutorialGroup.registrations",1,"text-secondary"],[1,"mt-2"],["jhiTranslate","artemisApp.entities.tutorialGroup.utilization",1,"text-secondary"],["headline","artemisApp.entities.tutorialGroup.information",3,"headerIcon"],["jhiTranslate","artemisApp.entities.tutorialGroup.language",1,"text-secondary"],["jhiTranslate","artemisApp.entities.tutorialGroup.campus",1,"text-secondary"],["jhiTranslate","artemisApp.entities.tutorialGroup.schedule",1,"text-secondary"],[1,"text-secondary",3,"jhiTranslate"],[1,"mt-3"],["jhiTranslate","artemisApp.entities.tutorialGroup.sessions"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["jhiTranslate","artemisApp.entities.tutorialGroup.channel",1,"text-secondary"],[3,"routerLink","queryParams"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress"],[1,"progress-bar",3,"ngClass","ngStyle"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress"],[1,"progress-bar","bg-secondary",2,"width","100%"],[1,"text-success",3,"icon"],["jhiTranslate","artemisApp.entities.tutorialGroup.isOnline",1,"text-success"],[1,"text-secondary",3,"icon"],["jhiTranslate","artemisApp.entities.tutorialGroup.isNotOnline",1,"text-secondary"],[1,"col-12","mt-3"],[1,"card"],[1,"card-body"],["jhiTranslate","artemisApp.entities.tutorialGroup.additionalInformation",1,"text-secondary"],[1,"markdown-preview",3,"innerHTML"],[1,"scrollbar","table-wrapper-scroll-y","border","border-lightgrey","p-3"],[3,"attendanceUpdated","timeZone","sessions","tutorialGroup","showIdColumn","isReadOnly"]],template:function(s,i){if(s&1&&(e(0,"div",0),t(1,`
    `),e(2,"h2"),t(3),n(),t(4,`
    `),l(5,"hr"),t(6,`
    `),x(7,Ct,5,4),e(8,"div",1),t(9,`
        `),e(10,"div",2),t(11,`
            `),e(12,"jhi-icon-card",3),t(13,`
                `),e(14,"div",4),t(15,`
                    `),e(16,"div",5),t(17,`
                        `),l(18,"jhi-profile-picture",6),t(19,`
                    `),n(),t(20,`

                    `),e(21,"div"),t(22,`
                        `),l(23,"span",7),e(24,"span",8),t(25,":"),n(),t(26),n(),t(27,`

                    `),x(28,Tt,10,1),n(),t(29,`
            `),n(),t(30,`
        `),n(),t(31,`

        `),e(32,"div",9),t(33,`
            `),e(34,"jhi-icon-card",10),t(35,`
                `),e(36,"div"),t(37,`
                    `),e(38,"div"),t(39,`
                        `),l(40,"span",11),e(41,"span",8),t(42,":"),n(),t(43),l(44,"fa-icon",12),I(45,"artemisTranslate"),t(46,`
                    `),n(),t(47,`

                    `),e(48,"div"),t(49,`
                        `),l(50,"span",13),e(51,"span",8),t(52,":"),n(),t(53),n(),t(54,`

                    `),e(55,"div"),t(56,`
                        `),l(57,"span",14),e(58,"span",8),t(59,":"),n(),t(60),n(),t(61,`

                    `),e(62,"div",15),t(63,`
                        `),l(64,"span",16),e(65,"span",8),t(66,":"),n(),t(67,`
                        `),l(68,"fa-icon",12),I(69,"artemisTranslate"),t(70,`

                        `),x(71,_t,7,9)(72,yt,7,0),n(),t(73,`
                `),n(),t(74,`
            `),n(),t(75,`
        `),n(),t(76,`

        `),e(77,"div",9),t(78,`
            `),e(79,"jhi-icon-card",17),t(80,`
                `),e(81,"div"),t(82,`
                    `),e(83,"div"),t(84,`
                        `),l(85,"span",18),e(86,"span",8),t(87,":"),n(),t(88),n(),t(89,`

                    `),e(90,"div"),t(91,`
                        `),l(92,"span",19),e(93,"span",8),t(94,":"),n(),t(95),n(),t(96,`

                    `),e(97,"div"),t(98,`
                        `),l(99,"span",20),e(100,"span",8),t(101,":"),n(),t(102),n(),t(103,`

                    `),e(104,"div",15),t(105,`
                        `),l(106,"span",21),e(107,"span",8),t(108,":"),n(),t(109),n(),t(110,`

                    `),e(111,"div"),t(112,`
                        `),x(113,Et,5,1)(114,It,5,1),n(),t(115,`
                `),n(),t(116,`
            `),n(),t(117,`
        `),n(),t(118,`

        `),x(119,At,17,1),n(),t(120,`
    `),e(121,"div",22),t(122,`
        `),l(123,"strong",23),t(124,`
    `),n(),t(125,`
    `),x(126,bt,6,5)(127,Dt,4,1),n(),t(128,`
`)),s&2){let d;r(3),E(i.tutorialGroup.title),r(4),f(i.header?7:-1),r(5),p("headerIcon",i.faUserCheck),r(6),p("authorId",i.tutorialGroup.teachingAssistantId)("authorName",i.tutorialGroup.teachingAssistantName)("imageUrl",i.tutorialGroup.teachingAssistantImageUrl),r(8),m(`
                        `,i.tutorialGroup.teachingAssistantName,`
                    `),r(2),f(i.tutorialGroup.channel&&i.isMessagingEnabled?28:-1),r(6),p("headerIcon",i.faPercent),r(9),m(`
                        `,(d=i.tutorialGroup.averageAttendance&&i.Math.round(i.tutorialGroup.averageAttendance))!==null&&d!==void 0?d:"-",`
                        `),r(),y("ngbTooltip",A(45,26,"artemisApp.entities.tutorialGroup.averageAttendanceHelpDetail")),p("icon",i.faQuestionCircle),r(9),m(`
                        `,i.tutorialGroup.capacity,`
                    `),r(7),m(`
                        `,!i.tutorialGroup.numberOfRegisteredUsers||i.tutorialGroup.numberOfRegisteredUsers===0?"-":i.tutorialGroup.numberOfRegisteredUsers,`
                    `),r(8),y("ngbTooltip",A(69,28,"artemisApp.entities.tutorialGroup.utilizationHelpDetail")),p("icon",i.faQuestionCircle),r(3),f(i.utilization?71:72),r(8),p("headerIcon",i.faCircleInfo),r(9),m(`
                        `,i.tutorialGroup.language,`
                    `),r(7),m(`
                        `,i.tutorialGroup.campus,`
                    `),r(7),m(`
                        `,i.tutorialTimeslotString,`
                    `),r(4),p("jhiTranslate",i.tutorialGroup.isOnline?"artemisApp.forms.scheduleForm.locationInput.labelOnline":"artemisApp.forms.scheduleForm.locationInput.labelOffline"),r(3),m(`

                        `,i.tutorialGroup.tutorialGroupSchedule==null?null:i.tutorialGroup.tutorialGroupSchedule.location,`
                    `),r(4),f(i.tutorialGroup.isOnline?113:114),r(6),f(i.formattedAdditionalInformation?119:-1),r(7),f(i.sessions&&i.sessions.length?126:127)}},dependencies:[Z,ut,ot,T,$,G,B,H,L,pt,it],styles:[".tutorial-group-detail[_ngcontent-%COMP%]   .scrollbar[_ngcontent-%COMP%]{position:relative;max-height:1000px;overflow:auto}.tutorial-group-detail[_ngcontent-%COMP%]   .table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.tutorial-group-detail[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]{margin-bottom:-1rem}"]})}return a})();export{le as a};
//# sourceMappingURL=chunk-ATGV4KAP.js.map
