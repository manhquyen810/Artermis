import{a as f}from"./chunk-GG62Q4DZ.js";import{b as p}from"./chunk-R5BZWVRQ.js";import{a as u,b as v}from"./chunk-HKBU2OOC.js";import{O as g}from"./chunk-IOA4DPXY.js";import{Ea as r,Kb as s,Vb as a,ya as n}from"./chunk-5LC5EQRR.js";var l=function(e){return e.LECTURE__OPEN="LECTURE__OPEN",e.LECTURE__OPEN_UNIT="LECTURE__OPEN_UNIT",e.EXERCISE__OPEN="EXERCISE__OPEN",e}(l||{}),c=class{type;resourceId};var S=(()=>{class e{httpClient=r(g);featureToggleService=r(v);scienceSettingsService=r(f);accountService=r(p);resourceURL="api/atlas";featureToggleActive=!1;constructor(){this.scienceSettingsService.getScienceSettingsUpdates(),this.accountService.getAuthenticationState().subscribe(t=>this.onUserIdentityChange(t)),this.featureToggleService.getFeatureToggleActive(u.Science).subscribe(t=>{this.featureToggleActive=t})}onUserIdentityChange(t){t&&this.scienceSettingsService.refreshScienceSettings()}eventLoggingActive(){return this.featureToggleActive&&this.scienceSettingsService.eventLoggingAllowed()}logEvent(t,i){if(!this.eventLoggingActive())return;let o=new c;o.type=t,i&&(o.resourceId=i),this.httpClient.put(`${this.resourceURL}/science`,o,{observe:"response"}).subscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var F=(()=>{class e{type;resourceId;scienceService=r(S);constructor(t,i){this.type=t,this.resourceId=i}setResourceId(t){this.resourceId=t}logEvent(){this.scienceService.logEvent(this.type,this.resourceId)}static \u0275fac=function(i){s()};static \u0275dir=a({type:e})}return e})();export{l as a,F as b};
//# sourceMappingURL=chunk-KIXGOQMJ.js.map
