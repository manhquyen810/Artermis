import{a,b as N}from"./chunk-GERFCPB6.js";var T=function(e){return e.RED="rgba(219, 53, 69, 0.6)",e.CYAN="rgba(23, 162, 184, 0.3)",e.BLUE="rgba(0, 123, 255, 0.6)",e.YELLOW="rgba(255, 193, 7, 0.6)",e.GREEN="rgba(40, 167, 69, 0.6)",e}(T||{}),u=function(e){return e.AUTOMATIC="AUTOMATIC",e.MANUAL="MANUAL",e.MANUAL_UNREFERENCED="MANUAL_UNREFERENCED",e.AUTOMATIC_ADAPTED="AUTOMATIC_ADAPTED",e}(u||{}),I=function(e){return e.NO_SUGGESTION="NO_SUGGESTION",e.SUGGESTED="SUGGESTED",e.ACCEPTED="ACCEPTED",e.ADAPTED="ADAPTED",e}(I||{}),d="SCAFeedbackIdentifier:",C="SubPolFeedbackIdentifier:",o="FeedbackSuggestion:",R="FeedbackSuggestion:accepted:",c="FeedbackSuggestion:adapted:",S="NonGradedFeedbackSuggestion:";var g=(()=>{class e{id;gradingInstruction;text;detailText;hasLongFeedbackText;reference;credits;type;result;positive;testCase;correctionStatus;referenceType;referenceId;copiedFeedbackId;isSubsequent;static PROGRAMMING_REFERENCE_PREFIX="file:";static PROGRAMMING_REFERENCE_LINE_SEPERATOR="_line:";constructor(){this.credits=0}static isTestCaseFeedback(t){return t.type!==u.AUTOMATIC?!1:!!t.testCase}static isStaticCodeAnalysisFeedback(t){return t.text?t.type===u.AUTOMATIC&&t.text.startsWith(d):!1}static isSubmissionPolicyFeedback(t){return t.text?t.type===u.AUTOMATIC&&t.text.startsWith(C):!1}static isFeedbackSuggestion(t){return t.text?t.text.startsWith(o):!1}static isNonGradedFeedbackSuggestion(t){return t.text?t.text.startsWith(S):!1}static getFeedbackSuggestionType(t){return e.isFeedbackSuggestion(t)?t.text.startsWith(R)?I.ACCEPTED:t.text.startsWith(c)?I.ADAPTED:I.SUGGESTED:I.NO_SUGGESTION}static hasDetailText(t){return t.detailText!=null&&t.detailText.length>0}static hasContent(t){return e.hasDetailText(t)||!!t.gradingInstruction?.feedback}static areIdentical(t,n){return t.id===n.id&&t.text===n.text&&t.detailText===n.detailText}static getReferenceFilePath(t){if(!t.reference?.startsWith(this.PROGRAMMING_REFERENCE_PREFIX))return;let n=t.reference?.lastIndexOf(this.PROGRAMMING_REFERENCE_LINE_SEPERATOR);return t.reference.substring(this.PROGRAMMING_REFERENCE_PREFIX.length,n)}static getReferenceLine(t){if(!t.reference?.startsWith(this.PROGRAMMING_REFERENCE_PREFIX))return;let n=t.reference.lastIndexOf(this.PROGRAMMING_REFERENCE_LINE_SEPERATOR),r=parseInt(t.reference.substring(n+this.PROGRAMMING_REFERENCE_LINE_SEPERATOR.length));if(!isNaN(r))return r}static isEmpty(t){return!t.credits&&!e.hasContent(t)}static isPresent(t){return!e.isEmpty(t)}static hasCreditsAndComment(t){return t.credits!=null&&e.hasContent(t)}static haveCredits(t){return t.filter(e.hasCredits).length>0&&t.filter(e.hasCredits).length===t.length}static hasCredits(t){return t.credits!=null}static haveCreditsAndComments(t){return t.filter(e.hasCreditsAndComment).length>0&&t.filter(e.hasCreditsAndComment).length===t.length}static forModeling(t,n,r,i,A){let E=new e;return E.referenceId=r,E.referenceType=i,E.credits=t,E.text=n,A?.instruction?.id&&(E.gradingInstruction=A.instruction),i&&r&&(E.reference=i+":"+r),E}static forText(t,n=0,r){let i=new e;return i.reference=t.id,i.credits=n,i.detailText=r,i.referenceId=void 0,i.referenceType=void 0,i.text=void 0,i.positive=void 0,i}static fromServerResponse(t){return Object.assign(new e,t)}static updateFeedbackTypeOnChange(t){e.isFeedbackSuggestion(t)&&(t.text=(t.text??R).replace(R,c))}}return e})(),x=(e,s=!0)=>{let t="";return e.gradingInstruction?.feedback?(t=e.gradingInstruction.feedback,e.detailText&&(t=t+`
`+e.detailText),s&&e.text&&(t=t+`
`+e.text)):e.detailText?t=e.detailText:s&&e.text&&(t=e.text),t=a(t),N(t)},G=e=>{let s={};for(let t of e)if(t.gradingInstruction&&t.gradingInstruction.credits!==0)if(s[t.gradingInstruction.id]){let n=t.gradingInstruction.usageCount,r=s[t.gradingInstruction.id];n&&n>0&&(r>=n&&(t.isSubsequent=!0),s[t.gradingInstruction.id]=r+1)}else s[t.gradingInstruction.id]=1};export{T as a,u as b,I as c,d,C as e,o as f,R as g,c as h,S as i,g as j,x as k,G as l};
//# sourceMappingURL=chunk-3JSWSN6W.js.map
