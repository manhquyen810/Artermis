import{b as M}from"./chunk-5UAVAJ2C.js";import{a as j}from"./chunk-YQV2OFKP.js";import"./chunk-GJB34RKX.js";import{a as L}from"./chunk-CNZ75VIL.js";import"./chunk-7MKMUXV6.js";import"./chunk-KVEPPZB4.js";import"./chunk-DOLVNMRR.js";import"./chunk-RTOKZMYN.js";import"./chunk-5QODR5GQ.js";import"./chunk-RNPAFOPW.js";import"./chunk-KZGAUMRM.js";import"./chunk-656XE4CO.js";import"./chunk-YGSJB6WY.js";import"./chunk-O2WHE2S3.js";import"./chunk-JJUII2KT.js";import"./chunk-U4DJRHYQ.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-PNTOXB52.js";import"./chunk-Z2YUBN6N.js";import"./chunk-AO5E7TEY.js";import"./chunk-TECMX7AA.js";import"./chunk-VWRLJYRR.js";import"./chunk-2QXIMOEO.js";import"./chunk-QH7SWO42.js";import"./chunk-P2M2VQE3.js";import"./chunk-GXOKLIFX.js";import"./chunk-5JBXU6VG.js";import"./chunk-4I367PEU.js";import"./chunk-ZPITQMA6.js";import"./chunk-HK7MJBP6.js";import"./chunk-2CUFQLAH.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import{c}from"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-DRSQQEUE.js";import"./chunk-7XXWL6ER.js";import"./chunk-VK7JPHFE.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import"./chunk-K3W6YFKH.js";import"./chunk-TL3DYXRE.js";import"./chunk-JXJXC4DZ.js";import"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as P}from"./chunk-U54OSGNH.js";import"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{A as l,Db as C,Dc as E,Ea as x,F as h,Ma as v,Mc as T,Na as y,Oc as m,Qa as g,Tb as S,W as f,Xb as _,Zb as b,aa as p,dd as i,kc as D,oa as q,sc as I,xc as n,yc as a,zc as d}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";function V(r,O){r&1&&(i(0,`
    `),n(1,"div",0),i(2,`
        `),n(3,"div",1),i(4,`
            `),d(5,"span",2),i(6,`
        `),a(),i(7,`
    `),a(),i(8,`
`))}function W(r,O){if(r&1){let t=E();i(0,`
    `),n(1,"div",3),i(2,`
        `),d(3,"h3",4),i(4,`
        `),n(5,"jhi-prerequisite-form",5),T("formSubmitted",function(s){v(t);let o=m();return y(o.updateCompetency(s))}),a(),i(6,`
    `),a(),i(7,`
`)}if(r&2){let t,e=m();C(5),D("isEditMode",!0)("formData",e.formData)("courseId",e.courseId)("lecturesOfCourseWithLectureUnits",e.lecturesWithLectureUnits)("averageStudentScore",(t=e.prerequisite==null||e.prerequisite.courseProgress==null?null:e.prerequisite.courseProgress.averageStudentScore)!==null&&t!==void 0?t:0)("prerequisite",e.prerequisite)}}var Q=(()=>{class r extends j{prerequisiteService=x(L);prerequisite;formData;ngOnInit(){super.ngOnInit(),this.isLoading=!0,l([this.activatedRoute.paramMap,this.activatedRoute.parent.parent.paramMap]).pipe(f(1),q(([t,e])=>{let s=Number(t.get("prerequisiteId"));this.courseId=Number(e.get("courseId"));let o=this.prerequisiteService.findById(s,this.courseId),u=this.prerequisiteService.getCourseProgress(s,this.courseId);return h([o,u])}),p(()=>this.isLoading=!1)).subscribe({next:([t,e])=>{t.body&&(this.prerequisite=t.body,e.body&&(this.prerequisite.courseProgress=e.body)),this.formData={id:this.prerequisite.id,title:this.prerequisite.title,description:this.prerequisite.description,softDueDate:this.prerequisite.softDueDate,taxonomy:this.prerequisite.taxonomy,masteryThreshold:this.prerequisite.masteryThreshold,optional:this.prerequisite.optional}},error:t=>c(this.alertService,t)})}updateCompetency(t){let{title:e,description:s,softDueDate:o,taxonomy:u,masteryThreshold:F,optional:w}=t;this.prerequisite.title=e,this.prerequisite.description=s,this.prerequisite.softDueDate=o,this.prerequisite.taxonomy=u,this.prerequisite.masteryThreshold=F,this.prerequisite.optional=w,this.isLoading=!0,this.prerequisiteService.update(this.prerequisite,this.courseId).pipe(p(()=>{this.isLoading=!1,this.router.navigate(["../../../competency-management/"],{relativeTo:this.activatedRoute})})).subscribe({error:U=>c(this.alertService,U)})}static \u0275fac=(()=>{let t;return function(s){return(t||(t=g(r)))(s||r)}})();static \u0275cmp=S({type:r,selectors:[["jhi-edit-prerequisite"]],features:[_],decls:2,vars:1,consts:[[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],["jhiTranslate","loading",1,"sr-only"],[1,"container"],["jhiTranslate","artemisApp.prerequisite.edit.title"],[3,"formSubmitted","isEditMode","formData","courseId","lecturesOfCourseWithLectureUnits","averageStudentScore","prerequisite"]],template:function(e,s){e&1&&b(0,V,9,0)(1,W,8,6),e&2&&I(s.isLoading?0:1)},dependencies:[M,P],encapsulation:2})}return r})();export{Q as EditPrerequisiteComponent};
//# sourceMappingURL=edit-prerequisite.component-TMX5G3YK.js.map
