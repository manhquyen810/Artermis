import{a as be}from"./chunk-R56P6PAY.js";import{c as ve}from"./chunk-65Z25AP3.js";import{a as W}from"./chunk-5M3YV54C.js";import{a as V}from"./chunk-VPHPBAVR.js";import{c as Ce,d as _e,k as g,l as K,t as z,u as Se,w as Z,x as H}from"./chunk-5AQXEKLE.js";import{a as Be}from"./chunk-7XNS72RJ.js";import{a as Ie}from"./chunk-KYCCMZSV.js";import{e as Te}from"./chunk-DXTZ4GAW.js";import{l as ge}from"./chunk-Z2YUBN6N.js";import{a as ce,c as me,e as de}from"./chunk-CK7FH6VF.js";import{b as ue,d as Q}from"./chunk-G4I63THF.js";import{a as y}from"./chunk-PZ7IDTIM.js";import{f as he}from"./chunk-CT44YL7Q.js";import{c as fe}from"./chunk-JNO6DNVW.js";import{K as M,L as ne,v as se}from"./chunk-VZRSC3LP.js";import{a as U}from"./chunk-K3W6YFKH.js";import{d as k,f as xe}from"./chunk-EDXSOKK5.js";import{p as B}from"./chunk-DID2YGL7.js";import{c as S,k as q}from"./chunk-CXQURQM5.js";import{G as oe,qc as le,wd as pe,y as N}from"./chunk-Z4VHWOB5.js";import{a as re}from"./chunk-NOBD5HSR.js";import{a as G}from"./chunk-U54OSGNH.js";import{h as ie}from"./chunk-M6Z6DKZQ.js";import{c as ae}from"./chunk-E2KBL4LX.js";import{E as te,n as O,x as ee}from"./chunk-IOA4DPXY.js";import{Ac as J,Bc as Y,Db as s,Dc as P,Ea as T,La as X,Ma as E,Mc as w,Na as D,Oc as o,Rc as F,Rd as $,Tb as A,Za as v,Zb as d,dd as i,fd as _,kc as p,lc as R,mc as j,oc as b,rd as I,sc as m,xc as u,yc as c,yd as x,zc as l,zd as h}from"./chunk-5LC5EQRR.js";function ye(t,a,e,r,n,f){let C={exercise:t,result:a};return a.participation||(a.participation=e),t&&(C.exerciseType=t.type,C.showScoreChart=!0),r===g.MISSING&&(C.messageKey="artemisApp.result.notLatestSubmission"),a?.assessmentType===y.AUTOMATIC&&t?.type===S.PROGRAMMING&&Te(t,e)&&Fe(n,f,C,t),C}function Fe(t,a,e,r){t?Re(t,e):a.getLatestDueDate(r.id).subscribe(n=>{n&&Re(n,e)})}function Re(t,a){a.latestDueDate=t,a.showMissingAutomaticFeedbackInformation=B().isBefore(t)}var Me=t=>({"rounded-3 p-1 border border-1 bg-module fw-semibold":t}),Ee=t=>({"no-transition":t});function Ne(t,a){t&1&&(i(0,`
            `),l(1,"span",8),i(2,`
        `))}function Qe(t,a){t&1&&(i(0,`
            `),l(1,"span",9),i(2,`
        `))}function Ue(t,a){if(t&1&&(i(0,`
            `),u(1,"span"),i(2),x(3,"artemisDurationFromSeconds"),c(),i(4,`
        `)),t&2){let e=o();s(2),_(" ",h(3,1,e.estimatedRemaining()),"")}}var De=(()=>{class t{estimatedRemaining=v(0);estimatedDuration=v(0);isBuilding=v.required();isQueued=v.required();showBorder=v(!1);isQueueProgressBarAnimated;queueProgressBarOpacity;queueProgressBarValue;isBuildProgressBarAnimated;buildProgressBarOpacity;buildProgressBarValue;estimatedDurationInterval;faCircleNotch=N;constructor(){$(()=>{this.cleanUpIfNotBuildingOrQueued()&&(clearInterval(this.estimatedDurationInterval),this.updateProgressBarState())})}updateProgressBarState(){this.estimatedDuration()&&this.estimatedRemaining()?this.isBuilding()?(this.setupQueueProgressBarForBuild(),this.updateBuildProgressBar()):this.isQueued()&&(this.setupBuildProgressBarForQueued(),this.updateQueueProgressBar()):(this.isBuilding()?(this.setupQueueProgressBarForBuild(),this.isBuildProgressBarAnimated=!1,this.buildProgressBarValue=100):this.isQueued()&&(this.setupBuildProgressBarForQueued(),this.isQueueProgressBarAnimated=!1,this.queueProgressBarValue=100),this.estimatedDurationInterval=setInterval(()=>{this.alternateOpacity(this.isQueued())},1e3))}cleanUpIfNotBuildingOrQueued(){return!this.isBuilding()&&!this.isQueued()&&(this.estimatedDurationInterval&&(clearInterval(this.estimatedDurationInterval),this.estimatedDurationInterval=void 0),this.isQueueProgressBarAnimated=!1),!0}ngOnDestroy(){this.estimatedDurationInterval&&clearInterval(this.estimatedDurationInterval)}setupBuildProgressBarForQueued(){this.isBuildProgressBarAnimated=!0,this.buildProgressBarOpacity=1,this.buildProgressBarValue=0}setupQueueProgressBarForBuild(){this.isQueueProgressBarAnimated=!0,this.queueProgressBarOpacity=1,this.queueProgressBarValue=100}updateQueueProgressBar(){if(this.isQueueProgressBarAnimated=!0,this.queueProgressBarOpacity=1,this.estimatedDuration()===0){this.queueProgressBarValue=100;return}this.queueProgressBarValue=Math.round((1-this.estimatedRemaining()/this.estimatedDuration())*100)}updateBuildProgressBar(){if(this.isBuildProgressBarAnimated=!0,this.buildProgressBarOpacity=1,this.estimatedDuration()===0){this.buildProgressBarValue=100;return}this.buildProgressBarValue=Math.round((1-this.estimatedRemaining()/this.estimatedDuration())*100)}alternateOpacity(e){e?this.queueProgressBarOpacity=this.queueProgressBarOpacity===1?0:1:this.buildProgressBarOpacity=this.buildProgressBarOpacity===1?0:1}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["jhi-result-progress-bar"]],inputs:{estimatedRemaining:[1,"estimatedRemaining"],estimatedDuration:[1,"estimatedDuration"],isBuilding:[1,"isBuilding"],isQueued:[1,"isQueued"],showBorder:[1,"showBorder"]},decls:25,vars:27,consts:[[1,"mw-custom","text-nowrap",3,"ngClass","ngbTooltip"],[1,"mb-1","progress-bar-status-text"],["animation","spin",1,"me-1",3,"icon"],[1,"d-flex","justify-content-center","align-items-center","gap-2","w-100"],["role","progressbar",1,"progress","w-25"],[1,"progress-bar","progress-bar-striped","bg-warning",3,"ngClass"],["role","progressbar",1,"progress","w-75"],[1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngClass"],["jhiTranslate","artemisApp.editor.queued"],["jhiTranslate","artemisApp.editor.building"]],template:function(r,n){r&1&&(u(0,"div",0),x(1,"artemisTranslate"),i(2,`
    `),u(3,"div",1),i(4,`
        `),l(5,"fa-icon",2),i(6,`
        `),d(7,Ne,3,0)(8,Qe,3,0)(9,Ue,5,3),c(),i(10,`
    `),u(11,"div",3),i(12,`
        `),u(13,"div",4),i(14,`
            `),l(15,"div",5),i(16,`
        `),c(),i(17,`
        `),u(18,"div",6),i(19,`
            `),l(20,"div",7),i(21,`
        `),c(),i(22,`
    `),c(),i(23,`
`),c(),i(24,`
`)),r&2&&(p("ngClass",I(21,Me,n.showBorder()))("ngbTooltip",h(1,19,"artemisApp.editor.toolTip")),s(5),p("icon",n.faCircleNotch),s(2),m(n.isQueued()?7:8),s(2),m(n.estimatedRemaining()&&n.estimatedRemaining()>0?9:-1),s(4),R("height",3,"px"),s(2),R("opacity",n.queueProgressBarOpacity)("width",n.queueProgressBarValue,"%"),p("ngClass",I(23,Ee,!n.isQueueProgressBarAnimated)),s(3),R("height",3,"px"),s(2),R("opacity",n.buildProgressBarOpacity)("width",n.buildProgressBarValue,"%"),p("ngClass",I(25,Ee,!n.isBuildProgressBarAnimated)))},dependencies:[te,O,G,U,V,xe,k,ne,M],styles:[".no-transition[_ngcontent-%COMP%]{transition:opacity .5s!important}.progress-bar-status-text[_ngcontent-%COMP%]{font-size:.82rem}.mw-custom[_ngcontent-%COMP%]{max-width:fit-content;min-width:14.4rem;max-height:2.22rem;overflow:hidden}"]})}return t})();var Ae=t=>({"clickable-result":t});function ke(t,a){if(t&1&&(i(0,`
                `),l(1,"jhi-result-progress-bar",1),i(2,`
            `)),t&2){let e=o(2);s(),p("estimatedDuration",e.estimatedDuration)("estimatedRemaining",e.estimatedRemaining)("isBuilding",e.isBuilding)("isQueued",e.isQueued)("showBorder",e.showProgressBarBorder)}}function Ge(t,a){if(t&1&&(i(0,`
                        `),u(1,"span"),i(2),x(3,"artemisDurationFromSeconds"),c(),i(4,`
                    `)),t&2){let e=o(3);s(2),_(" ",h(3,1,e.estimatedRemaining)," ")}}function Ve(t,a){if(t&1&&(i(0,`
                `),u(1,"span",2),i(2,`
                    `),l(3,"fa-icon",3),i(4,`
                    `),l(5,"span",4),i(6,`
                    `),d(7,Ge,5,3),c(),i(8,`
            `)),t&2){let e=o(2);s(3),p("icon",e.faCircleNotch),s(4),m(e.estimatedRemaining?7:-1)}}function Le(t,a){if(t&1&&(i(0,`
            `),d(1,ke,3,5)(2,Ve,9,2)),t&2){let e=o();s(),m(e.showProgressBar?1:2)}}function je(t,a){if(t&1&&(i(0,`
                `),l(1,"jhi-result-progress-bar",1),i(2,`
            `)),t&2){let e=o(2);s(),p("estimatedDuration",e.estimatedDuration)("estimatedRemaining",e.estimatedRemaining)("isBuilding",e.isBuilding)("isQueued",e.isQueued)("showBorder",e.showProgressBarBorder)}}function qe(t,a){if(t&1&&(i(0,`
                        `),u(1,"span"),i(2),x(3,"artemisDurationFromSeconds"),c(),i(4,`
                    `)),t&2){let e=o(3);s(2),_(" ",h(3,1,e.estimatedRemaining)," ")}}function Ke(t,a){if(t&1&&(i(0,`
                `),u(1,"span",2),i(2,`
                    `),l(3,"fa-icon",3),i(4,`
                    `),l(5,"span",5),i(6,`
                    `),d(7,qe,5,3),c(),i(8,`
            `)),t&2){let e=o(2);s(3),p("icon",e.faCircleNotch),s(4),m(e.estimatedRemaining?7:-1)}}function ze(t,a){if(t&1&&(i(0,`
            `),d(1,je,3,5)(2,Ke,9,2)),t&2){let e=o();s(),m(e.showProgressBar?1:2)}}function Ze(t,a){if(t&1&&(i(0,`
                    `),l(1,"fa-icon",8),i(2,`
                `)),t&2){let e=o(3);s(),b(e.textColorClass),p("icon",e.resultIconClass)}}function He(t,a){if(t&1&&(i(0,`
                `),d(1,Ze,3,3),u(2,"span",6),i(3,`
                    `),u(4,"span",7),x(5,"artemisTranslate"),i(6),c(),i(7,`
                `),c(),i(8,`
            `)),t&2){let e=o(2);s(),m(e.showIcon?1:-1),s(),j("clickable-result",!1),p("ngClass",e.textColorClass),s(2),p("ngbTooltip",h(5,6,e.resultTooltip)),s(2),_(`
                        `,e.resultString,`
                    `)}}function We(t,a){if(t&1&&(i(0,`
            `),d(1,He,9,8)),t&2){let e=o();s(),m(e.result?1:-1)}}function Xe(t,a){if(t&1&&(i(0,`
            `),u(1,"span",2),i(2,`
                `),l(3,"fa-icon",3),i(4,`
                `),l(5,"span",9),i(6,`
            `),c(),i(7,`
        `)),t&2){let e=o();s(3),p("icon",e.faCircleNotch)}}function Je(t,a){if(t&1&&(i(0,`
                    `),l(1,"fa-icon",8),i(2,`
                `)),t&2){let e=o(3);s(),b(e.textColorClass),p("icon",e.resultIconClass)}}function Ye(t,a){if(t&1&&(i(0,`
                `),d(1,Je,3,3),u(2,"span",6),i(3,`
                    `),u(4,"span",7),x(5,"artemisTranslate"),i(6),c(),i(7,`
                `),c(),i(8,`
            `)),t&2){let e=o(2);s(),m(e.showIcon?1:-1),s(),j("clickable-result",!1),p("ngClass",e.textColorClass),s(2),p("ngbTooltip",h(5,6,e.resultTooltip)),s(2),_(`
                        `,e.resultString,`
                    `)}}function $e(t,a){if(t&1&&(i(0,`
            `),d(1,Ye,9,8)),t&2){let e=o();s(),m(e.result?1:-1)}}function et(t,a){if(t&1&&(i(0,`
                    `),l(1,"fa-icon",8),i(2,`
                `)),t&2){let e=o(3);s(),b(e.textColorClass),p("icon",e.resultIconClass)}}function tt(t,a){if(t&1&&(i(0,`
                        `),u(1,"span",7),x(2,"artemisTranslate"),i(3,`
                            `),l(4,"fa-icon",11),i(5,`
                        `),c(),i(6,`
                    `)),t&2){let e=o(3);s(),F("ngbTooltip",h(2,2,"artemisApp.result.codeIssuesTooltip")),s(3),p("icon",e.faExclamationTriangle)}}function it(t,a){if(t&1&&(i(0,`
                        `),u(1,"span",7),x(2,"artemisDate"),i(3),x(4,"artemisTimeAgo"),c(),i(5,`
                    `)),t&2){let e=o(3);s(),p("ngbTooltip",h(2,2,e.result.completionDate)),s(2),_(" (",h(4,4,e.result.completionDate),") ")}}function st(t,a){if(t&1){let e=P();i(0,`
                    `),u(1,"span"),i(2,`
                        `),u(3,"a",12),w("click",function(){E(e);let n=o(3);return D(n.downloadBuildResult(n.participation.id))}),i(4,`
                            \xA0 `),l(5,"fa-icon",13),i(6,`
                            `),l(7,"span",14),i(8,`
                        `),c(),i(9,`
                    `),c(),i(10,`
                `)}if(t&2){let e=o(3);s(5),p("icon",e.faFile)}}function nt(t,a){if(t&1&&(i(0,`
                    `),u(1,"span",15),x(2,"artemisTranslate"),i(3),x(4,"artemisTranslate"),x(5,"uppercase"),c(),i(6,`
                `)),t&2){let e=o(3);s(),F("ngbTooltip",h(2,3,e.badge.tooltip)),p("ngClass",e.badge.class),s(2),_(`
                        `,h(5,7,h(4,5,e.badge.text)),`
                    `)}}function at(t,a){if(t&1){let e=P();i(0,`
                `),d(1,et,3,3),u(2,"span",10),w("click",function(){E(e);let n=o(2);return D(n.isInSidebarCard?"":n.showDetails(n.result))}),i(3,`
                    `),u(4,"span",7),x(5,"artemisTranslate"),i(6),c(),i(7,`
                    `),d(8,tt,7,4)(9,it,6,6),c(),i(10,`
                `),d(11,st,11,1)(12,nt,7,9)}if(t&2){let e=o(2);s(),m(e.showIcon?1:-1),s(),b(e.textColorClass),p("ngClass",I(12,Ae,!e.isInSidebarCard&&(e.exercise==null?null:e.exercise.type)!==e.ExerciseType.QUIZ)),s(2),p("ngbTooltip",h(5,10,e.resultTooltip)),s(2),_(`
                        `,e.resultString,`
                    `),s(2),m(e.short&&(e.result!=null&&e.result.codeIssueCount)?8:-1),s(),m(!e.isInSidebarCard&&e.showCompletion?9:-1),s(2),m(e.hasBuildArtifact()&&e.participation.type===e.ParticipationType.PROGRAMMING?11:-1),s(),m(e.showBadge?12:-1)}}function rt(t,a){if(t&1&&(i(0,`
            `),d(1,at,13,14)),t&2){let e=o();s(),m(e.result?1:-1)}}function ot(t,a){if(t&1&&(i(0,`
            `),u(1,"span",16),i(2,`
                `),l(3,"fa-icon",17),i(4,`
                `),u(5,"span",18),i(6),c(),i(7,`
                `),l(8,"span",19),i(9,`
            `),c(),i(10,`
        `)),t&2){let e=o();s(),b(e.textColorClass),s(2),p("icon",e.resultIconClass),s(3),_(" ",e.resultString,", ")}}function lt(t,a){t&1&&(i(0,`
            `),l(1,"span",20),i(2,`
        `))}function pt(t,a){t&1&&(i(0,`
            `),l(1,"span",21),i(2,`
        `))}function ut(t,a){t&1&&(i(0,`
            `),l(1,"span",22),i(2,`
        `))}function ct(t,a){t&1&&(i(0,`
                        `),l(1,"span",25),x(2,"artemisTranslate"),i(3,`
                    `)),t&2&&(s(),p("ngbTooltip",h(2,1,"artemisApp.result.missing.programmingFailedSubmission.tooltipOnlineIde")))}function mt(t,a){t&1&&(i(0,`
                        `),l(1,"span",25),x(2,"artemisTranslate"),i(3,`
                    `)),t&2&&(s(),p("ngbTooltip",h(2,1,"artemisApp.result.missing.programmingFailedSubmission.tooltipOfflineIde")))}function dt(t,a){if(t&1){let e=P();i(0,`
                    `),u(1,"span",26),w("click",function(){E(e);let n=o(2);return D(n.showDetails(n.result))}),c(),i(2,`
                `)}if(t&2){let e=o(2);s(),p("ngClass",I(1,Ae,!e.isInSidebarCard))}}function xt(t,a){if(t&1&&(i(0,`
            `),u(1,"span",23),i(2,`
                `),l(3,"fa-icon",24),i(4,`
                `),d(5,ct,4,3)(6,mt,4,3),i(7,`
                `),d(8,dt,3,3),c(),i(9,`
        `)),t&2){let e,r=o();s(3),p("icon",r.faExclamationCircle),s(2),m((e=r.missingResultInfo)===r.MissingResultInfo.FAILED_PROGRAMMING_SUBMISSION_ONLINE_IDE?5:e===r.MissingResultInfo.FAILED_PROGRAMMING_SUBMISSION_OFFLINE_IDE?6:-1),s(3),m(r.result&&(r.exercise==null?null:r.exercise.type)!==r.ExerciseType.QUIZ?8:-1)}}function ht(t,a){if(t&1&&(i(0,`
            `),u(1,"span",27),i(2,`
                `),l(3,"span",28),i(4,`
            `),c(),i(5,`
        `)),t&2){let e=o();s(3),F("jhiTranslate",e.showUngradedResults?"artemisApp.result.noResult":"artemisApp.result.noGradedResult")}}var gi=(()=>{class t{participationService=T(de);translateService=T(ae);modalService=T(se);exerciseService=T(me);exerciseCacheService=T(be,{optional:!0});resultService=T(W);csvDownloadService=T(Be);router=T(ie);ResultTemplateStatus=g;MissingResultInfo=K;ParticipationType=ue;ExerciseType=S;roundScoreSpecifiedByCourseSettings=he;getCourseFromExercise=q;AssessmentType=y;participation;isBuilding;isQueued=!1;short=!0;result;showUngradedResults=!1;showBadge=!1;showIcon=!0;isInSidebarCard=!1;showCompletion=!0;missingResultInfo=K.NONE;exercise;estimatedCompletionDate;buildStartDate;showProgressBar=!1;showProgressBarBorder=!1;textColorClass;resultIconClass;resultString;templateStatus;submission;badge;resultTooltip;latestDueDate;estimatedDurationInterval;estimatedRemaining=0;estimatedDuration=0;faCircleNotch=N;faFile=le;farCircle=ge;faExclamationCircle=oe;faExclamationTriangle=pe;resultUpdateSubscription;ngOnInit(){if(!this.result&&this.participation){if(this.exercise=this.exercise??Q(this.participation),this.participation.exercise=this.exercise,this.participation.results?.length)if(this.exercise&&this.exercise.type===S.MODELING&&this.participation.results.sort((e,r)=>e.completionDate>r.completionDate?-1:e.completionDate<r.completionDate?1:0),this.showUngradedResults)this.result=this.participation.results[0],this.result.participation=this.participation;else{let e=this.participation.results.find(r=>r?.rated);e&&(this.result=e,this.result.participation=this.participation)}}else if(!this.participation&&this.result&&this.result.participation)this.participation=this.result.participation,this.exercise=this.exercise??Q(this.participation),this.participation.exercise=this.exercise;else if(this.participation)this.exercise=this.exercise??Q(this.participation),this.participation.exercise=this.exercise;else if(!this.result?.exampleResult){re(new Error("The result component did not get a participation or result as parameter and can therefore not display the score"));return}this.submission=this.result?.submission,this.evaluate(),this.translateService.onLangChange.subscribe(()=>{this.resultString&&(this.resultString=this.resultService.getResultString(this.result,this.exercise,this.short))}),this.showBadge&&this.result&&(this.badge=W.evaluateBadge(this.participation,this.result))}ngOnDestroy(){this.resultUpdateSubscription&&clearTimeout(this.resultUpdateSubscription),this.estimatedDurationInterval&&clearInterval(this.estimatedDurationInterval)}ngOnChanges(e){(e.participation||e.result)&&this.ngOnInit(),e.isBuilding?.currentValue&&e.isBuilding?.currentValue===!0?this.templateStatus=g.IS_BUILDING:e.isQueued?.currentValue&&e.isQueued?.currentValue===!0?this.templateStatus=g.IS_QUEUED:(e.missingResultInfo||e.isBuilding?.previousValue)&&this.evaluate(),clearInterval(this.estimatedDurationInterval),this.estimatedCompletionDate&&this.buildStartDate&&(this.estimatedDurationInterval=setInterval(()=>{this.estimatedRemaining=Math.max(0,B(this.estimatedCompletionDate).diff(B(),"seconds")),this.estimatedDuration=B(this.estimatedCompletionDate).diff(B(this.buildStartDate),"seconds")}))}evaluate(){if(this.templateStatus=Se(this.exercise,this.participation,this.result,this.isBuilding,this.missingResultInfo,this.isQueued),this.templateStatus===g.LATE?(this.textColorClass=Z(this.result,this.templateStatus),this.resultIconClass=H(this.result,this.templateStatus),this.resultString=this.resultService.getResultString(this.result,this.exercise,this.short)):this.result&&(this.result.score!==void 0&&(this.result.rated||this.result.rated==null||this.showUngradedResults)||z(this.result))?(this.textColorClass=Z(this.result,this.templateStatus),this.resultIconClass=H(this.result,this.templateStatus),this.resultString=this.resultService.getResultString(this.result,this.exercise,this.short),this.resultTooltip=this.buildResultTooltip()):this.templateStatus!==g.MISSING&&(this.templateStatus=g.NO_RESULT,this.result=void 0,this.resultString=""),this.templateStatus===g.IS_GENERATING_FEEDBACK&&this.result?.completionDate){let e=-B().diff(this.result.completionDate,"milliseconds");this.resultUpdateSubscription=setTimeout(()=>{this.evaluate(),this.resultUpdateSubscription&&clearTimeout(this.resultUpdateSubscription)},e)}}buildResultTooltip(){let e=this.exercise;if(this.result){if(this.templateStatus===g.FEEDBACK_GENERATION_FAILED)return"artemisApp.result.resultString.automaticAIFeedbackFailedTooltip";if(this.templateStatus===g.FEEDBACK_GENERATION_TIMED_OUT)return"artemisApp.result.resultString.automaticAIFeedbackTimedOutTooltip";if(this.templateStatus===g.IS_GENERATING_FEEDBACK)return"artemisApp.result.resultString.automaticAIFeedbackInProgressTooltip";if(this.templateStatus===g.HAS_RESULT&&z(this.result))return"artemisApp.result.resultString.automaticAIFeedbackSuccessfulTooltip"}if(this.participation&&_e(this.participation)&&!ce(this.participation)&&Ce(this.result,e))return e?.assessmentType!==y.AUTOMATIC?"artemisApp.result.preliminaryTooltipSemiAutomatic":"artemisApp.result.preliminaryTooltip"}showDetails(e){let r=this.exerciseCacheService??this.exerciseService;if(this.exercise?.type===S.TEXT||this.exercise?.type===S.MODELING){let Pe=q(this.exercise)?.id,L=e.submission?.id;L||(L=e.participation?.submissions?.last()?.id);let we=this.exercise?.type===S.TEXT?"text-exercises":"modeling-exercises";this.router.navigate(["/courses",Pe,"exercises",we,this.exercise?.id,"participate",e.participation?.id,"submission",L]);return}let n=ye(this.exercise,e,this.participation,this.templateStatus,this.latestDueDate,r);if(this.exercise?.type===S.QUIZ)return;let C=this.modalService.open(ve,{keyboard:!0,size:"xl"}).componentInstance;C.exercise=this.exercise,C.result=e,n.exerciseType&&(C.exerciseType=n.exerciseType),n.showScoreChart&&(C.showScoreChart=n.showScoreChart),n.messageKey&&(C.messageKey=n.messageKey),n.latestDueDate&&(this.latestDueDate=n.latestDueDate,C.latestDueDate=n.latestDueDate),n.showMissingAutomaticFeedbackInformation&&(C.showMissingAutomaticFeedbackInformation=n.showMissingAutomaticFeedbackInformation)}hasBuildArtifact(){return this.result&&this.submission&&this.submission.submissionExerciseType==="programming"?this.submission.buildArtifact:!1}downloadBuildResult(e){e&&this.participationService.downloadArtifact(e).subscribe(r=>{this.csvDownloadService.downloadArtifact(r.fileContent,r.fileName)})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["jhi-result"]],inputs:{participation:"participation",isBuilding:"isBuilding",isQueued:"isQueued",short:"short",result:"result",showUngradedResults:"showUngradedResults",showBadge:"showBadge",showIcon:"showIcon",isInSidebarCard:"isInSidebarCard",showCompletion:"showCompletion",missingResultInfo:"missingResultInfo",exercise:"exercise",estimatedCompletionDate:"estimatedCompletionDate",buildStartDate:"buildStartDate",showProgressBar:"showProgressBar",showProgressBarBorder:"showProgressBarBorder"},features:[X],decls:17,vars:1,consts:[["id","result"],[3,"estimatedDuration","estimatedRemaining","isBuilding","isQueued","showBorder"],[1,"text-primary"],["size","lg","animation","spin",1,"me-2",3,"icon"],["id","test-queued","jhiTranslate","artemisApp.editor.queued"],["id","test-building","jhiTranslate","artemisApp.editor.building"],["id","result-score",1,"guided-tour","result",3,"ngClass"],[3,"ngbTooltip"],["size","lg",1,"result-score-icon",3,"icon"],["id","preliminary-feedback-generating","jhiTranslate","artemisApp.result.resultString.automaticAIFeedbackInProgressTooltip"],["id","result-score",1,"guided-tour","result",3,"click","ngClass"],["id","code-issue-warnings-icon",1,"result-orange",3,"icon"],[3,"click"],[3,"icon"],["jhiTranslate","artemisApp.editor.downloadBuildResult"],["id","result-score-badge",1,"badge",3,"ngClass","ngbTooltip"],["id","test-late"],["size","lg",3,"icon"],[1,"score"],["jhiTranslate","artemisApp.courseOverview.exerciseList.exerciseLateFeedback",1,"text-body-secondary"],["id","test-submitted","jhiTranslate","artemisApp.courseOverview.exerciseList.exerciseSubmitted",1,"text-body-secondary"],["id","test-submitted-waiting-grading","jhiTranslate","artemisApp.courseOverview.exerciseList.exerciseSubmittedWaitingForGrading",1,"text-body-secondary"],["id","test-late-no-feedback","jhiTranslate","artemisApp.courseOverview.exerciseList.exerciseLateSubmission",1,"text-body-secondary"],[1,"text-danger"],["size","lg",1,"me-1",3,"icon"],["jhiTranslate","artemisApp.result.missing.programmingFailedSubmission.message",3,"ngbTooltip"],["jhiTranslate","artemisApp.result.missing.viewPrevious",1,"result",3,"click","ngClass"],[1,"text-body-secondary"],[3,"jhiTranslate"]],template:function(r,n){if(r&1&&(i(0,`
`),J(1,0),i(2,`
    `),d(3,Le,3,1)(4,ze,3,1)(5,We,2,1)(6,Xe,8,1)(7,$e,2,1)(8,rt,2,1)(9,ot,11,4)(10,lt,3,0)(11,pt,3,0)(12,ut,3,0)(13,xt,10,3)(14,ht,6,1),i(15,`
`),Y(),i(16,`
`)),r&2){let f;s(3),m((f=n.templateStatus)===n.ResultTemplateStatus.IS_QUEUED?3:f===n.ResultTemplateStatus.IS_BUILDING?4:f===n.ResultTemplateStatus.FEEDBACK_GENERATION_FAILED?5:f===n.ResultTemplateStatus.IS_GENERATING_FEEDBACK?6:f===n.ResultTemplateStatus.FEEDBACK_GENERATION_TIMED_OUT?7:f===n.ResultTemplateStatus.HAS_RESULT?8:f===n.ResultTemplateStatus.LATE?9:f===n.ResultTemplateStatus.SUBMITTED?10:f===n.ResultTemplateStatus.SUBMITTED_WAITING_FOR_GRADING?11:f===n.ResultTemplateStatus.LATE_NO_FEEDBACK?12:f===n.ResultTemplateStatus.MISSING?13:14)}},dependencies:[De,k,G,O,M,ee,fe,U,Ie,V],styles:["span[_ngcontent-%COMP%]{display:inline-block;line-height:1.25}.clickable-result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}"]})}return t})();export{ye as a,gi as b};
//# sourceMappingURL=chunk-22YQSX6Z.js.map
