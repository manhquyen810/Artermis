import{b as l}from"./chunk-G3JOQOSD.js";import{O as c}from"./chunk-IOA4DPXY.js";import{Ea as a,P as s,t,ya as u}from"./chunk-5LC5EQRR.js";var B=(()=>{class n{http=a(c);resourceUrl="api/programming";adminResourceUrl="api/core/admin";nestedDtoKey="pageable";getQueuedBuildJobsByCourseId(e){return this.http.get(`${this.resourceUrl}/courses/${e}/queued-jobs`)}getRunningBuildJobsByCourseId(e){return this.http.get(`${this.resourceUrl}/courses/${e}/running-jobs`)}getQueuedBuildJobs(){return this.http.get(`${this.adminResourceUrl}/queued-jobs`)}getRunningBuildJobs(){return this.http.get(`${this.adminResourceUrl}/running-jobs`)}cancelBuildJobInCourse(e,r){return this.http.delete(`${this.resourceUrl}/courses/${e}/cancel-job/${r}`).pipe(s(i=>t(()=>new Error(`Failed to cancel build job ${r} in course ${e}
${i.message}`))))}cancelBuildJob(e){return this.http.delete(`${this.adminResourceUrl}/cancel-job/${e}`).pipe(s(r=>t(()=>new Error(`Failed to cancel build job ${e}
${r.message}`))))}cancelAllQueuedBuildJobs(){return this.http.delete(`${this.adminResourceUrl}/cancel-all-queued-jobs`).pipe(s(e=>t(()=>new Error(`Failed to cancel all queued build jobs
${e.message}`))))}cancelAllQueuedBuildJobsInCourse(e){return this.http.delete(`${this.resourceUrl}/courses/${e}/cancel-all-queued-jobs`).pipe(s(r=>t(()=>new Error(`Failed to cancel all queued build jobs in course ${e}
${r.message}`))))}cancelAllRunningBuildJobs(){return this.http.delete(`${this.adminResourceUrl}/cancel-all-running-jobs`).pipe(s(e=>t(()=>new Error(`Failed to cancel all running build jobs
${e.message}`))))}cancelAllRunningBuildJobsForAgent(e){return this.http.delete(`${this.adminResourceUrl}/cancel-all-running-jobs-for-agent`,{params:{agentName:e}}).pipe(s(r=>t(()=>new Error(`Failed to cancel all running build jobs for agent ${e}
${r.message}`))))}cancelAllRunningBuildJobsInCourse(e){return this.http.delete(`${this.resourceUrl}/courses/${e}/cancel-all-running-jobs`).pipe(s(r=>t(()=>new Error(`Failed to cancel all running build jobs in course ${e}
${r.message}`))))}getFinishedBuildJobs(e,r){let i=l(e,this.nestedDtoKey);return r&&(i=r.addHttpParams(i)),this.http.get(`${this.adminResourceUrl}/finished-jobs`,{params:i,observe:"response"}).pipe(s(o=>t(()=>new Error(`Failed to get all finished build jobs
${o.message}`))))}getFinishedBuildJobsByCourseId(e,r,i){let o=l(r,this.nestedDtoKey);return i&&(o=i.addHttpParams(o)),this.http.get(`${this.resourceUrl}/courses/${e}/finished-jobs`,{params:o,observe:"response"}).pipe(s(d=>t(()=>new Error(`Failed to get all finished build jobs in course ${e}
${d.message}`))))}getBuildJobStatistics(e){return this.http.get(`${this.adminResourceUrl}/build-job-statistics`,{params:{span:e}}).pipe(s(r=>t(()=>new Error(`Failed to get build job statistics
${r.message}`))))}getBuildJobStatisticsForCourse(e,r){return this.http.get(`${this.resourceUrl}/courses/${e}/build-job-statistics`,{params:{span:r}}).pipe(s(i=>t(()=>new Error(`Failed to get build job statistics for course ${e}
${i.message}`))))}getBuildJobLogs(e){return this.http.get(`${this.resourceUrl}/build-log/${e}`,{responseType:"text"}).pipe(s(()=>t(()=>new Error("artemisApp.buildQueue.logs.errorFetchingLogs"))))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();export{B as a};
//# sourceMappingURL=chunk-HZP47FKH.js.map
