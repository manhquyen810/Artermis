import{a as m,b as ae,c as me}from"./chunk-VDG3BHQZ.js";import{a as le}from"./chunk-LTHMYHP7.js";import{a as re}from"./chunk-2QXIMOEO.js";import{C as F,H as oe,K as k,L as se,c as N,e as L,h as M,i as z,j as H,l as A,m as O,n as J,o as X,s as Z,v as ee,w as ie,x as te,z as ne}from"./chunk-WA5GEAJB.js";import{a as I}from"./chunk-U54OSGNH.js";import{A as w}from"./chunk-IOA4DPXY.js";import{Ac as B,Ad as $,Bc as j,Db as l,Dc as _,Ma as u,Mc as f,Na as y,Oc as a,Tb as V,Va as R,Yc as q,Zb as x,Zc as D,_c as G,cd as U,dd as e,kc as g,ld as K,md as W,nd as Y,qd as Q,sc as P,uc as E,vc as v,wc as S,xc as o,yc as s,yd as C,zc as d,zd as T}from"./chunk-5LC5EQRR.js";var ce=["editingInput"],ue=()=>["required"];function ye(t,b){if(t&1&&(e(0,`
            `),o(1,"div",3),e(2,`
                `),d(3,"div",4),e(4,`
            `),s(),e(5,`
        `)),t&2){let i=a().$implicit,r=a();l(3),g("jhiTranslate",r.translationBase+"."+i.key)}}function ge(t,b){if(t&1&&(e(0,`
        `),x(1,ye,6,1)),t&2){a();let i=U(3);l(),P(i.invalid&&(i.dirty||i.touched)?1:-1)}}var Le=(()=>{class t{editingInput;id;pattern;isRequired;translationBase;set value(i){this.inputValue=i}onValueUpdate;inputValue;sendValueUpdate(i){this.inputValue=this.onValueUpdate(i.target.value)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=V({type:t,selectors:[["jhi-table-editable-field"]],viewQuery:function(r,n){if(r&1&&q(ce,5),r&2){let p;D(p=G())&&(n.editingInput=p.first)}},inputs:{id:"id",pattern:"pattern",isRequired:"isRequired",translationBase:"translationBase",value:"value",onValueUpdate:"onValueUpdate"},decls:10,vars:10,consts:[["editingInput","ngModel"],[1,"table-editable-field","row"],["type","text",1,"table-editable-field__input","form-control","me-2",3,"blur","keyup.enter","ngModelChange","id","required","pattern","ngModel"],[1,"alert","alert-danger"],[3,"jhiTranslate"]],template:function(r,n){if(r&1){let p=_();o(0,"div",1),e(1,`
    `),o(2,"input",2,0),f("blur",function(c){return u(p),y(n.sendValueUpdate(c))})("keyup.enter",function(c){return u(p),y(n.sendValueUpdate(c))}),Y("ngModelChange",function(c){return u(p),W(n.inputValue,c)||(n.inputValue=c),y(c)}),s(),e(4,`
    `),v(5,ge,2,1,null,null,E),C(7,"keyvalue"),C(8,"removekeys"),s(),e(9,`
`)}if(r&2){let p,h=U(3);l(2),g("id",n.id)("required",n.isRequired)("pattern",(p=n.pattern)!==null&&p!==void 0?p:".*"),K("ngModel",n.inputValue),l(3),S($(8,6,T(7,4,h.errors),Q(9,ue)))}},dependencies:[k,N,M,F,oe,O,I,w,le],styles:[".table-editable-field[_ngcontent-%COMP%]{display:flex;align-items:center}",".table-editable-field__input[_ngcontent-%COMP%]{flex:2 1 auto;margin-left:.25rem}"]})}return t})();function be(t,b){if(t&1&&(e(0,`
                                    `),o(1,"div",14),e(2,`
                                        `),d(3,"div",15),e(4,`
                                    `),s(),e(5,`
                                `)),t&2){let i=a().$implicit;l(3),g("jhiTranslate","artemisApp.programmingExercise.submissionPolicy.submissionLimitWarning."+i.key)}}function xe(t,b){if(t&1&&(e(0,`
                                `),x(1,be,6,1)),t&2){let i=a(2);l(),P(i.submissionLimitControl.invalid&&(i.submissionLimitControl.dirty||i.submissionLimitControl.touched)?1:-1)}}function Pe(t,b){if(t&1&&(e(0,`
                                    `),o(1,"div",14),e(2,`
                                        `),d(3,"div",15),e(4,`
                                    `),s(),e(5,`
                                `)),t&2){let i=a().$implicit;l(3),g("jhiTranslate","artemisApp.programmingExercise.submissionPolicy.submissionPenalty.penaltyInputFieldValidationWarning."+i.key)}}function _e(t,b){if(t&1&&(e(0,`
                                `),x(1,Pe,6,1)),t&2){let i=a(3);l(),P(i.exceedingPenaltyControl.invalid&&(i.exceedingPenaltyControl.dirty||i.exceedingPenaltyControl.touched)?1:-1)}}function fe(t,b){if(t&1){let i=_();e(0,`
                            `),o(1,"label",16),e(2,"Penalty after Exceeding Submission limit"),s(),e(3,`
                            `),d(4,"jhi-help-icon",17),e(5,`
                            `),o(6,"div",12),e(7,`
                                `),o(8,"input",18),f("input",function(){u(i);let n=a(2);return y(n.updateExceedingPenalty())}),s(),e(9,`
                            `),s(),e(10,`
                            `),v(11,_e,2,1,null,null,E),C(13,"keyvalue")}if(t&2){let i=a(2);l(11),S(T(13,0,i.exceedingPenaltyControl.errors))}}function Ce(t,b){if(t&1){let i=_();e(0,`
            `),o(1,"form",7),e(2,`
                `),o(3,"div",8),e(4,`
                    `),o(5,"div",9),e(6,`
                        `),B(7),e(8,`
                            `),o(9,"label",10),e(10,"Submission limit"),s(),e(11,`
                            `),d(12,"jhi-help-icon",11),e(13,`
                            `),o(14,"div",12),e(15,`
                                `),o(16,"input",13),f("input",function(){u(i);let n=a();return y(n.updateSubmissionLimit())}),s(),e(17,`
                            `),s(),e(18,`
                            `),v(19,xe,2,1,null,null,E),C(21,"keyvalue"),j(),e(22,`
                    `),s(),e(23,`
                    `),o(24,"div",9),e(25,`
                        `),x(26,fe,14,2),s(),e(27,`
                `),s(),e(28,`
            `),s(),e(29,`
        `)}if(t&2){let i=a();l(),g("formGroup",i.form),l(18),S(T(21,2,i.submissionLimitControl.errors)),l(7),P(i.isSubmissionPenaltyPolicy?26:-1)}}var je=(()=>{class t{programmingExercise;editable;submissionPolicyTypeChange=new R;form;selectedSubmissionPolicyType;isSubmissionPenaltyPolicy;isLockRepositoryPolicy;isNonePolicy;submissionLimitPattern="^([1-9]|([1-9][0-9])|([1-4][0-9][0-9])|500)$";submissionLimitControl;exceedingPenaltyControl;exceedingPenaltyPattern=RegExp("^0*[1-9][0-9]*(\\.[0-9]+)?|0+\\.[0-9]*[1-9][0-9]*$");ngOnInit(){this.onSubmissionPolicyTypeChanged(this.programmingExercise.submissionPolicy?.type??m.NONE),this.form=new H({submissionLimit:new A({value:this.programmingExercise.submissionPolicy?.submissionLimit,disabled:!this.editable},[L.pattern(this.submissionLimitPattern),L.required]),exceedingPenalty:new A({value:this.programmingExercise.submissionPolicy?.exceedingPenalty,disabled:!this.editable},[L.pattern(this.exceedingPenaltyPattern),L.required])}),this.submissionLimitControl=this.form.get("submissionLimit"),this.exceedingPenaltyControl=this.form.get("exceedingPenalty")}setAuxiliaryBooleansOnSubmissionPolicyChange(i){switch(this.isNonePolicy=this.isLockRepositoryPolicy=this.isSubmissionPenaltyPolicy=!1,i){case m.NONE:this.isNonePolicy=!0;break;case m.LOCK_REPOSITORY:this.isLockRepositoryPolicy=!0;break;case m.SUBMISSION_PENALTY:this.isSubmissionPenaltyPolicy=!0;break}this.selectedSubmissionPolicyType=i}onSubmissionPolicyTypeChanged(i){let r=this.programmingExercise?.submissionPolicy?.type??m.NONE;if(i===m.NONE)r!==m.NONE?this.programmingExercise.submissionPolicy.type=m.NONE:this.programmingExercise.submissionPolicy=void 0;else if(i===m.LOCK_REPOSITORY){let n=new ae;this.programmingExercise.submissionPolicy&&(n.id=this.programmingExercise.submissionPolicy.id,n.active=this.programmingExercise.submissionPolicy.active,n.submissionLimit=this.programmingExercise.submissionPolicy.submissionLimit),this.programmingExercise.submissionPolicy=n}else if(i===m.SUBMISSION_PENALTY){let n=new me;this.programmingExercise.submissionPolicy&&(n.id=this.programmingExercise.submissionPolicy.id,n.active=this.programmingExercise.submissionPolicy.active,n.submissionLimit=this.programmingExercise.submissionPolicy.submissionLimit,this.programmingExercise.submissionPolicy?.exceedingPenalty?n.exceedingPenalty=this.programmingExercise.submissionPolicy?.exceedingPenalty:this.exceedingPenaltyControl&&(this.exceedingPenaltyControl.invalid?this.exceedingPenaltyControl.setValue(void 0):n.exceedingPenalty=this.exceedingPenaltyControl.value)),this.programmingExercise.submissionPolicy=n}return this.setAuxiliaryBooleansOnSubmissionPolicyChange(i),this.submissionPolicyTypeChange.emit(),i}get invalid(){let i=this.programmingExercise?.submissionPolicy?.type;return!this.form||!i||i===m.NONE?!1:this.submissionLimitControl.invalid||i===m.SUBMISSION_PENALTY&&this.exceedingPenaltyControl.invalid}updateSubmissionLimit(){this.programmingExercise.submissionPolicy.submissionLimit=this.submissionLimitControl.value}updateExceedingPenalty(){this.programmingExercise.submissionPolicy.exceedingPenalty=this.exceedingPenaltyControl.value}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=V({type:t,selectors:[["jhi-submission-policy-update"]],inputs:{programmingExercise:"programmingExercise",editable:"editable"},outputs:{submissionPolicyTypeChange:"submissionPolicyTypeChange"},decls:18,vars:3,consts:[["policy","ngModel"],[1,"form-group-narrow","mb-3"],["jhiTranslate","artemisApp.programmingExercise.submissionPolicy.title","for","field_submissionPolicy",1,"label-narrow"],["required","","name","submissionPolicyType","id","field_submissionPolicy",1,"form-select",3,"ngModelChange","ngModel","disabled"],["value","none","jhiTranslate","artemisApp.programmingExercise.submissionPolicy.none.optionLabel"],["value","lock_repository","jhiTranslate","artemisApp.programmingExercise.submissionPolicy.lockRepository.optionLabel"],["value","submission_penalty","jhiTranslate","artemisApp.programmingExercise.submissionPolicy.submissionPenalty.optionLabel"],[3,"formGroup"],[1,"row","mb-3"],[1,"col"],["jhiTranslate","artemisApp.programmingExercise.submissionPolicy.submissionLimitTitle","for","field_submissionLimitExceededPenalty",1,"label-narrow"],["text","artemisApp.programmingExercise.submissionPolicy.submissionLimitDescription"],[1,"input-group"],["required","","type","number","formControlName","submissionLimit","step","1","name","submissionLimit","id","field_submissionLimit",1,"form-control",3,"input"],[1,"alert","alert-danger"],[3,"jhiTranslate"],["jhiTranslate","artemisApp.programmingExercise.submissionPolicy.submissionPenalty.penaltyInputFieldTitle","for","field_submissionLimitExceededPenalty",1,"label-narrow"],["text","artemisApp.programmingExercise.submissionPolicy.submissionPenalty.exceedingLimitDescription"],["required","","type","number","formControlName","exceedingPenalty","name","submissionLimitExceededPenalty","id","field_submissionLimitExceededPenalty",1,"form-control",3,"input"]],template:function(r,n){if(r&1){let p=_();e(0,`
        `),o(1,"div",1),e(2,`
            `),o(3,"label",2),e(4,"Submission Policy"),s(),e(5,`
            `),o(6,"select",3,0),f("ngModelChange",function(c){return u(p),y(n.onSubmissionPolicyTypeChanged(c))}),e(8,`
                `),d(9,"option",4),e(10,`
                `),d(11,"option",5),e(12,`
                `),d(13,"option",6),e(14,`
            `),s(),e(15,`
        `),s(),e(16,`
        `),x(17,Ce,30,4)}r&2&&(l(6),g("ngModel",n.selectedSubmissionPolicyType)("disabled",!n.editable),l(11),P(n.isNonePolicy?-1:17))},dependencies:[I,k,J,te,ne,N,X,ie,M,z,F,O,se,Z,ee,re,w],styles:[".label-preview[_ngcontent-%COMP%]{font-size:9pt}.preview-box[_ngcontent-%COMP%]{background:var(--update-programming-exercise-plan-preview-box-background)}.guided-mode-button[_ngcontent-%COMP%]{float:right}"]})}return t})();export{Le as a,je as b};
//# sourceMappingURL=chunk-PCAOW5RI.js.map
