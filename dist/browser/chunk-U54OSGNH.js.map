{
  "version": 3,
  "sources": ["src/main/webapp/app/shared/language/translate.directive.ts"],
  "sourcesContent": ["import { Directive, ElementRef, Input, OnChanges, OnDestroy, OnInit, inject } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { translationNotFoundMessage } from 'app/core/config/translation.config';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n/**\r\n * A wrapper directive on top of the translate pipe as the inbuilt translate directive from ngx-translate is too verbose and buggy\r\n */\r\n@Directive({\r\n    selector: '[jhiTranslate]',\r\n})\r\nexport class TranslateDirective implements OnChanges, OnInit, OnDestroy {\r\n    private el = inject(ElementRef);\r\n    private translateService = inject(TranslateService);\r\n\r\n    @Input() jhiTranslate!: string;\r\n    @Input() translateValues?: { [key: string]: unknown };\r\n\r\n    private readonly directiveDestroyed = new Subject<void>();\r\n\r\n    ngOnInit(): void {\r\n        this.translateService.onLangChange.pipe(takeUntil(this.directiveDestroyed)).subscribe(() => {\r\n            this.getTranslation();\r\n        });\r\n        this.translateService.onTranslationChange.pipe(takeUntil(this.directiveDestroyed)).subscribe(() => {\r\n            this.getTranslation();\r\n        });\r\n    }\r\n\r\n    ngOnChanges() {\r\n        this.getTranslation();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.directiveDestroyed.next();\r\n        this.directiveDestroyed.complete();\r\n    }\r\n\r\n    private getTranslation(): void {\r\n        this.translateService\r\n            .get(this.jhiTranslate, this.translateValues)\r\n            .pipe(takeUntil(this.directiveDestroyed))\r\n            .subscribe({\r\n                next: (value) => {\r\n                    this.el.nativeElement.innerHTML = value;\r\n                },\r\n                error: () => `${translationNotFoundMessage}[${this.jhiTranslate}]`,\r\n            });\r\n    }\r\n}\r\n"],
  "mappings": "gKAYA,IAAaA,GAAkB,IAAA,CAAzB,MAAOA,CAAkB,CACnBC,GAAKC,EAAOC,CAAU,EACtBC,iBAAmBF,EAAOG,CAAgB,EAEzCC,aACAC,gBAEQC,mBAAqB,IAAIC,EAE1CC,UAAQ,CACJ,KAAKN,iBAAiBO,aAAaC,KAAKC,EAAU,KAAKL,kBAAkB,CAAC,EAAEM,UAAU,IAAK,CACvF,KAAKC,eAAc,CACvB,CAAC,EACD,KAAKX,iBAAiBY,oBAAoBJ,KAAKC,EAAU,KAAKL,kBAAkB,CAAC,EAAEM,UAAU,IAAK,CAC9F,KAAKC,eAAc,CACvB,CAAC,CACL,CAEAE,aAAW,CACP,KAAKF,eAAc,CACvB,CAEAG,aAAW,CACP,KAAKV,mBAAmBW,KAAI,EAC5B,KAAKX,mBAAmBY,SAAQ,CACpC,CAEQL,gBAAc,CAClB,KAAKX,iBACAiB,IAAI,KAAKf,aAAc,KAAKC,eAAe,EAC3CK,KAAKC,EAAU,KAAKL,kBAAkB,CAAC,EACvCM,UAAU,CACPK,KAAOG,GAAS,CACZ,KAAKrB,GAAGsB,cAAcC,UAAYF,CACtC,EACAG,MAAOA,IAAM,GAAGC,CAA0B,IAAI,KAAKpB,YAAY,IAClE,CACT,4CArCSN,EAAkB,2BAAlBA,EAAkB2B,UAAA,CAAA,CAAA,GAAA,eAAA,EAAA,CAAA,EAAAC,OAAA,CAAAtB,aAAA,eAAAC,gBAAA,iBAAA,EAAAsB,SAAA,CAAAC,CAAA,CAAA,CAAA,SAAlB9B,CAAkB,GAAA",
  "names": ["TranslateDirective", "el", "inject", "ElementRef", "translateService", "TranslateService", "jhiTranslate", "translateValues", "directiveDestroyed", "Subject", "ngOnInit", "onLangChange", "pipe", "takeUntil", "subscribe", "getTranslation", "onTranslationChange", "ngOnChanges", "ngOnDestroy", "next", "complete", "get", "value", "nativeElement", "innerHTML", "error", "translationNotFoundMessage", "selectors", "inputs", "features", "\u0275\u0275NgOnChangesFeature"]
}
