import{e as f}from"./chunk-EELXLOHY.js";import{p as o}from"./chunk-DID2YGL7.js";import{c as u}from"./chunk-E2KBL4LX.js";import{Ea as c,Wb as m}from"./chunk-5LC5EQRR.js";var g=[{id:"monday",translationKey:"monday",value:1},{id:"tuesday",translationKey:"tuesday",value:2},{id:"wednesday",translationKey:"wednesday",value:3},{id:"thursday",translationKey:"thursday",value:4},{id:"friday",translationKey:"friday",value:5},{id:"saturday",translationKey:"saturday",value:6},{id:"sunday",translationKey:"sunday",value:7}];function y(i){return i?`artemisApp.generic.weekdays.${g[i-1].translationKey}`:""}var F=(()=>{class i{translateService=c(u);dateTime;locale;localizedDateTime;onLangChange;long=!0;showDate=!0;showTime=!0;showSeconds=!1;showWeekday=!1;showMilliSeconds=!1;static mobileDeviceSize=768;transform(e,t="long",s=!1,a=void 0,n=!1,l=!1){return!e||!o(e).isValid()?"":(this.dateTime=a?o(e).tz(a):o(e),this.long=t==="long"||t==="long-date",this.showDate=t!=="time",this.showTime=t!=="short-date"&&t!=="long-date",this.showSeconds=s,this.showWeekday=n,this.showMilliSeconds=l,this.formatLengthBasedOnWindowWidth(window.innerWidth),this.updateLocale(this.translateService.currentLang),this.updateLocalizedDateTime(a),this.cleanUpSubscription(),this.onLangChange||(this.onLangChange=this.translateService.onLangChange.subscribe(r=>{this.updateLocale(r.lang),this.updateLocalizedDateTime()})),this.localizedDateTime)}static format(e="en",t="long",s=!1,a=!1){let n=t==="long"||t==="long-date",l=t!=="time",r=t!=="short-date"&&t!=="long-date",d=i.dateFormat(n,l,e),h=i.timeFormat(r,s,a);return d+(d&&h?" ":"")+h}updateLocale(e){e||(e="en"),e!==this.locale&&(this.locale=e)}updateLocalizedDateTime(e=void 0){this.dateTime=e?this.dateTime.locale(this.locale).tz(e):this.dateTime.locale(this.locale);let t=this.dateTime.format(this.format());if(this.showWeekday&&this.dateTime){let s=f(this.dateTime.day())+1,a=y(s),n=this.translateService.instant(a);this.localizedDateTime=n+", "+t}else this.localizedDateTime=t}format(){let e=i.dateFormat(this.long,this.showDate,this.locale),t=i.timeFormat(this.showTime,this.showSeconds,this.showMilliSeconds);return e+(e&&t?" ":"")+t}static dateFormat(e,t,s){if(!t)return"";let a="ll";if(!e)switch(s){case"de":a="DD.MM.YYYY";break;default:a="YYYY-MM-DD"}return a}static timeFormat(e,t,s){if(!e)return"";let a="HH:mm";return s?a="HH:mm:ss.SSS":t&&(a="HH:mm:ss"),a}formatLengthBasedOnWindowWidth(e){e<=i.mobileDeviceSize&&(this.long=!1)}cleanUpSubscription(){this.onLangChange!=null&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0)}ngOnDestroy(){this.cleanUpSubscription()}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=m({name:"artemisDate",type:i,pure:!1})}return i})();export{g as a,y as b,F as c};
//# sourceMappingURL=chunk-JNO6DNVW.js.map
