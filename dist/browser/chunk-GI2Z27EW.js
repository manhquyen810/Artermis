import{a as Ze,b as Je}from"./chunk-UCG4CBUM.js";import{a as Ke}from"./chunk-IQWRONMP.js";import{D as ze}from"./chunk-RTOKZMYN.js";import{a as We,c as Be,d as He,e as Qe}from"./chunk-HK7MJBP6.js";import{c as Ue,d as $e}from"./chunk-AR57MWOI.js";import{c as Z}from"./chunk-5MVJAZRV.js";import{a as Re,c as ue}from"./chunk-JNO6DNVW.js";import{e as Le}from"./chunk-EELXLOHY.js";import{H as je,I as Oe,N as Ne,n as qe}from"./chunk-VZRSC3LP.js";import{J as B,K as H,L as Q,b as Ie,c as M,e as h,h as P,i as L,l as ae,m as Ee,n as ke,o as U,p as $,s as R,t as Ve,v as W}from"./chunk-WA5GEAJB.js";import{s as z}from"./chunk-5GXY5RYT.js";import{a as J}from"./chunk-K3W6YFKH.js";import{c as Pe}from"./chunk-JXJXC4DZ.js";import{d as K}from"./chunk-EDXSOKK5.js";import{p as le}from"./chunk-DID2YGL7.js";import{i as De,tb as Me}from"./chunk-Z4VHWOB5.js";import{a as X}from"./chunk-U54OSGNH.js";import{Ac as xe,Ad as be,Bc as _e,Cd as Ae,D as V,Db as o,Dc as D,Dd as Ge,Ea as v,F as se,Id as we,J as de,L as pe,La as he,Ma as C,Mc as A,Na as g,Oc as f,P as q,Rc as ie,Tb as N,U as ce,Va as Ce,Yc as w,Zb as c,Zc as I,_ as fe,_c as E,aa as j,cd as Te,dd as e,ed as ve,f as F,fd as Fe,kc as p,ld as ne,mc as ge,md as oe,nd as re,pa as O,pd as ye,qd as _,rd as Se,s as b,sc as d,uc as Y,vc as ee,wc as te,xc as l,yc as a,yd as T,z as y,zc as r,zd as S}from"./chunk-5LC5EQRR.js";import{a as G,b as me}from"./chunk-3E746U5Y.js";var it=()=>({min:1}),nt=()=>({max:7}),ot=()=>({max:"2000"}),rt=i=>[i,"long-date",!1,void 0,!0];function lt(i,m){i&1&&(e(0,`
                        `),r(1,"div",26),e(2,`
                    `)),i&2&&(o(),p("translateValues",_(1,it)))}function at(i,m){i&1&&(e(0,`
                        `),r(1,"div",27),e(2,`
                    `)),i&2&&(o(),p("translateValues",_(1,nt)))}function ut(i,m){i&1&&(e(0,`
                        `),r(1,"div",28),e(2,`
                    `))}function mt(i,m){if(i&1&&(e(0,`
                `),l(1,"div",25),e(2,`
                    `),c(3,lt,3,2)(4,at,3,2)(5,ut,3,0),a(),e(6,`
            `)),i&2){let t=f();o(3),d(!(t.repetitionFrequencyControl==null||t.repetitionFrequencyControl.errors==null)&&t.repetitionFrequencyControl.errors.min?3:-1),o(),d(!(t.repetitionFrequencyControl==null||t.repetitionFrequencyControl.errors==null)&&t.repetitionFrequencyControl.errors.max?4:-1),o(),d(!(t.repetitionFrequencyControl==null||t.repetitionFrequencyControl.errors==null)&&t.repetitionFrequencyControl.errors.required?5:-1)}}function st(i,m){if(i&1&&(e(0,`
                    `),r(1,"input",29),e(2,`
                    `),l(3,"label",30),e(4),T(5,"artemisTranslate"),a(),e(6,`
                `)),i&2){let t=m.$implicit;o(),ie("id",t.id),p("value",t.value),o(2),ie("for",t.id),o(),ve(S(5,4,"artemisApp.generic.weekdays."+t.translationKey))}}function dt(i,m){i&1&&(e(0,`
                            `),r(1,"div",31),e(2,`
                        `))}function pt(i,m){if(i&1&&(e(0,`
                    `),l(1,"div",25),e(2,`
                        `),c(3,dt,3,0),a(),e(4,`
                `)),i&2){let t=f();o(3),d(!(t.startTimeControl==null||t.startTimeControl.errors==null)&&t.startTimeControl.errors.required?3:-1)}}function ct(i,m){i&1&&(e(0,`
                            `),r(1,"div",31),e(2,`
                        `))}function ft(i,m){if(i&1&&(e(0,`
                    `),l(1,"div",25),e(2,`
                        `),c(3,ct,3,0),a(),e(4,`
                `)),i&2){let t=f();o(3),d(!(t.endTimeControl==null||t.endTimeControl.errors==null)&&t.endTimeControl.errors.required?3:-1)}}function ht(i,m){i&1&&(e(0,`
                            `),r(1,"div",32),e(2,`
                        `))}function Ct(i,m){if(i&1&&(e(0,`
                    `),l(1,"div"),e(2,`
                        `),c(3,ht,3,0),a(),e(4,`
                `)),i&2){let t=f();o(3),d(!(t.formGroup==null||t.formGroup.errors==null)&&t.formGroup.errors.invalidTimeRange?3:-1)}}function gt(i,m){i&1&&(e(0,`
                `),r(1,"label",33),e(2,`
            `))}function xt(i,m){i&1&&(e(0,`
                `),r(1,"label",34),e(2,`
            `))}function _t(i,m){i&1&&(e(0,`
                        `),r(1,"div",35),e(2,`
                    `)),i&2&&(o(),p("translateValues",_(1,ot)))}function Tt(i,m){i&1&&(e(0,`
                        `),r(1,"div",36),e(2,`
                    `))}function vt(i,m){if(i&1&&(e(0,`
                `),l(1,"div",25),e(2,`
                    `),c(3,_t,3,2)(4,Tt,3,0),a(),e(5,`
            `)),i&2){let t=f();o(3),d(!(t.locationControl==null||t.locationControl.errors==null)&&t.locationControl.errors.maxlength?3:-1),o(),d(!(t.locationControl==null||t.locationControl.errors==null)&&t.locationControl.errors.required?4:-1)}}function Ft(i,m){i&1&&(e(0,`
                `),r(1,"div",37),e(2,`
            `))}function yt(i,m){i&1&&(e(0,`
                        `),r(1,"div",38),e(2,`
                    `))}function St(i,m){i&1&&(e(0,`
                        `),r(1,"div",39),e(2,`
                    `))}function bt(i,m){if(i&1&&(e(0,`
                `),l(1,"div",25),e(2,`
                    `),c(3,yt,3,0)(4,St,3,0),a(),e(5,`
            `)),i&2){let t=f();o(3),d(!(t.periodControl==null||t.periodControl.errors==null)&&t.periodControl.errors.owlRequiredDateTimeRange||!(t.periodControl==null||t.periodControl.errors==null)&&t.periodControl.errors.required?3:-1),o(),d(!(t.periodControl==null||t.periodControl.errors==null)&&t.periodControl.errors.owlDateTimeRange?4:-1)}}function At(i,m){if(i&1&&(e(0,`
                    `),l(1,"span",41),e(2),T(3,"artemisDate"),a(),e(4,`
                `)),i&2){let t=m.$implicit;o(2),Fe(" ",Ge(3,1,Se(7,rt,t))," ")}}function Gt(i,m){if(i&1&&(e(0,`
            `),l(1,"div"),e(2,`
                `),r(3,"span",40),e(4,`
                `),ee(5,At,5,9,null,null,Y),a(),e(7,`
        `)),i&2){let t=f();o(5),te(t.createdSessions)}}var Xe=(()=>{class i{fb=v(B);formatter=v(qe);cdr=v(we);course;parentFormGroup;formGroup;defaultPeriod=void 0;weekDays=Re;faCalendarAlt=De;get defaultPeriodChanged(){return!z(this.defaultPeriod,this.formGroup.get("period").value)}get parentIsOnlineControl(){return this.parentFormGroup.get("isOnline")}get periodControl(){return this.formGroup.get("period")}get startTimeControl(){return this.formGroup.get("startTime")}get endTimeControl(){return this.formGroup.get("endTime")}get locationControl(){return this.formGroup.get("location")}get repetitionFrequencyControl(){return this.formGroup.get("repetitionFrequency")}get createdSessions(){let t=[];if(this.formGroup.valid){let{dayOfWeek:u,repetitionFrequency:n,period:s}=this.formGroup.value,x=le(s[0]),k=le(s[1]);for(;Le(x.day())+1!==u;)x=x.add(1,"day");for(;x.isBefore(k)||x.isSame(k);)t.push(x),x=x.add(n,"week")}return t}ngOnInit(){if(this.course.tutorialGroupsConfiguration){let{tutorialPeriodStartInclusive:t,tutorialPeriodEndInclusive:u}=this.course.tutorialGroupsConfiguration;this.defaultPeriod=[t.toDate(),u.toDate()]}this.formGroup=this.fb.group({dayOfWeek:[1,h.required],startTime:["13:00:00",[h.required]],endTime:["14:00:00",[h.required]],repetitionFrequency:[1,[h.required,h.min(1),h.max(7)]],period:[this.defaultPeriod,[h.required]],location:["Zoom",[h.required]]},{validators:Je}),this.parentFormGroup.addControl("schedule",this.formGroup),this.parentIsOnlineControl?.valueChanges.subscribe(()=>{this.cdr.detectChanges()})}get isPeriodInvalid(){return this.periodControl?this.periodControl.invalid&&(this.periodControl.touched||this.periodControl.dirty):!1}markPeriodAsTouched(){this.periodControl&&this.periodControl.markAsTouched()}static \u0275fac=function(u){return new(u||i)};static \u0275cmp=N({type:i,selectors:[["jhi-schedule-form"]],inputs:{course:"course",parentFormGroup:"parentFormGroup"},features:[ye([{provide:je,useClass:Ze},ue])],decls:98,vars:34,consts:[["period",""],[3,"formGroup"],["formGroupName","schedule",2,"border","0"],["jhiTranslate","artemisApp.forms.scheduleForm.formTitle"],["for","repetitionFrequency","jhiTranslate","artemisApp.forms.scheduleForm.repetitionFrequencyInput.label"],[1,"input-group","small-input"],["id","repetitionFrequency","type","number","formControlName","repetitionFrequency",1,"form-control"],["jhiTranslate","artemisApp.forms.scheduleForm.repetitionFrequencyInput.weeks",1,"input-group-text"],["jhiTranslate","artemisApp.forms.scheduleForm.weekDayInput.label"],[1,"row"],[1,"col-auto","my-auto"],["jhiTranslate","artemisApp.forms.scheduleForm.timeInput.from"],[1,"col-auto"],["formControlName","startTime",3,"hourStep","minuteStep"],["jhiTranslate","artemisApp.forms.scheduleForm.timeInput.to"],["formControlName","endTime",3,"hourStep","minuteStep"],[1,"form-group"],["id","location","rows","1","formControlName","location",1,"form-control",3,"placeholder"],["for","period","jhiTranslate","artemisApp.forms.scheduleForm.periodInput.label",1,"form-label"],[1,"input-group"],["formControlName","period",1,"d-none",3,"owlDateTime","selectMode"],["name","period","id","period","required","","readonly","",1,"form-control",3,"focus","value","owlDateTimeTrigger"],["type","button",1,"btn","btn-secondary",3,"owlDateTimeTrigger"],[3,"icon"],[3,"firstDayOfWeek","pickerType","pickerMode"],[1,"alert","alert-danger"],["jhiTranslate","artemisApp.forms.scheduleForm.repetitionFrequencyInput.minValidationError",3,"translateValues"],["jhiTranslate","artemisApp.forms.scheduleForm.repetitionFrequencyInput.maxValidationError",3,"translateValues"],["jhiTranslate","artemisApp.forms.scheduleForm.repetitionFrequencyInput.requiredValidationError"],["formControlName","dayOfWeek","type","radio","name","dayOfWeek","autocomplete","off","checked","",1,"btn-check",3,"id","value"],[1,"btn","btn-outline-primary",3,"for"],["jhiTranslate","artemisApp.forms.scheduleForm.timeInput.invalidTimeRange"],["jhiTranslate","artemisApp.forms.scheduleForm.timeInput.invalidTimeRange",1,"alert","alert-danger"],["for","location","jhiTranslate","artemisApp.forms.scheduleForm.locationInput.labelOnline"],["for","location","jhiTranslate","artemisApp.forms.scheduleForm.locationInput.labelOffline"],["jhiTranslate","artemisApp.forms.scheduleForm.locationInput.maxLengthValidationError",3,"translateValues"],["jhiTranslate","artemisApp.forms.scheduleForm.locationInput.requiredValidationError"],["role","alert","jhiTranslate","artemisApp.forms.scheduleForm.periodInput.periodWarning",1,"alert","alert-warning"],["jhiTranslate","artemisApp.createConfiguration.periodInput.requiredValidationError"],["jhiTranslate","artemisApp.forms.scheduleForm.periodInput.invalidRangeError"],["jhiTranslate","artemisApp.forms.scheduleForm.sessionCreationInfo"],[1,"badge","bg-info","m-1"]],template:function(u,n){if(u&1){let s=D();xe(0,1),e(1,`
    `),l(2,"div",2),e(3,`
        `),l(4,"div"),e(5,`
            `),r(6,"h3",3),e(7,`
        `),a(),e(8,`
        `),l(9,"div"),e(10,`
            `),e(11,`
            `),r(12,"label",4),e(13,`
            `),l(14,"div",5),e(15,`
                `),r(16,"input",6),e(17,`
                `),r(18,"div",7),e(19,`
            `),a(),e(20,`
            `),c(21,mt,7,3),l(22,"div"),e(23,`
                `),l(24,"div"),e(25,`
                    `),r(26,"label",8),e(27,`
                `),a(),e(28,`
                `),ee(29,st,7,6,null,null,Y),a(),e(31,`
            `),e(32,`
            `),l(33,"div"),e(34,`
                `),l(35,"div",9),e(36,`
                    `),l(37,"div",10),e(38,`
                        `),r(39,"span",11),e(40,`
                    `),a(),e(41,`
                    `),l(42,"div",12),e(43,`
                        `),r(44,"ngb-timepicker",13),e(45,`
                    `),a(),e(46,`
                    `),l(47,"div",10),e(48,`
                        `),r(49,"span",14),e(50,`
                    `),a(),e(51,`
                    `),l(52,"div",10),e(53,`
                        `),r(54,"ngb-timepicker",15),e(55,`
                    `),a(),e(56,`
                `),a(),e(57,`
                `),c(58,pt,5,1)(59,ft,5,1)(60,Ct,5,1),a(),e(61,`
        `),a(),e(62,`
        `),e(63,`
        `),l(64,"div",16),e(65,`
            `),c(66,gt,3,0)(67,xt,3,0),r(68,"textarea",17),T(69,"artemisTranslate"),e(70,`
            `),c(71,vt,6,2),a(),e(72,`
        `),e(73,`
        `),l(74,"div"),e(75,`
            `),c(76,Ft,3,0),r(77,"label",18),e(78,`
            `),l(79,"div",19),e(80,`
                `),r(81,"input",20),e(82,`
                `),l(83,"input",21),T(84,"artemisDateRange"),A("focus",function(){return C(s),g(n.markPeriodAsTouched())}),a(),e(85,`
                `),l(86,"button",22),r(87,"fa-icon",23),a(),e(88,`
                `),r(89,"owl-date-time",24,0),e(91,`
            `),a(),e(92,`
            `),c(93,bt,6,2),a(),e(94,`
        `),c(95,Gt,8,0),a(),e(96,`
`),_e(),e(97,`
`)}if(u&2){let s=Te(90);p("formGroup",n.parentFormGroup),o(21),d(n.repetitionFrequencyControl!=null&&n.repetitionFrequencyControl.invalid&&(n.repetitionFrequencyControl!=null&&n.repetitionFrequencyControl.dirty||n.repetitionFrequencyControl!=null&&n.repetitionFrequencyControl.touched)?21:-1),o(8),te(n.weekDays),o(15),p("hourStep",1)("minuteStep",15),o(10),p("hourStep",1)("minuteStep",15),o(4),d(n.startTimeControl!=null&&n.startTimeControl.invalid&&(n.startTimeControl!=null&&n.startTimeControl.dirty||n.startTimeControl!=null&&n.startTimeControl.touched)?58:-1),o(),d(n.endTimeControl!=null&&n.endTimeControl.invalid&&(n.endTimeControl!=null&&n.endTimeControl.dirty||n.endTimeControl!=null&&n.endTimeControl.touched)?59:-1),o(),d(n.formGroup!=null&&n.formGroup.invalid&&(n.formGroup!=null&&n.formGroup.dirty||n.formGroup!=null&&n.formGroup.touched)?60:-1),o(6),d(n.parentIsOnlineControl.value?66:-1),o(),d(n.parentIsOnlineControl.value?-1:67),o(),p("placeholder",S(69,27,n.parentIsOnlineControl.value?"artemisApp.forms.scheduleForm.locationInput.placeholderOnline":"artemisApp.forms.scheduleForm.locationInput.placeholderOffline")),o(3),d(n.locationControl!=null&&n.locationControl.invalid&&(n.locationControl!=null&&n.locationControl.dirty||n.locationControl!=null&&n.locationControl.touched)?71:-1),o(5),d(n.defaultPeriodChanged?76:-1),o(5),p("owlDateTime",s)("selectMode","range"),o(2),ge("is-invalid",n.isPeriodInvalid),p("value",Ae(84,29,n.periodControl==null?null:n.periodControl.value,"long-date",void 0,!0))("owlDateTimeTrigger",s),o(3),p("owlDateTimeTrigger",s),o(),p("icon",n.faCalendarAlt),o(2),p("firstDayOfWeek",1)("pickerType","calendar")("pickerMode","dialog"),o(4),d(n.periodControl!=null&&n.periodControl.invalid&&(n.periodControl!=null&&n.periodControl.dirty||n.periodControl!=null&&n.periodControl.touched)?93:-1),o(2),d(n.createdSessions.length>0?95:-1)}},dependencies:[H,M,U,$,P,L,Q,R,W,Ve,X,Oe,Qe,We,He,Be,K,ue,Ke,J],styles:[".dp-hidden[_ngcontent-%COMP%]{width:0;margin:0;border:none;padding:0}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.small-input[_ngcontent-%COMP%]{max-width:250px}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}"],changeDetection:0})}return i})();var wt=["teachingAssistantInput"],It=["campusInput"],Et=["languageInput"],kt=["scheduleForm"],Vt=()=>({from:"12:00",to:"13:00"}),qt=()=>({standalone:!0}),jt=()=>({max:"19"}),Ye=()=>({max:"255"}),Ot=()=>({max:"1000"});function Nt(i,m){i&1&&(e(0,`
                                `),r(1,"div",44),e(2,`
                            `))}function Dt(i,m){i&1&&(e(0,`
                                `),r(1,"div",45),e(2,`
                            `)),i&2&&(o(),p("translateValues",_(1,jt)))}function Mt(i,m){i&1&&(e(0,`
                                `),r(1,"div",46),e(2,`
                            `))}function Pt(i,m){if(i&1&&(e(0,`
                        `),l(1,"div",43),e(2,`
                            `),c(3,Nt,3,0)(4,Dt,3,2)(5,Mt,3,0),a(),e(6,`
                    `)),i&2){let t=f(2);o(3),d(!(t.titleControl==null||t.titleControl.errors==null)&&t.titleControl.errors.required?3:-1),o(),d(!(t.titleControl==null||t.titleControl.errors==null)&&t.titleControl.errors.maxlength?4:-1),o(),d(!(!(t.titleControl==null||t.titleControl.errors==null)&&t.titleControl.errors.required)&&!(!(t.titleControl==null||t.titleControl.errors==null)&&t.titleControl.errors.maxlength)&&(!(t.titleControl==null||t.titleControl.errors==null)&&t.titleControl.errors.pattern)?5:-1)}}function Lt(i,m){if(i&1&&(e(0,`
                    `),l(1,"div",47),e(2,`
                        `),r(3,"input",48),e(4,`
                        `),r(5,"label",49),e(6,`
                        `),r(7,"small",50),e(8,`
                    `),a(),e(9,`
                `)),i&2){let t=f(2);o(),p("hidden",!t.showUpdateChannelNameCheckbox)}}function Ut(i,m){i&1&&(e(0,`
                                `),r(1,"div",51),e(2,`
                            `))}function $t(i,m){if(i&1&&(e(0,`
                        `),l(1,"div",43),e(2,`
                            `),c(3,Ut,3,0),a(),e(4,`
                    `)),i&2){let t=f(2);o(3),d(!(t.teachingAssistantControl==null||t.teachingAssistantControl.errors==null)&&t.teachingAssistantControl.errors.required?3:-1)}}function Rt(i,m){i&1&&(e(0,`
                                `),r(1,"div",52),e(2,`
                            `)),i&2&&(o(),p("translateValues",_(1,Ye)))}function Wt(i,m){if(i&1&&(e(0,`
                        `),l(1,"div",43),e(2,`
                            `),c(3,Rt,3,2),a(),e(4,`
                    `)),i&2){let t=f(2);o(3),d(!(t.campusControl==null||t.campusControl.errors==null)&&t.campusControl.errors.max?3:-1)}}function Bt(i,m){i&1&&(e(0,`
                                `),r(1,"div",53),e(2,`
                            `))}function Ht(i,m){if(i&1&&(e(0,`
                        `),l(1,"div",43),e(2,`
                            `),c(3,Bt,3,0),a(),e(4,`
                    `)),i&2){let t=f(2);o(3),d(!(t.capacityControl==null||t.capacityControl.errors==null)&&t.capacityControl.errors.min?3:-1)}}function Qt(i,m){i&1&&(e(0,`
                                `),r(1,"div",54),e(2,`
                            `)),i&2&&(o(),p("translateValues",_(1,Ye)))}function zt(i,m){i&1&&(e(0,`
                                `),r(1,"div",55),e(2,`
                            `))}function Zt(i,m){if(i&1&&(e(0,`
                        `),l(1,"div",43),e(2,`
                            `),c(3,Qt,3,2)(4,zt,3,0),a(),e(5,`
                    `)),i&2){let t=f(2);o(3),d(!(t.languageControl==null||t.languageControl.errors==null)&&t.languageControl.errors.max?3:-1),o(),d(!(t.languageControl==null||t.languageControl.errors==null)&&t.languageControl.errors.required?4:-1)}}function Jt(i,m){i&1&&(e(0,`
                    `),r(1,"div",56),e(2,`
                `))}function Kt(i,m){i&1&&(e(0,`
                                    `),r(1,"div",61),e(2,`
                                `)),i&2&&(o(),p("translateValues",_(1,Ot)))}function Xt(i,m){if(i&1&&(e(0,`
                            `),l(1,"div",43),e(2,`
                                `),c(3,Kt,3,2),a(),e(4,`
                        `)),i&2){let t=f(3);o(3),d(!(t.notificationControl==null||t.notificationControl.errors==null)&&t.notificationControl.errors.maxlength?3:-1)}}function Yt(i,m){if(i&1&&(e(0,`
                    `),l(1,"div",57),e(2,`
                        `),r(3,"label",58),e(4,`
                        `),r(5,"textarea",59),T(6,"artemisTranslate"),e(7,`
                        `),r(8,"small",60),e(9,`
                        `),c(10,Xt,5,1),a(),e(11,`
                `)),i&2){let t=f(2);o(5),p("placeholder",S(6,2,"artemisApp.forms.tutorialGroupForm.notificationInput.placeholder")),o(5),d(t.notificationControl!=null&&t.notificationControl.invalid&&(t.notificationControl!=null&&t.notificationControl.dirty||t.notificationControl!=null&&t.notificationControl.touched)?10:-1)}}function ei(i,m){if(i&1){let t=D();e(0,`
            `),l(1,"form",6),A("ngSubmit",function(){C(t);let n=f();return g(n.submitForm())}),e(2,`
                `),e(3,`
                `),l(4,"div",7),e(5,`
                    `),r(6,"label",8),e(7,`
                    `),r(8,"input",9),T(9,"artemisTranslate"),e(10,`
                    `),c(11,Pt,7,3),a(),e(12,`
                `),c(13,Lt,10,1),l(14,"div",7),e(15,`
                    `),r(16,"label",10),e(17,`
                    `),l(18,"div",11),e(19,`
                        `),r(20,"input",12),e(21,`
                        `),r(22,"label",13),e(23,`
                        `),r(24,"input",14),e(25,`
                        `),r(26,"label",15),e(27,`
                    `),a(),e(28,`
                `),a(),e(29,`
                `),e(30,`
                `),l(31,"div",7),e(32,`
                    `),r(33,"label",16),e(34,`
                    `),l(35,"input",17,0),T(37,"artemisTranslate"),A("focus",function(n){C(t);let s=f();return g(s.taFocus$.next(n.target.value))})("click",function(n){C(t);let s=f();return g(s.taClick$.next(n.target.value))}),a(),e(38,`
                    `),r(39,"small",18),e(40,`
                    `),c(41,$t,5,1),a(),e(42,`
                `),e(43,`
                `),l(44,"div",7),e(45,`
                    `),r(46,"label",19),e(47,`
                    `),l(48,"input",20,1),T(50,"artemisTranslate"),A("focus",function(n){C(t);let s=f();return g(s.campusFocus$.next(n.target.value))})("click",function(n){C(t);let s=f();return g(s.campusClick$.next(n.target.value))}),a(),e(51,`
                    `),r(52,"small",21),e(53,`
                    `),c(54,Wt,5,1),a(),e(55,`
                `),e(56,`
                `),l(57,"div",4),e(58,`
                    `),l(59,"div",22),e(60,`
                        `),r(61,"label",23),e(62,`
                        `),l(63,"div",24),e(64,`
                            `),r(65,"input",25),e(66,`
                            `),r(67,"div",26),e(68,`
                        `),a(),e(69,`
                    `),a(),e(70,`
                `),a(),e(71,`
                `),e(72,`
                `),l(73,"div",7),e(74,`
                    `),r(75,"label",27),e(76,`
                    `),l(77,"input",28,2),T(79,"artemisTranslate"),A("focus",function(n){C(t);let s=f();return g(s.languageFocus$.next(n.target.value))})("click",function(n){C(t);let s=f();return g(s.languageClick$.next(n.target.value))}),a(),e(80,`
                    `),r(81,"small",29),e(82,`
                `),a(),e(83,`
                `),e(84,`
                `),l(85,"div",7),e(86,`
                    `),c(87,Ht,5,1)(88,Zt,6,2),a(),e(89,`
                `),e(90,`
                `),l(91,"div",7),e(92,`
                    `),r(93,"label",30),e(94,`
                    `),l(95,"small",31),e(96,`
                        `),l(97,"a",32),e(98," GitHub Markdown Guide"),a(),e(99,`
                    `),a(),e(100,`
                    `),e(101,`
                    `),l(102,"jhi-markdown-editor-monaco",33),re("markdownChange",function(n){C(t);let s=f();return oe(s.additionalInformation,n)||(s.additionalInformation=n),g(n)}),a(),e(103,`
                `),a(),e(104,`
                `),r(105,"hr"),e(106,`
                `),l(107,"div",34),e(108,`
                    `),l(109,"input",35),re("ngModelChange",function(n){C(t);let s=f();return oe(s.configureSchedule,n)||(s.configureSchedule=n),g(n)}),a(),e(110,`
                    `),r(111,"label",36),e(112,`
                `),a(),e(113,`
                `),c(114,Jt,3,0),r(115,"hr"),e(116,`
                `),r(117,"jhi-schedule-form",37,3),e(119,`
                `),r(120,"hr",38),e(121,`
                `),e(122,`
                `),c(123,Yt,12,4),l(124,"div",39),e(125,`
                    `),l(126,"div",5),e(127,`
                        `),l(128,"button",40),e(129,`
                            `),r(130,"fa-icon",41),e(131,"\xA0"),r(132,"span",42),e(133,`
                        `),a(),e(134,`
                    `),a(),e(135,`
                `),a(),e(136,`
            `),a(),e(137,`
        `)}if(i&2){let t=f();o(),p("formGroup",t.form),o(7),p("placeholder",be(9,36,"artemisApp.forms.tutorialGroupForm.titleInput.placeholder",_(45,Vt))),o(3),d(t.titleControl!=null&&t.titleControl.invalid&&(t.titleControl!=null&&t.titleControl.dirty||t.titleControl!=null&&t.titleControl.touched)?11:-1),o(2),d(t.updateTutorialGroupChannelNameControl?13:-1),o(7),p("value",!0),o(4),p("value",!1),o(11),p("placeholder",S(37,39,"artemisApp.forms.tutorialGroupForm.teachingAssistantInput.placeholder"))("ngbTypeahead",t.taSearch)("inputFormatter",t.taFormatter)("resultFormatter",t.taFormatter)("editable",!1),o(6),d(t.teachingAssistantControl!=null&&t.teachingAssistantControl.invalid&&(t.teachingAssistantControl!=null&&t.teachingAssistantControl.dirty||t.teachingAssistantControl!=null&&t.teachingAssistantControl.touched)?41:-1),o(7),p("placeholder",S(50,41,"artemisApp.forms.tutorialGroupForm.campusInput.placeholder"))("inputFormatter",t.campusFormatter)("resultFormatter",t.campusFormatter)("ngbTypeahead",t.campusSearch)("editable",!0),o(6),d(t.campusControl!=null&&t.campusControl.invalid&&(t.campusControl!=null&&t.campusControl.dirty||t.campusControl!=null&&t.campusControl.touched)?54:-1),o(23),p("placeholder",S(79,43,"artemisApp.forms.tutorialGroupForm.languageInput.placeholder"))("inputFormatter",t.languageFormatter)("resultFormatter",t.languageFormatter)("ngbTypeahead",t.languageSearch)("editable",!0),o(10),d(t.capacityControl!=null&&t.capacityControl.invalid&&(t.capacityControl!=null&&t.capacityControl.dirty||t.capacityControl!=null&&t.capacityControl.touched)?87:-1),o(),d(t.languageControl!=null&&t.languageControl.invalid&&(t.languageControl!=null&&t.languageControl.dirty||t.languageControl!=null&&t.languageControl.touched)?88:-1),o(14),ne("markdown",t.additionalInformation),o(7),ne("ngModel",t.configureSchedule),p("ngModelOptions",_(46,qt)),o(5),d(t.showScheduledChangedWarning?114:-1),o(3),p("hidden",!t.configureSchedule)("parentFormGroup",t.form)("course",t.course),o(3),p("hidden",!t.configureSchedule),o(3),d(t.notificationControl?123:-1),o(5),p("disabled",!t.isSubmitPossible),o(2),p("icon",t.faSave)}}var ti=new RegExp("^[a-zA-Z0-9]{1}[a-zA-Z0-9- ]{0,19}$"),Ki=(()=>{class i{fb=v(B);courseManagementService=v($e);tutorialGroupService=v(Ue);alertService=v(Pe);formData={title:void 0,teachingAssistant:void 0,additionalInformation:void 0,capacity:void 0,isOnline:void 0,language:void 0,campus:void 0};course;isEditMode=!1;formSubmitted=new Ce;form;additionalInformation;teachingAssistantsAreLoading=!1;teachingAssistants;taTypeAhead;taFocus$=new F;taClick$=new F;campusAreLoading=!1;campus;campusTypeAhead;campusFocus$=new F;campusClick$=new F;languagesAreLoading=!1;languages;languageTypeAhead;languageFocus$=new F;languageClick$=new F;configureSchedule=!0;scheduleFormComponent;existingScheduleFormDate;existingTitle;faSave=Me;ngUnsubscribe=new F;get titleControl(){return this.form.get("title")}get teachingAssistantControl(){return this.form.get("teachingAssistant")}get campusControl(){return this.form.get("campus")}get capacityControl(){return this.form.get("capacity")}get isOnlineControl(){return this.form.get("isOnline")}get languageControl(){return this.form.get("language")}get notificationControl(){return this.form.get("notificationText")}get updateTutorialGroupChannelNameControl(){return this.form.get("updateTutorialGroupChannelName")}get isSubmitPossible(){return this.configureSchedule?!this.form.invalid:!(this.titleControl.invalid||this.teachingAssistantControl.invalid||this.capacityControl.invalid||this.isOnlineControl.invalid||this.languageControl.invalid||this.campusControl.invalid)}get showUpdateChannelNameCheckbox(){return!this.isEditMode||!this.existingTitle||!this.titleControl?.value?!1:this.existingTitle!==this.titleControl.value}get showScheduledChangedWarning(){if(!this.isEditMode)return!1;let t=!!this.existingScheduleFormDate;if(!t)return!1;let u=this.configureSchedule&&this.form.value.schedule;if(t&&!u)return!0;if(!t&&u)return!0;if(!t&&!u)return!1;{let n=G({},this.form.value.schedule);delete n.location;let s=G({},this.existingScheduleFormDate);return delete s.location,!z(n,s)}}ngOnInit(){this.getTeachingAssistantsInCourse(),this.getUniqueCampusValuesOfCourse(),this.getUniqueLanguageValuesOfCourse(),this.initializeForm()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnChanges(){this.initializeForm(),this.isEditMode&&this.formData&&this.setFormValues(this.formData)}submitForm(){let t=G({},this.form.value);t.additionalInformation=this.additionalInformation,this.configureSchedule||(t.schedule=void 0),this.formSubmitted.emit(t)}trackId(t,u){return u.id}taFormatter=t=>t.label;taSearch=t=>this.mergeSearch$(t,this.taFocus$,this.taClick$,this.taTypeAhead).pipe(y(u=>u===""?this.teachingAssistants:this.teachingAssistants.filter(n=>n.label.toLowerCase().indexOf(u.toLowerCase())>-1)));campusFormatter=t=>t;campusSearch=t=>this.mergeSearch$(t,this.campusFocus$,this.campusClick$,this.campusTypeAhead).pipe(y(u=>u===""?this.campus:this.campus.filter(n=>n.toLowerCase().indexOf(u.toLowerCase())>-1)));languageFormatter=t=>t;languageSearch=t=>this.mergeSearch$(t,this.languageFocus$,this.languageClick$,this.languageTypeAhead).pipe(y(u=>u===""?this.languages:this.languages.filter(n=>n.toLowerCase().indexOf(u.toLowerCase())>-1)));mergeSearch$(t,u,n,s){let x=t.pipe(ce(200),fe()),k=n.pipe(pe(()=>s&&!s.isPopupOpen()));return de(x,u,k)}initializeForm(){this.form||(this.form=this.fb.group({title:[void 0,[h.required,h.maxLength(19),h.pattern(ti)]],teachingAssistant:[void 0,[h.required]],capacity:[void 0,[h.min(1)]],isOnline:[!1,[h.required]],language:[void 0,[h.required,h.maxLength(255)]],campus:[void 0,h.maxLength(255)]}),this.isEditMode&&(this.form.addControl("notificationText",new ae(void 0,[h.maxLength(1e3)])),this.form.addControl("updateTutorialGroupChannelName",new ae(!0))))}setFormValues(t){t.teachingAssistant&&(t.teachingAssistant=this.createUserWithLabel(t.teachingAssistant)),this.configureSchedule=!!t.schedule,this.existingScheduleFormDate=t.schedule,this.existingTitle=t.title,this.additionalInformation=t.additionalInformation,this.form.patchValue(t)}createUserWithLabel(t){return me(G({},t),{label:this.createUserLabel(t)})}createUserLabel(t){let u="";return t.firstName&&(u+=t.firstName+" "),t.lastName&&(u+=t.lastName+" "),t.login&&(u+="("+t.login+")"),u.trim()}getTeachingAssistantsInCourse(){let t=u=>this.courseManagementService.getAllUsersInCourseGroup(this.course.id,u).pipe(q(n=>(Z(this.alertService,n),b([]))),y(n=>n.body));return V(b([]),se({tutors:t("tutors"),instructors:t("instructors"),editors:t("editors")}).pipe(y(u=>[...u.tutors,...u.instructors,...u.editors]),j(()=>{this.teachingAssistantsAreLoading=!1}),O(this.ngUnsubscribe))).subscribe(u=>{this.teachingAssistants=u.map(n=>this.createUserWithLabel(n))})}getUniqueCampusValuesOfCourse(){return V(b([]),this.tutorialGroupService.getUniqueCampusValues(this.course.id).pipe(q(t=>(Z(this.alertService,t),b([]))),y(t=>t.body),j(()=>{this.campusAreLoading=!1}),O(this.ngUnsubscribe))).subscribe(t=>{this.campus=t})}getUniqueLanguageValuesOfCourse(){return V(b([]),this.tutorialGroupService.getUniqueLanguageValues(this.course.id).pipe(q(t=>(Z(this.alertService,t),b([]))),y(t=>t.body),j(()=>{this.languagesAreLoading=!1}),O(this.ngUnsubscribe))).subscribe(t=>{this.languages=t,t.includes("English")||this.languages.push("English"),t.includes("German")||this.languages.push("German")})}static \u0275fac=function(u){return new(u||i)};static \u0275cmp=N({type:i,selectors:[["jhi-tutorial-group-form"]],viewQuery:function(u,n){if(u&1&&(w(wt,7),w(It,7),w(Et,7),w(kt,5)),u&2){let s;I(s=E())&&(n.taTypeAhead=s.first),I(s=E())&&(n.campusTypeAhead=s.first),I(s=E())&&(n.languageTypeAhead=s.first),I(s=E())&&(n.scheduleFormComponent=s.first)}},inputs:{formData:"formData",course:"course",isEditMode:"isEditMode"},outputs:{formSubmitted:"formSubmitted"},features:[he],decls:7,vars:1,consts:[["teachingAssistantInput","ngbTypeahead"],["campusInput","ngbTypeahead"],["languageInput","ngbTypeahead"],["scheduleForm",""],[1,"row"],[1,"col-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title","jhiTranslate","artemisApp.forms.tutorialGroupForm.titleInput.label",1,"required"],["type","text","id","title","formControlName","title",1,"form-control",3,"placeholder"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.isOnlineInput.label",1,"d-block"],["role","group",1,"btn-group"],["formControlName","isOnline","type","radio","id","online","autocomplete","off","checked","",1,"btn-check",3,"value"],["for","online","jhiTranslate","artemisApp.generic.online",1,"btn","btn-outline-primary"],["formControlName","isOnline","type","radio","id","offline","autocomplete","off",1,"btn-check",3,"value"],["for","offline","jhiTranslate","artemisApp.generic.offline",1,"btn","btn-outline-primary"],["for","teachingAssistant","jhiTranslate","artemisApp.forms.tutorialGroupForm.teachingAssistantInput.label",1,"required"],["id","teachingAssistant","type","text","formControlName","teachingAssistant",1,"form-control",3,"focus","click","placeholder","ngbTypeahead","inputFormatter","resultFormatter","editable"],["id","taHelp","jhiTranslate","artemisApp.forms.tutorialGroupForm.teachingAssistantInput.taHelp",1,"form-text","text-body-secondary"],["for","campus","jhiTranslate","artemisApp.forms.tutorialGroupForm.campusInput.label"],["id","campus","type","text","formControlName","campus",1,"form-control",3,"focus","click","placeholder","inputFormatter","resultFormatter","ngbTypeahead","editable"],["id","campusHelp","jhiTranslate","artemisApp.forms.tutorialGroupForm.campusInput.campusHelp",1,"form-text","text-body-secondary"],[1,"col-auto"],["for","capacity","jhiTranslate","artemisApp.forms.tutorialGroupForm.capacityInput.label"],[1,"input-group"],["id","capacity","type","number","formControlName","capacity",1,"form-control"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.capacityInput.unit",1,"input-group-text"],["for","language","jhiTranslate","artemisApp.forms.tutorialGroupForm.languageInput.label"],["id","language","type","text","formControlName","language",1,"form-control",3,"focus","click","placeholder","inputFormatter","resultFormatter","ngbTypeahead","editable"],["id","languageHelp","jhiTranslate","artemisApp.forms.tutorialGroupForm.languageInput.languageHelp",1,"form-text","text-body-secondary"],["for","additionalInfo","jhiTranslate","artemisApp.forms.tutorialGroupForm.additionalInformationInput.label",1,"d-block"],["id","additionalInfoHelp",1,"form-text","mb-1","text-body-secondary"],["href","https://guides.github.com/features/mastering-markdown/"],["aria-describedby","additionalInfoHelp","id","additionalInfo",1,"markdown-editor",3,"markdownChange","markdown"],[1,"form-check"],["type","checkbox","id","configureSchedule",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","configureSchedule","jhiTranslate","artemisApp.forms.scheduleForm.configureRecurringSchedule",1,"form-check-label"],[3,"hidden","parentFormGroup","course"],[3,"hidden"],[1,"row","mt-2"],["type","submit","id","submitButton",1,"btn","btn-primary",3,"disabled"],[3,"icon"],["jhiTranslate","entity.action.save"],[1,"alert","alert-danger"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.titleInput.requiredValidationError"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.titleInput.maxLengthValidationError",3,"translateValues"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.titleInput.regexValidationError"],[1,"form-check",3,"hidden"],["type","checkbox","formControlName","updateTutorialGroupChannelName","id","updateTutorialGroupChannelNameControl",1,"form-check-input"],["for","updateTutorialGroupChannelNameControl","jhiTranslate","artemisApp.forms.tutorialGroupForm.updateChannelNameInput.label",1,"form-check-label"],["id","updateChannelNameHelp","jhiTranslate","artemisApp.forms.tutorialGroupForm.updateChannelNameInput.explanation",1,"form-text","text-body-secondary","d-block"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.teachingAssistantInput.requiredValidationError"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.campusInput.maxLengthValidationError",3,"translateValues"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.capacityInput.minValidationError"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.languageInput.maxLengthValidationError",3,"translateValues"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.languageInput.requiredValidationError"],["role","alert","jhiTranslate","artemisApp.forms.scheduleForm.scheduleChangeWarning",1,"alert","alert-danger"],[1,"form-group","border","border-info","rounded","p-3"],["for","notificationText","jhiTranslate","artemisApp.forms.tutorialGroupForm.notificationInput.label"],["id","notificationText","formControlName","notificationText","rows","3",1,"form-control",3,"placeholder"],["id","notificationHelp","jhiTranslate","artemisApp.forms.tutorialGroupForm.notificationInput.help",1,"form-text","text-body-secondary"],["jhiTranslate","artemisApp.forms.tutorialGroupForm.notificationInput.maxLengthValidationError",3,"translateValues"]],template:function(u,n){u&1&&(l(0,"div",4),e(1,`
    `),l(2,"div",5),e(3,`
        `),c(4,ei,138,47),a(),e(5,`
`),a(),e(6,`
`)),u&2&&(o(4),d(n.form?4:-1))},dependencies:[H,ke,M,U,Ie,$,P,L,Ee,Q,R,W,X,Ne,ze,Xe,K,J],encapsulation:2,changeDetection:0})}return i})();export{ti as a,Ki as b};
//# sourceMappingURL=chunk-GI2Z27EW.js.map
