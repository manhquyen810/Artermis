import{a as Mt,e as ce}from"./chunk-4YACL3TM.js";import{a as se,b as J,c as le,d as de}from"./chunk-IJRVZ46L.js";import{e as oe,f as re}from"./chunk-KZGAUMRM.js";import{a as ae}from"./chunk-DIZEKHOC.js";import{n as ie}from"./chunk-Z2YUBN6N.js";import{b as bt}from"./chunk-YLNI6ED3.js";import{F as $t,K as Kt,v as Xt}from"./chunk-VZRSC3LP.js";import{d as vt}from"./chunk-EDXSOKK5.js";import{G as Zt,Zc as ee,kb as te,wd as ne}from"./chunk-Z4VHWOB5.js";import{a as wt}from"./chunk-U54OSGNH.js";import{c as Jt}from"./chunk-E2KBL4LX.js";import{n as Ct,s as Yt}from"./chunk-IOA4DPXY.js";import{Db as o,Dc as V,Ea as et,Ed as dt,La as Ft,Ma as b,Mc as z,Na as M,Oc as u,Sc as Rt,Tb as ut,Va as Vt,Yc as Wt,Zb as q,Zc as jt,_c as Nt,cd as lt,dd as e,ed as Ht,fd as It,gd as Bt,hd as mt,id as gt,jd as ht,kc as x,kd as xt,pd as Gt,rd as _t,sc as m,sd as Et,td as Ut,uc as rt,ud as P,vc as at,wb as pt,wc as st,wd as ft,xc as l,xd as F,yc as d,zc as p}from"./chunk-5LC5EQRR.js";import{f as Lt,h as zt}from"./chunk-3E746U5Y.js";var ue=Lt((St,pe)=>{(function(n,a){typeof St=="object"&&typeof pe<"u"?a(St):typeof define=="function"&&define.amd?define(["exports"],a):a(n.MobileDragDrop=n.MobileDragDrop||{})})(St,function(n){"use strict";var a="dnd-poly-",t=["none","copy","copyLink","copyMove","link","linkMove","move","all"],i=["none","copy","move","link"];function s(){var r=!1;try{var c=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,c)}catch{}return r}var h=s();function D(r){return r&&r.tagName}function y(r,c,g){g===void 0&&(g=!0),document.addEventListener(r,c,!!h&&{passive:g})}function Q(r,c){document.removeEventListener(r,c)}function K(r,c,g,f){f===void 0&&(f=!1);var C=h?{passive:!0,capture:f}:f;return r.addEventListener(c,g,C),{off:function(){r.removeEventListener(c,g,C)}}}function B(r){return r.length===0?0:r.reduce(function(c,g){return g+c},0)/r.length}function G(r,c){for(var g=0;g<r.changedTouches.length;g++)if(r.changedTouches[g].identifier===c)return!0;return!1}function X(r,c,g){for(var f=[],C=[],A=0;A<c.touches.length;A++){var T=c.touches[A];f.push(T[r+"X"]),C.push(T[r+"Y"])}g.x=B(f),g.y=B(C)}var H=["","-webkit-"];function $(r,T,g,f,C){var A=T.x,T=T.y;f&&(A+=f.x,T+=f.y),(C=C===void 0||C)&&(A-=parseInt(r.offsetWidth,10)/2,T-=parseInt(r.offsetHeight,10)/2);for(var E="translate3d("+A+"px,"+T+"px, 0)",I=0;I<H.length;I++){var L=H[I]+"transform";r.style[L]=E+" "+g[I]}}var nt=(Object.defineProperty(O.prototype,"dropEffect",{get:function(){return this.t},set:function(r){this.i.mode!==0&&-1<t.indexOf(r)&&(this.t=r)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(r){this.i.mode===2&&-1<t.indexOf(r)&&(this.i.effectAllowed=r)},enumerable:!1,configurable:!0}),O.prototype.setData=function(r,c){if(this.i.mode===2){if(-1<r.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[r]=c,this.i.types.indexOf(r)===-1&&this.i.types.push(r)}},O.prototype.getData=function(r){if(this.i.mode===1||this.i.mode===2)return this.i.data[r]||""},O.prototype.clearData=function(r){this.i.mode===2&&(r&&this.i.data[r]?(delete this.i.data[r],-1<(r=this.i.types.indexOf(r))&&this.i.types.splice(r,1)):(this.i.data={},this.i.types=[]))},O.prototype.setDragImage=function(r,c,g){this.i.mode===2&&this.h(r,c,g)},O);function O(r,c){this.i=r,this.h=c,this.t=i[0]}function Z(r,c){return r?r===t[0]?i[0]:r.indexOf(t[1])===0||r===t[7]?i[1]:r.indexOf(t[4])===0?i[3]:r===t[6]?i[2]:i[1]:c.nodeType===3&&c.tagName==="A"?i[3]:i[1]}function R(r,c,g,f,C,A,T){return T===void 0&&(T=null),C=function(E,I,L,k,j,U,kt){T===void 0&&(kt=null);var tt=g.changedTouches[0],k=new Event(r,{bubbles:!0,cancelable:k});return k.dataTransfer=U,k.relatedTarget=kt,k.screenX=tt.screenX,k.screenY=tt.screenY,k.clientX=tt.clientX,k.clientY=tt.clientY,k.pageX=tt.pageX,k.pageY=tt.pageY,E=E.getBoundingClientRect(),k.offsetX=k.clientX-E.left,k.offsetY=k.clientY-E.top,k}(c,0,0,A=A===void 0||A,document.defaultView,C,T),C=!c.dispatchEvent(C),f.mode=0,C}function it(r,c){if(!r||r===t[7])return c;if(c===i[1]){if(r.indexOf(i[1])===0)return i[1]}else if(c===i[3]){if(r.indexOf(i[3])===0||-1<r.indexOf("Link"))return i[3]}else if(c===i[2]&&(r.indexOf(i[2])===0||-1<r.indexOf("Move")))return i[2];return i[0]}var Tt=(W.prototype.o=function(){var r=this;this.u=1,this.l=i[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var c=this.m;if(this.I=new nt(this.v,function(A,T,E){c=A,typeof T!="number"&&typeof E!="number"||(r.j={x:T||0,y:E||0})}),this.v.mode=2,this.I.dropEffect=i[0],R("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;X("page",this.k,this.g);var g,f,C=this.S.dragImageSetup(c);return this.A=(g=C,H.map(function(A){return A=g.style[A+"transform"],A&&A!=="none"?A.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),C.style.position="absolute",C.style.left="0px",C.style.top="0px",C.style.zIndex="999999",C.classList.add("dnd-poly-drag-image"),C.classList.add("dnd-poly-icon"),this.O=C,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(f=getComputedStyle(c),this.j={x:0-parseInt(f.marginLeft,10),y:0-parseInt(f.marginTop,10)}):(C=c.getBoundingClientRect(),f=getComputedStyle(c),this.j={x:C.left-this.M.clientX-parseInt(f.marginLeft,10)+C.width/2,y:C.top-this.M.clientY-parseInt(f.marginTop,10)+C.height/2})),$(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){r.F||(r.F=!0,r.N(),r.F=!1)},this.S.iterationInterval),!0},W.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),Q("touchmove",this.P),Q("touchend",this.T),Q("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},W.prototype._=function(r){var c=this;if(G(r,this.M.identifier)!==!1){if(this.k=r,this.u===0){var g=void 0;if(this.S.dragStartConditionOverride)try{g=this.S.dragStartConditionOverride(r)}catch{g=!1}else g=r.touches.length===1;return g?void(this.o()===!0&&(this.H.preventDefault(),r.preventDefault())):void this.C()}if(r.preventDefault(),X("client",r,this.p),X("page",r,this.g),this.S.dragImageTranslateOverride)try{var f=!1;if(this.S.dragImageTranslateOverride(r,{x:this.p.x,y:this.p.y},this.V,function(C,A){c.O&&(f=!0,c.p.x+=C,c.p.y+=A,c.g.x+=C,c.g.y+=A,$(c.O,c.g,c.A,c.j,c.S.dragImageCenterOnTouch))}),f)return}catch{}$(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},W.prototype.X=function(r){if(G(r,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(r.preventDefault(),this.u=r.type==="touchcancel"?3:2):this.C()}},W.prototype.N=function(){var r=this,c=this.l;this.v.mode=3,this.I.dropEffect=i[0];var g,f,C,A,T,E=R("drag",this.m,this.k,this.v,this.I);if(E&&(this.l=i[0]),E||this.u===2||this.u===3)return this.Y(this.u)?(A=this.m,g=this.O,f=this.A,L=function(){r.q()},void((T=getComputedStyle(A)).visibility!=="hidden"&&T.display!=="none"?(g.classList.add("dnd-poly-snapback"),C=getComputedStyle(g),E=parseFloat(C.transitionDuration),isNaN(E)||E===0?L():((A={x:(I=A.getBoundingClientRect()).left,y:I.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,A.y+=document.body.scrollTop||document.documentElement.scrollTop,A.x-=parseInt(T.marginLeft,10),A.y-=parseInt(T.marginTop,10),I=parseFloat(C.transitionDelay),I=Math.round(1e3*(E+I)),$(g,A,f,void 0,!1),setTimeout(L,I))):L())):void this.q();var I=this.S.elementFromPoint(this.p.x,this.p.y),L=this.B;I!==this.V&&I!==this.B&&(this.V=I,this.B!==null&&(this.v.mode=3,this.I.dropEffect=i[0],R("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=Z(this.v.effectAllowed,this.m),R("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=it(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),L!==this.B&&D(L)&&(this.v.mode=3,this.I.dropEffect=i[0],R("dragleave",L,this.k,this.v,this.I,!1,this.B)),D(this.B)&&(this.v.mode=3,this.I.dropEffect=Z(this.v.effectAllowed,this.m),R("dragover",this.B,this.k,this.v,this.I)===!1?this.l=i[0]:this.l=it(this.I.effectAllowed,this.I.dropEffect)),c!==this.l&&this.O.classList.remove(a+c),c=a+this.l,this.O.classList.add(c)},W.prototype.Y=function(r){return r=this.l===i[0]||this.B===null||r===3,r?D(this.B)&&(this.v.mode=3,this.I.dropEffect=i[0],R("dragleave",this.B,this.k,this.v,this.I,!1)):D(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,R("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=i[0]),r},W.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,R("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},W);function W(r,c,g,f){this.H=r,this.S=c,this.m=g,this.L=f,this.u=0,this.V=null,this.B=null,this.k=r,this.M=r.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),y("touchmove",this.P,!1),y("touchend",this.T,!1),y("touchcancel",this.T,!1)}var ot,_={iterationInterval:150,tryFindDraggableTarget:function(r){for(var c=0,g=r.composedPath();c<g.length;c++){var f=g[c];do if(f.draggable!==!1&&(f.draggable===!0||f.getAttribute&&f.getAttribute("draggable")==="true"))return f;while((f=f.parentNode)&&f!==document.body)}},dragImageSetup:function(r){var c=r.cloneNode(!0);return function g(f,C){if(f.nodeType===1){for(var A,T,E=getComputedStyle(f),I=0;I<E.length;I++){var L=E[I];C.style.setProperty(L,E.getPropertyValue(L),E.getPropertyPriority(L))}C.style.pointerEvents="none",C.removeAttribute("id"),C.removeAttribute("class"),C.removeAttribute("draggable"),C.nodeName==="CANVAS"&&(A=C,T=(T=f).getContext("2d").getImageData(0,0,T.width,T.height),A.getContext("2d").putImageData(T,0,0))}if(f.hasChildNodes())for(I=0;I<f.childNodes.length;I++)g(f.childNodes[I],C.childNodes[I]);(function Ot(j){if(j instanceof HTMLElement&&(j.style.pointerEvents="none"),j.children&&j.children.length)for(var U=0;U<j.children.length;U++)Ot(j.children[U]);if(j.shadowRoot&&j.shadowRoot.children.length)for(U=0;U<j.shadowRoot.children.length;U++)Ot(j.shadowRoot.children[U])})(C)}(r,c),c},elementFromPoint:function(r,c){var g=document.elementFromPoint(r,c);if(g){for(;g.shadowRoot;){var f=g.shadowRoot.elementFromPoint(r,c);if(f===null||f===g)break;g=f}return g}}};function v(r){if(!ot){var c=_.tryFindDraggableTarget(r);if(c)try{ot=new Tt(r,_,c,S)}catch(g){throw S(_,r,3),g}}}function w(r){function c(I){C.off(),A.off(),T.off(),E.off(),g&&g.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(f)}var g=r.target;g&&g.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var f=window.setTimeout(function(){C.off(),A.off(),T.off(),E.off(),v(r)},_.holdToDrag),C=K(g,"touchend",c),A=K(g,"touchcancel",c),T=K(g,"touchmove",c),E=K(window,"scroll",c,!0)}function S(r,c,g){if(g===0&&r.defaultActionOverride)try{r.defaultActionOverride(c),c.defaultPrevented}catch{}ot=null}n.polyfill=function(r){if(r&&Object.keys(r).forEach(function(g){_[g]=r[g]}),!_.forceApply&&(c=(c=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||c&&"ontouchstart"in document.documentElement)}),c.userAgentSupportingNativeDnD&&c.draggable&&c.dragEvents))return!1;var c;return _.holdToDrag?y("touchstart",w,!1):y("touchstart",v,!1),!0},n.supportsPassiveEventListener=s,Object.defineProperty(n,"G",{value:!0})})});var ge=Lt((At,me)=>{(function(n,a){typeof At=="object"&&typeof me<"u"?a(At):typeof define=="function"&&define.amd?define(["exports"],a):a(n.MobileDragDrop=n.MobileDragDrop||{})})(At,function(n){"use strict";function a(_){return _===document.body||_===document.documentElement}function t(_,v){var w;if(a(_))w=v===0?_.clientLeft:_.clientTop;else{var S=_.getBoundingClientRect();w=v===0?S.left:S.top}return w}function i(_,v){var w;return a(_)?w=v===0?window.innerWidth:window.innerHeight:w=v===0?_.clientWidth:_.clientHeight,w}function s(_,v,w){var S=v===0?"scrollLeft":"scrollTop",r=a(_);if(arguments.length===2)return r?document.body[S]||document.documentElement[S]:_[S];r?(document.documentElement[S]+=w,document.body[S]+=w):_[S]+=w}function h(_){var v=getComputedStyle(_);return _.scrollHeight>_.clientHeight&&(v.overflowY==="scroll"||v.overflowY==="auto")||_.scrollWidth>_.clientWidth&&(v.overflowX==="scroll"||v.overflowX==="auto")}function D(_){do{if(!_)return;if(h(_))return _;if(_===document.documentElement)return null}while(_=_.parentNode);return null}function y(_,v,w){return _<w?-1:v-_<w?1:0}function Q(_,v,w,S){return _===-1?Math.abs(v-S):_===1?Math.abs(w-v-S):0}function K(_,v,w){var S=_===0?w.scrollX:w.scrollY;if(v===1){var r=_===0?w.scrollWidth-w.width:w.scrollHeight-w.height;return S>=r}else if(v===-1)return S<=0;return!0}var B={threshold:75,velocityFn:function(_,v){var w=_/v,S=w*w*w;return S*v}},G={horizontal:0,vertical:0},X={x:0,y:0},H,$,nt,O,Z;function R(_,v,w,S){$=v,Z=S,nt!==w&&(nt=w,O=D(nt));var r=W($,O,B.threshold,G,X);r?it():H&&(window.cancelAnimationFrame(H),H=null)}function it(){H||(H=window.requestAnimationFrame(Tt))}function Tt(){var _=0,v=0,w=a(O);G.horizontal!==0&&(_=Math.round(B.velocityFn(X.x,B.threshold)*G.horizontal),s(O,0,_)),G.vertical!==0&&(v=Math.round(B.velocityFn(X.y,B.threshold)*G.vertical),s(O,1,v)),w?Z(_,v):Z(0,0),H=null,W($,O,B.threshold,G,X)&&it()}function W(_,v,w,S,r){if(!_||!v)return!1;var c={x:t(v,0),y:t(v,1),width:i(v,0),height:i(v,1),scrollX:s(v,0),scrollY:s(v,1),scrollWidth:v.scrollWidth,scrollHeight:v.scrollHeight},g={x:_.x-c.x,y:_.y-c.y};return S.horizontal=y(g.x,c.width,w),S.vertical=y(g.y,c.height,w),S.horizontal&&K(0,S.horizontal,c)?S.horizontal=0:S.horizontal&&(r.x=Q(S.horizontal,g.x,c.width,w)),S.vertical&&K(1,S.vertical,c)?S.vertical=0:S.vertical&&(r.y=Q(S.vertical,g.y,c.height,w)),!!(S.horizontal||S.vertical)}var ot=R;n.scrollBehaviourDragImageTranslateOverride=ot,Object.defineProperty(n,"__esModule",{value:!0})})});var xe=zt(ue()),_e=zt(ge());var ct=class{id;dragItemIndex;dropLocationIndex;invalid=!1;submittedAnswer;question;dragItem;dropLocation;constructor(a,t){this.dragItem=a,this.dropLocation=t}};var ve=(n,a)=>({questionCorrect:n,questionWrong:a}),we=(n,a)=>({paramTitle:n,paramIndex:a}),N=(n,a,t,i)=>({paramScore:n,paramQuestionScore:a,paramPoint:t,paramScorePoint:i}),Se=(n,a,t,i,s,h,D,y)=>({paramScore:n,paramQuestionScore:a,paramInTotalWrongOptions:t,paramInTotalRightOptions:i,paramPoint:s,paramScorePoint:h,wrongOption:D,rightOption:y}),Ae=(n,a,t,i,s,h,D,y)=>({paramScore:n,paramQuestionScore:a,paramWrongMappedItems:t,paramRightMapping:i,paramPoint:s,paramScorePoint:h,rightMap:D,wrongMap:y}),De=(n,a,t,i,s,h,D,y)=>({paramScore:n,paramQuestionScore:a,paramShortAnswerWrongOption:t,paramShortAnswerCorrectAnswers:i,paramPoint:s,paramScorePoint:h,rightGap:D,wrongGap:y}),Dt=(n,a,t,i,s,h,D,y,Q)=>({paramScore:n,paramQuestionScore:a,paramAmountOfAnswerOptions:t,paramInTotalWrongOptions:i,paramInTotalRightOptions:s,paramPoint:h,paramScorePoint:D,wrongOption:y,rightOption:Q}),yt=(n,a,t,i,s,h,D,y,Q)=>({paramScore:n,paramQuestionScore:a,paramWrongMappedItems:t,paramRightMapping:i,paramDragAndDropElementsCount:s,paramPoint:h,paramScorePoint:D,rightMap:y,wrongMap:Q}),qt=(n,a,t,i,s,h,D,y,Q)=>({paramScore:n,paramQuestionScore:a,paramShortAnswerWrongOption:t,paramShortAnswerCorrectAnswers:i,paramCount:s,paramPoint:h,paramScorePoint:D,rightGap:y,wrongGap:Q});function ye(n,a){if(n&1&&(e(0,`
                    `),l(1,"span"),e(2,`
                        `),p(3,"span",12),d(),e(4,`
                `)),n&2){let t=u(3);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function qe(n,a){if(n&1&&(e(0,`
                    `),l(1,"span"),e(2,`
                        `),p(3,"span",13),d(),e(4,`
                `)),n&2){let t=u(3);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function Te(n,a){if(n&1&&(e(0,`
        `),l(1,"div",9),e(2,`
            `),p(3,"span",10),e(4,`
            `),p(5,"span",11),e(6,`
            `),p(7,"br"),e(8,`
            `),l(9,"div"),e(10,`
                `),q(11,ye,5,6)(12,qe,5,6),d(),e(13,`
        `),d(),e(14,`
    `)),n&2){let t=u(2);o(11),m(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0?11:-1),o(),m(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0?-1:12)}}function Ie(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",16),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function Ee(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",17),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",ft(1,Se,t.score,t.question.points,t.inTotalSelectedWrongOptions,t.inTotalSelectedRightOptions,t.scorePoint,t.questionPoint,t.wrongOption,t.rightOption))}}function be(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,Ie,5,6)(4,Ee,5,10),d(),e(5,`
            `)),n&2){let t=u(3);o(3),m(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0?3:-1),o(),m(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0?-1:4)}}function Me(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",18),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function Qe(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",19),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",ft(1,Ae,t.score,t.question.points,t.incorrectlyMappedDragAndDropItems,t.correctlyMappedDragAndDropItems,t.scorePoint,t.questionPoint,t.rightMap,t.wrongMap))}}function Pe(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,Me,5,6)(4,Qe,5,10),d(),e(5,`
            `)),n&2){let t=u(3);o(3),m(t.incorrectlyMappedDragAndDropItems===0?3:-1),o(),m(t.incorrectlyMappedDragAndDropItems!==0?4:-1)}}function Oe(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",20),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function ke(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",21),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",ft(1,De,t.score,t.question.points,t.shortAnswerWrongAnswers,t.shortAnswerCorrectAnswers,t.scorePoint,t.questionPoint,t.rightGap,t.wrongGap))}}function Le(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,Oe,5,6)(4,ke,5,10),d(),e(5,`
            `)),n&2){let t=u(3);o(3),m(t.shortAnswerWrongAnswers>0?-1:3),o(),m(t.shortAnswerWrongAnswers>0?4:-1)}}function ze(n,a){if(n&1&&(e(0,`
        `),l(1,"div",9),e(2,`
            `),p(3,"span",14),e(4,`
            `),p(5,"span",15),e(6,`
            `),p(7,"br"),e(8,`
            `),q(9,be,6,2)(10,Pe,6,2)(11,Le,6,2),d(),e(12,`
    `)),n&2){let t=u(2);o(9),m(t.question.type===t.QuizQuestionType.MULTIPLE_CHOICE?9:-1),o(),m(t.question.type===t.QuizQuestionType.DRAG_AND_DROP?10:-1),o(),m(t.question.type===t.QuizQuestionType.SHORT_ANSWER?11:-1)}}function Fe(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",16),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function Ve(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",24),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",25),e(9,`
                        `),d(),e(10,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(8,Dt,[t.score,t.question.points,t.multipleChoiceAnswerOptions,t.inTotalSelectedWrongOptions,t.inTotalSelectedRightOptions,t.scorePoint,t.questionPoint,t.wrongOption,t.rightOption])),o(3),xt("+ ",t.inTotalSelectedRightOptions,"*",t.question.points," /",t.multipleChoiceAnswerOptions,` -
                                `,t.inTotalSelectedWrongOptions,"*",t.question.points,"/",t.multipleChoiceAnswerOptions," = ",t.score,"")}}function Re(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",24),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",26),e(9,`
                            `),p(10,"p",25),e(11,`
                        `),d(),e(12,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(7,Dt,[t.score,t.question.points,t.multipleChoiceAnswerOptions,t.inTotalSelectedWrongOptions,t.inTotalSelectedRightOptions,t.scorePoint,t.questionPoint,t.wrongOption,t.rightOption])),o(3),ht("+ ",t.inTotalSelectedRightOptions,"*",t.question.points," /",t.multipleChoiceAnswerOptions,` -
                                `,t.inTotalSelectedWrongOptions,"*",t.question.points,"/",t.multipleChoiceAnswerOptions,`
                                = 0
                            `)}}function We(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,Fe,5,6)(4,Ve,11,18)(5,Re,13,17),d(),e(6,`
            `)),n&2){let t=u(3);o(3),m(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0?3:-1),o(),m(!(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0)&&t.differenceMultipleChoice>=0?4:-1),o(),m(!(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0)&&t.differenceMultipleChoice<0?5:-1)}}function je(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",18),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function Ne(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",27),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",25),e(9,`
                        `),d(),e(10,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(8,yt,[t.score,t.question.points,t.incorrectlyMappedDragAndDropItems,t.correctlyMappedDragAndDropItems,t.mappedLocations,t.scorePoint,t.questionPoint,t.rightMap,t.wrongMap])),o(3),xt("+ ",t.correctlyMappedDragAndDropItems,"*",t.question.points,"/",t.mappedLocations,` -
                                `,t.incorrectlyMappedDragAndDropItems,"*",t.question.points,"/",t.mappedLocations," = ",t.score,"")}}function He(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",27),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",26),e(9,`
                            `),p(10,"p",25),e(11,`
                        `),d(),e(12,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(7,yt,[t.score,t.question.points,t.incorrectlyMappedDragAndDropItems,t.correctlyMappedDragAndDropItems,t.mappedLocations,t.scorePoint,t.questionPoint,t.rightMap,t.wrongMap])),o(3),ht("+ ",t.correctlyMappedDragAndDropItems,"*",t.question.points,"/",t.mappedLocations,` -
                                `,t.incorrectlyMappedDragAndDropItems,"*",t.question.points,"/",t.mappedLocations,`
                                = 0
                            `)}}function Be(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,je,5,6)(4,Ne,11,18)(5,He,13,17),d(),e(6,`
            `)),n&2){let t=u(3);o(3),m(t.incorrectlyMappedDragAndDropItems===0?3:-1),o(),m(t.incorrectlyMappedDragAndDropItems!==0&&t.differenceDragAndDrop>=0?4:-1),o(),m(t.incorrectlyMappedDragAndDropItems!==0&&t.differenceDragAndDrop<0?5:-1)}}function Ge(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",20),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function Ue(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",28),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",25),e(9,`
                        `),d(),e(10,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(8,qt,[t.score,t.question.points,t.shortAnswerWrongAnswers,t.shortAnswerCorrectAnswers,t.shortAnswerSpots,t.scorePoint,t.questionPoint,t.rightGap,t.wrongGap])),o(3),xt("+ ",t.shortAnswerCorrectAnswers,"*",t.question.points,"/",t.shortAnswerSpots," - ",t.shortAnswerWrongAnswers,"*",t.question.points,"/",t.shortAnswerSpots," = ",t.score,"")}}function Ye(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",28),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",26),e(9,`
                            `),p(10,"p",25),e(11,`
                        `),d(),e(12,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(7,qt,[t.score,t.question.points,t.shortAnswerWrongAnswers,t.shortAnswerCorrectAnswers,t.shortAnswerSpots,t.scorePoint,t.questionPoint,t.rightGap,t.wrongGap])),o(3),ht("+ ",t.shortAnswerCorrectAnswers,"*",t.question.points,"/",t.shortAnswerSpots," - ",t.shortAnswerWrongAnswers,"*",t.question.points,"/",t.shortAnswerSpots,`
                                = 0
                            `)}}function Xe(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,Ge,5,6)(4,Ue,11,18)(5,Ye,13,17),d(),e(6,`
            `)),n&2){let t=u(3);o(3),m(t.shortAnswerWrongAnswers<=0?3:-1),o(),m(t.shortAnswerWrongAnswers>0&&t.differenceShortAnswer>=0?4:-1),o(),m(t.shortAnswerWrongAnswers>0&&t.differenceShortAnswer<0?5:-1)}}function $e(n,a){if(n&1&&(e(0,`
        `),l(1,"div",9),e(2,`
            `),p(3,"span",22),e(4,`
            `),p(5,"span",23),e(6,`
            `),p(7,"br"),e(8,`
            `),q(9,We,7,3)(10,Be,7,3)(11,Xe,7,3),d(),e(12,`
    `)),n&2){let t=u(2);o(9),m(t.question.type===t.QuizQuestionType.MULTIPLE_CHOICE?9:-1),o(),m(t.question.type===t.QuizQuestionType.DRAG_AND_DROP?10:-1),o(),m(t.question.type===t.QuizQuestionType.SHORT_ANSWER?11:-1)}}function Ke(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",16),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function Je(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",24),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",25),e(9,`
                        `),d(),e(10,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(5,Dt,[t.score,t.question.points,t.multipleChoiceAnswerOptions,t.inTotalSelectedWrongOptions,t.inTotalSelectedRightOptions,t.scorePoint,t.questionPoint,t.wrongOption,t.rightOption])),o(3),gt("+ ",t.inTotalSelectedRightOptions,"*",t.question.points," /",t.multipleChoiceAnswerOptions," = ",t.score,"")}}function Ze(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",24),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",25),e(9,`
                        `),d(),e(10,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(4,Dt,[t.score,t.question.points,t.multipleChoiceAnswerOptions,t.inTotalSelectedWrongOptions,t.inTotalSelectedRightOptions,t.scorePoint,t.questionPoint,t.wrongOption,t.rightOption])),o(3),mt("+ ",t.inTotalSelectedRightOptions,"*",t.question.points," /",t.multipleChoiceAnswerOptions," = 0 ")}}function tn(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,Ke,5,6)(4,Je,11,15)(5,Ze,11,14),d(),e(6,`
            `)),n&2){let t=u(3);o(3),m(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0?3:-1),o(),m(!(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0)&&t.differenceMultipleChoice>=0?4:-1),o(),m(!(t.correctMultipleChoiceAnswers===t.multipleChoiceCorrectAnswerCorrectlyChosen&&t.multipleChoiceWrongAnswerChosen===0)&&t.differenceMultipleChoice<0?5:-1)}}function en(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",18),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function nn(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",27),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",25),e(9,`
                        `),d(),e(10,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(5,yt,[t.score,t.question.points,t.incorrectlyMappedDragAndDropItems,t.correctlyMappedDragAndDropItems,t.mappedLocations,t.scorePoint,t.questionPoint,t.rightMap,t.wrongMap])),o(3),gt("+ ",t.correctlyMappedDragAndDropItems,"*",t.question.points,"/",t.mappedLocations," = ",t.score,"")}}function on(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",27),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",26),e(9,`
                            `),p(10,"p",25),e(11,`
                        `),d(),e(12,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(4,yt,[t.score,t.question.points,t.incorrectlyMappedDragAndDropItems,t.correctlyMappedDragAndDropItems,t.mappedLocations,t.scorePoint,t.questionPoint,t.rightMap,t.wrongMap])),o(3),mt("+ ",t.correctlyMappedDragAndDropItems,"*",t.question.points,"/",t.mappedLocations," = 0 ")}}function rn(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,en,5,6)(4,nn,11,15)(5,on,13,14),d(),e(6,`
            `)),n&2){let t=u(3);o(3),m(t.incorrectlyMappedDragAndDropItems===0?3:-1),o(),m(t.incorrectlyMappedDragAndDropItems!==0&&t.differenceDragAndDrop>=0?4:-1),o(),m(t.incorrectlyMappedDragAndDropItems!==0&&t.differenceDragAndDrop<0?5:-1)}}function an(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"span",20),d(),e(4,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",P(1,N,t.score,t.question.points,t.scorePoint,t.questionPoint))}}function sn(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",28),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",25),e(9,`
                        `),d(),e(10,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(5,qt,[t.score,t.question.points,t.shortAnswerWrongAnswers,t.shortAnswerCorrectAnswers,t.shortAnswerSpots,t.scorePoint,t.questionPoint,t.rightGap,t.wrongGap])),o(3),gt("+ ",t.shortAnswerCorrectAnswers,"*",t.question.points,"/",t.shortAnswerSpots," = ",t.score,"")}}function ln(n,a){if(n&1&&(e(0,`
                        `),l(1,"span"),e(2,`
                            `),p(3,"p",28),e(4,`
                            `),l(5,"b"),e(6),d(),e(7,`
                            `),p(8,"p",25),e(9,`
                        `),d(),e(10,`
                    `)),n&2){let t=u(4);o(3),x("translateValues",F(4,qt,[t.score,t.question.points,t.shortAnswerWrongAnswers,t.shortAnswerCorrectAnswers,t.shortAnswerSpots,t.scorePoint,t.questionPoint,t.rightGap,t.wrongGap])),o(3),mt("+ ",t.shortAnswerCorrectAnswers,"*",t.question.points,"/",t.shortAnswerSpots," = 0 ")}}function dn(n,a){if(n&1&&(e(0,`
                `),l(1,"div"),e(2,`
                    `),q(3,an,5,6)(4,sn,11,15)(5,ln,11,14),d(),e(6,`
            `)),n&2){let t=u(3);o(3),m(t.shortAnswerWrongAnswers<=0?3:-1),o(),m(t.shortAnswerWrongAnswers>0&&t.differenceShortAnswer>=0?4:-1),o(),m(t.shortAnswerWrongAnswers>0&&t.differenceShortAnswer<0?5:-1)}}function cn(n,a){if(n&1&&(e(0,`
        `),l(1,"div",9),e(2,`
            `),p(3,"span",29),e(4,`
            `),p(5,"span",30),e(6,`
            `),p(7,"br"),e(8,`
            `),q(9,tn,7,3)(10,rn,7,3)(11,dn,7,3),d(),e(12,`
    `)),n&2){let t=u(2);o(9),m(t.question.type===t.QuizQuestionType.MULTIPLE_CHOICE?9:-1),o(),m(t.question.type===t.QuizQuestionType.DRAG_AND_DROP?10:-1),o(),m(t.question.type===t.QuizQuestionType.SHORT_ANSWER?11:-1)}}function pn(n,a){if(n&1){let t=V();e(0,`
    `),l(1,"div",3),e(2,`
        `),l(3,"h5",4),e(4,`
            `),p(5,"span",5),e(6,`
        `),d(),e(7,`
        `),l(8,"button",6),z("click",function(){let s=b(t).dismiss;return M(s())}),d(),e(9,`
    `),d(),e(10,`
    `),q(11,Te,15,2)(12,ze,13,3)(13,$e,13,3)(14,cn,13,3),l(15,"div",7),e(16,`
        `),l(17,"button",8),z("click",function(){let s=b(t).close;return M(s())}),e(18,"Close"),d(),e(19,`
    `),d(),e(20,`
`)}if(n&2){let t=u();o(5),x("translateValues",Et(5,we,t.question.title,t.questionIndex)),o(6),m(t.question.scoringType===t.ScoringType.ALL_OR_NOTHING&&t.isSingleChoice?11:-1),o(),m(t.question.scoringType===t.ScoringType.ALL_OR_NOTHING&&!t.isSingleChoice?12:-1),o(),m(t.question.scoringType===t.ScoringType.PROPORTIONAL_WITH_PENALTY?13:-1),o(),m(t.question.scoringType===t.ScoringType.PROPORTIONAL_WITHOUT_PENALTY?14:-1)}}var he=(()=>{class n{modalService=et(Xt);translateService=et(Jt);QuizQuestionType=J;ScoringType=se;score;questionIndex;question;dragAndDropMapping=new Array;incorrectlyMappedDragAndDropItems;mappedLocations;multipleChoiceMapping=new Array;shortAnswerText=new Array;correctlyMappedDragAndDropItems;multipleChoiceSubmittedResult;quizQuestions;multipleChoiceCorrectAnswerCorrectlyChosen;multipleChoiceWrongAnswerChosen;correctMultipleChoiceAnswers;forgottenMultipleChoiceRightAnswers;multipleChoiceAnswerOptions;inTotalSelectedRightOptions;inTotalSelectedWrongOptions;differenceMultipleChoice;checkForCorrectAnswers=new Array;checkForWrongAnswers=new Array;isSingleChoice;differenceDragAndDrop;shortAnswerSpots;shortAnswerCorrectAnswers;shortAnswerWrongAnswers;differenceShortAnswer;questionPoint;scorePoint;wrongOption;rightOption;rightMap;wrongMap;rightGap;wrongGap;farQuestionCircle=ie;ngAfterViewInit(){switch(this.checkForSingleOrPluralPoints(),this.question.type){case J.MULTIPLE_CHOICE:this.countMultipleChoice();break;case J.DRAG_AND_DROP:this.countDragAndDrop();break;case J.SHORT_ANSWER:this.countShortAnswer();break}}open(t){this.modalService.open(t,{size:"lg"})}submittedAnswerCorrectValues(){let t=new Array;for(let h of this.quizQuestions||[]){let D=h;D.id===this.question.id&&(t=D.answerOptions,this.correctMultipleChoiceAnswers=D.answerOptions.filter(y=>y.isCorrect).length)}if(!this.multipleChoiceSubmittedResult||!this.multipleChoiceSubmittedResult.submission)return;let i=this.multipleChoiceSubmittedResult.submission,s=i.submittedAnswers?.length??0;for(let h=0;h<s;h++)if(i.submittedAnswers[h].quizQuestion.id===this.question.id){let D=i.submittedAnswers[h];if(D.selectedOptions===void 0)this.checkForCorrectAnswers=[],this.checkForWrongAnswers=[];else for(let y of D.selectedOptions)for(let Q of t)y.id===Q.id&&Q.isCorrect?this.checkForCorrectAnswers.push(y):y.id===Q.id&&!Q.isCorrect&&this.checkForWrongAnswers.push(y)}}countMultipleChoice(){this.submittedAnswerCorrectValues();let t="artemisApp.quizExercise.explanationText.",i=this.question;this.isSingleChoice=i.singleChoice??!1,this.multipleChoiceAnswerOptions=i.answerOptions.length,this.multipleChoiceCorrectAnswerCorrectlyChosen=this.checkForCorrectAnswers.length,this.multipleChoiceWrongAnswerChosen=this.checkForWrongAnswers.length,this.forgottenMultipleChoiceRightAnswers=this.correctMultipleChoiceAnswers-this.multipleChoiceCorrectAnswerCorrectlyChosen,this.inTotalSelectedRightOptions=this.multipleChoiceCorrectAnswerCorrectlyChosen+(this.multipleChoiceAnswerOptions-this.correctMultipleChoiceAnswers-this.multipleChoiceWrongAnswerChosen),this.inTotalSelectedWrongOptions=this.multipleChoiceWrongAnswerChosen+this.forgottenMultipleChoiceRightAnswers,this.differenceMultipleChoice=this.inTotalSelectedRightOptions-this.inTotalSelectedWrongOptions,this.inTotalSelectedRightOptions===1?this.rightOption=this.translateService.instant(t+"option"):this.rightOption=this.translateService.instant(t+"options"),this.inTotalSelectedWrongOptions===1?this.wrongOption=this.translateService.instant(t+"option"):this.wrongOption=this.translateService.instant(t+"options")}countDragAndDrop(){let t="artemisApp.quizExercise.explanationText.";this.differenceDragAndDrop=this.correctlyMappedDragAndDropItems-this.incorrectlyMappedDragAndDropItems,this.correctlyMappedDragAndDropItems===1?this.rightMap=this.translateService.instant(t+"item"):this.rightMap=this.translateService.instant(t+"items"),this.incorrectlyMappedDragAndDropItems===1?this.wrongMap=this.translateService.instant(t+"item"):this.wrongMap=this.translateService.instant(t+"items")}countShortAnswer(){let t="artemisApp.quizExercise.explanationText.",i=this.question;this.shortAnswerSpots=i.spots.length,this.shortAnswerCorrectAnswers=this.shortAnswerText.filter(s=>s.isCorrect).length,this.shortAnswerWrongAnswers=this.shortAnswerSpots-this.shortAnswerCorrectAnswers,this.differenceShortAnswer=this.shortAnswerCorrectAnswers-this.shortAnswerWrongAnswers,this.shortAnswerCorrectAnswers===1?this.rightGap=this.translateService.instant(t+"textgap"):this.rightGap=this.translateService.instant(t+"textgaps"),this.shortAnswerWrongAnswers===1?this.wrongGap=this.translateService.instant(t+"textgap"):this.wrongGap=this.translateService.instant(t+"textgaps")}checkForSingleOrPluralPoints(){let t="artemisApp.quizExercise.explanationText.";this.question.points===1?this.questionPoint=this.translateService.instant(t+"point"):this.questionPoint=this.translateService.instant(t+"points"),this.score===void 0&&(this.score=0),this.score===1?this.scorePoint=this.translateService.instant(t+"point"):this.scorePoint=this.translateService.instant(t+"points")}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ut({type:n,selectors:[["jhi-quiz-scoring-infostudent-modal"]],inputs:{score:"score",questionIndex:"questionIndex",question:"question",dragAndDropMapping:"dragAndDropMapping",incorrectlyMappedDragAndDropItems:"incorrectlyMappedDragAndDropItems",mappedLocations:"mappedLocations",multipleChoiceMapping:"multipleChoiceMapping",shortAnswerText:"shortAnswerText",correctlyMappedDragAndDropItems:"correctlyMappedDragAndDropItems",multipleChoiceSubmittedResult:"multipleChoiceSubmittedResult",quizQuestions:"quizQuestions"},decls:11,vars:5,consts:[["scoringExplanation",""],[1,"btn",3,"click"],[3,"ngClass","icon"],[1,"modal-header"],[1,"modal-title"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTitle",3,"translateValues"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],[1,"modal-body"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTypeSingleChoice",1,"font-weight-bold"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTypeSingleChoiceExplanation"],["jhiTranslate","artemisApp.quizExercise.explanationText.multipleChoiceSingleChoiceCorrect",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.multipleChoiceSingleChoiceNotCorrect",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTypeAllOrNothing",1,"font-weight-bold"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTypeAllOrNothingExplanation"],["jhiTranslate","artemisApp.quizExercise.explanationText.multipleChoiceAllOrNothingCorrect",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.multipleChoiceAllOrNothingNotCorrect",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.dragAndDropAllOrNothingCorrect",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.dragAndDropAllOrNothingNotCorrect",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.shortAnswerAllOrNothingCorrect",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.shortAnswerAllOrNothingNotCorrect",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTypeProportional",1,"font-weight-bold"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTypeProportionalExplanation"],["jhiTranslate","artemisApp.quizExercise.explanationText.multipleChoiceProp",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.KeepTrying"],["jhiTranslate","artemisApp.quizExercise.explanationText.zeroPointer"],["jhiTranslate","artemisApp.quizExercise.explanationText.dragAndDropProp",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.shortAnswerProp",3,"translateValues"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTypeProportionalWithout",1,"font-weight-bold"],["jhiTranslate","artemisApp.quizExercise.explanationText.scoringTypeProportionalWithoutExplanation"]],template:function(i,s){if(i&1){let h=V();q(0,pn,21,8,"ng-template",null,0,dt),e(2,`
`),l(3,"div"),e(4,`
    `),l(5,"button",1),z("click",function(){b(h);let y=lt(1);return M(s.open(y))}),e(6,`
        `),p(7,"fa-icon",2),e(8,`
    `),d(),e(9,`
`),d(),e(10,`
`)}i&2&&(o(7),x("ngClass",Et(2,ve,s.score===s.question.points,s.score!==s.question.points))("icon",s.farQuestionCircle))},dependencies:[wt,vt,Ct],styles:[".questionCorrect[_ngcontent-%COMP%]{color:var(--quiz-scoring-info-student-modal-question-correct)}.questionWrong[_ngcontent-%COMP%]{color:var(--quiz-scoring-info-student-modal-question-wrong)}"]})}return n})();var un=(n,a,t)=>({disabled:n,result:a,incorrect:t}),Qt=n=>({incorrect:n}),Pt=(n,a,t,i)=>({top:n,left:a,width:t,height:i});function mn(n,a){if(n&1&&(e(0,`
            `),l(1,"h2"),e(2,`
                `),l(3,"span",10),p(4,"fa-icon",11),e(5,"\xA0"),p(6,"span",12),d(),e(7,`
            `),d(),e(8,`
        `)),n&2){let t=u();o(4),x("icon",t.faSpinner)}}function gn(n,a){if(n&1){let t=V();e(0,`
            `),l(1,"div"),e(2,`
                `),l(3,"h2"),e(4,`
                    `),l(5,"span",10),p(6,"fa-icon",13),e(7,"\xA0"),p(8,"span",14),d(),e(9,`
                `),d(),e(10,`
                `),l(11,"p"),e(12,`
                    `),l(13,"button",15),z("click",function(){b(t);let s=u();return M(s.secureImageComponent.retryLoadImage())}),d(),e(14,`
                `),d(),e(15,`
            `),d(),e(16,`
        `)}if(n&2){let t=u();o(6),x("icon",t.faExclamationCircle)}}function hn(n,a){n&1&&(e(0,`
            `),p(1,"span",16),e(2,`
        `))}function xn(n,a){if(n&1&&(e(0,`
                    `),l(1,"span",18),e(2,`
                        `),p(3,"fa-icon",13),e(4,`
                        `),p(5,"span",19),e(6,`
                    `),d(),e(7,`
                `)),n&2){u();let t=lt(5),i=u();o(),x("ngbPopover",t),o(2),x("icon",i.faQuestionCircle)}}function _n(n,a){if(n&1&&(e(0,`
                    `),p(1,"div",5),e(2,`
                `)),n&2){let t=u(2);o(),x("innerHTML",t.renderedQuestion.hint,pt)}}function fn(n,a){if(n&1&&(e(0,`
                    `),l(1,"span",20),e(2,`
                        `),p(3,"fa-icon",13),e(4,`
                        `),p(5,"span",21),e(6,`
                    `),d(),e(7,`
                `)),n&2){u();let t=lt(11),i=u();o(),x("ngbPopover",t),o(2),x("icon",i.faExclamationCircle)}}function Cn(n,a){if(n&1&&(e(0,`
                    `),p(1,"div",5),e(2,`
                `)),n&2){let t=u(2);o(),x("innerHTML",t.renderedQuestion.explanation,pt)}}function vn(n,a){if(n&1&&(e(0,`
            `),l(1,"div",17),e(2,`
                `),q(3,xn,8,2)(4,_n,3,1,"ng-template",null,0,dt),e(6,`
                `),p(7,"br"),e(8,`
                `),q(9,fn,8,2)(10,Cn,3,1,"ng-template",null,1,dt),e(12,`
            `),d(),e(13,`
        `)),n&2){let t=u();o(3),m(t.question.hint?3:-1),o(6),m(t.question.explanation&&t.showResult?9:-1)}}function wn(n,a){if(n&1&&(e(0,`
            `),l(1,"div",22),e(2,`
                `),p(3,"span",23),e(4,`
                `),l(5,"span"),e(6),d(),e(7,`
            `),d(),e(8,`
        `)),n&2){let t=u();o(6),Ht(t.question.points)}}function Sn(n,a){if(n&1&&(e(0,`
            `),l(1,"div",24),e(2,`
                `),p(3,"span",25),e(4,`
                `),l(5,"span",26),e(6),d(),e(7,`
                `),l(8,"span",26),e(9,`
                    `),p(10,"jhi-quiz-scoring-infostudent-modal",27),e(11,`
                `),d(),e(12,`
            `),d(),e(13,`
        `)),n&2){let t=u();o(),x("ngClass",_t(10,Qt,(t.score||0)<t.question.points)),o(5),Bt("",t.score||0,"/",t.question.points,""),o(4),x("score",t.score)("question",t.question)("dragAndDropMapping",t.mappings)("correctlyMappedDragAndDropItems",t.correctAnswer)("incorrectlyMappedDragAndDropItems",t.incorrectLocationMappings)("mappedLocations",t.mappedLocations)("questionIndex",t.questionIndex)}}function An(n,a){n&1&&(e(0,`
                    `),p(1,"span",29),e(2,`
                `))}function Dn(n,a){n&1&&(e(0,`
                    `),p(1,"span",30),e(2,`
                `))}function yn(n,a){if(n&1){let t=V();e(0,`
                            `),l(1,"div",31),z("click",function(){b(t);let s=u(3);return M(s.showSampleSolution())}),d(),e(2,`
                        `)}}function qn(n,a){if(n&1){let t=V();e(0,`
                            `),l(1,"div",32),z("click",function(){b(t);let s=u(3);return M(s.hideSampleSolution())}),d(),e(2,`
                        `)}}function Tn(n,a){if(n&1&&(e(0,`
                    `),l(1,"div"),e(2,`
                        `),q(3,yn,3,0)(4,qn,3,0),d(),e(5,`
                `)),n&2){let t=u(2);o(3),m(t.showingSampleSolution?-1:3),o(),m(t.showingSampleSolution?4:-1)}}function In(n,a){if(n&1&&(e(0,`
            `),l(1,"div",28),e(2,`
                `),q(3,An,3,0)(4,Dn,3,0)(5,Tn,6,2),d(),e(6,`
        `)),n&2){let t=u();o(3),m(t.showingSampleSolution?3:-1),o(),m(t.showingSampleSolution?-1:4),o(),m(t.showResult&&!t.forceSampleSolution?5:-1)}}function En(n,a){if(n&1){let t=V();e(0,`
                    `),l(1,"jhi-secured-image",33),z("endLoadingProcess",function(s){b(t);let h=u();return M(h.changeLoading(s))}),d(),e(2,`
                `)}if(n&2){let t=u();o(),x("src",t.filePreviewPaths.get(t.question.backgroundFilePath)||t.question.backgroundFilePath)}}function bn(n,a){if(n&1){let t=V();e(0,`
                                        `),l(1,"jhi-drag-item",35),z("dragenter",function(){b(t);let s=u(3);return M(s.drag())})("dragend",function(){b(t);let s=u(3);return M(s.drop())}),d(),e(2,`
                                    `)}if(n&2){let t=u().$implicit,i=u(2);o(),x("dragItem",i.dragItemForDropLocation(t))("clickDisabled",i.clickDisabled)("minWidth","100%")("filePreviewPaths",i.filePreviewPaths)}}function Mn(n,a){if(n&1){let t=V();e(0,`
                                `),l(1,"div",34),z("cdkDropListDropped",function(s){let h=b(t).$implicit,D=u(2);return M(D.onDragDrop(h,s))})("onDragEnter",function(s){b(t);let h=u(2);return M(h.preventDefault(s))})("onDragOver",function(s){b(t);let h=u(2);return M(h.preventDefault(s))})("onDragLeave",function(s){b(t);let h=u(2);return M(h.preventDefault(s))}),e(2,`
                                    `),q(3,bn,3,4),d(),e(4,`
                            `)}if(n&2){let t=a.$implicit,i=u(2);o(),x("ngClass",i.dropAllowed?"drop-allowed":"")("ngStyle",P(4,Pt,t.posY/2+"%",t.posX/2+"%",t.width/2+"%",t.height/2+"%"))("cdkDropListAutoScrollStep",60),o(2),m(i.dragItemForDropLocation(t)?3:-1)}}function Qn(n,a){if(n&1&&(e(0,`
                        `),l(1,"div"),e(2,`
                            `),at(3,Mn,5,9,null,null,rt),d(),e(5,`
                    `)),n&2){let t=u();o(3),st(t.question.dropLocations)}}function Pn(n,a){if(n&1&&(e(0,`
                                            `),l(1,"div",38),e(2,`
                                                `),p(3,"fa-icon",39),e(4,`
                                            `),d(),e(5,`
                                        `)),n&2){let t=u(3);o(3),x("icon",t.faExclamationTriangle)}}function On(n,a){n&1&&(e(0,`
                                                `),p(1,"span",40),e(2,`
                                            `))}function kn(n,a){n&1&&(e(0,`
                                                `),p(1,"span",41),e(2,`
                                            `))}function Ln(n,a){n&1&&(e(0,`
                                                `),p(1,"span",42),e(2,`
                                            `))}function zn(n,a){if(n&1&&(e(0,`
                                                `),p(1,"fa-icon",43),e(2,`
                                            `)),n&2){let t=u(3);o(),x("icon",t.faQuestionCircle)}}function Fn(n,a){if(n&1&&(e(0,`
                                            `),p(1,"jhi-drag-item",44),e(2,`
                                        `)),n&2){let t=u().$implicit,i=u(2);o(),x("dragItem",i.dragItemForDropLocation(t))("clickDisabled",!0)("minWidth","100%")("filePreviewPaths",i.filePreviewPaths)}}function Vn(n,a){n&1&&(e(0,`
                                            `),l(1,"div",45),e(2,`
                                                `),p(3,"div"),e(4,`
                                            `),d(),e(5,`
                                        `))}function Rn(n,a){if(n&1&&(e(0,`
                                `),l(1,"div"),e(2,`
                                    `),l(3,"div",36),e(4,`
                                        `),q(5,Pn,6,1),l(6,"div",37),e(7,`
                                            `),q(8,On,3,0)(9,kn,3,0)(10,Ln,3,0)(11,zn,3,1),d(),e(12,`
                                        `),q(13,Fn,3,4)(14,Vn,6,0),d(),e(15,`
                                `),d(),e(16,`
                            `)),n&2){let t=a.$implicit,i=u(2);o(3),x("ngClass",_t(9,Qt,i.isLocationCorrect(t)===i.MappingResult.MAPPED_INCORRECT&&!t.invalid&&!i.invalidDragItemForDropLocation(t)&&!i.question.invalid))("ngStyle",P(11,Pt,t.posY/2+"%",t.posX/2+"%",t.width/2+"%",t.height/2+"%")),o(2),m(i.isLocationCorrect(t)===i.MappingResult.MAPPED_INCORRECT&&!t.invalid&&!i.invalidDragItemForDropLocation(t)&&!i.question.invalid?5:-1),o(3),m(t.invalid&&!i.invalidDragItemForDropLocation(t)&&!i.question.invalid?8:-1),o(),m(!t.invalid&&i.invalidDragItemForDropLocation(t)&&!i.question.invalid?9:-1),o(),m(t.invalid&&i.invalidDragItemForDropLocation(t)||i.question.invalid?10:-1),o(),m(t.invalid||i.question.invalid||i.invalidDragItemForDropLocation(t)?11:-1),o(2),m(i.dragItemForDropLocation(t)?13:-1),o(),m(i.dragItemForDropLocation(t)?-1:14)}}function Wn(n,a){if(n&1&&(e(0,`
                        `),l(1,"div"),e(2,`
                            `),at(3,Rn,17,16,null,null,rt),d(),e(5,`
                    `)),n&2){let t=u();o(3),st(t.question.dropLocations)}}function jn(n,a){if(n&1&&(e(0,`
                                            `),l(1,"div",38),e(2,`
                                                `),p(3,"fa-icon",39),e(4,`
                                            `),d(),e(5,`
                                        `)),n&2){let t=u(3);o(3),x("icon",t.faExclamationTriangle)}}function Nn(n,a){n&1&&(e(0,`
                                                `),p(1,"span",40),e(2,`
                                            `))}function Hn(n,a){n&1&&(e(0,`
                                                `),p(1,"span",42),e(2,`
                                            `))}function Bn(n,a){if(n&1&&(e(0,`
                                                `),p(1,"fa-icon",43),e(2,`
                                            `)),n&2){let t=u(3);o(),x("icon",t.faQuestionCircle)}}function Gn(n,a){if(n&1&&(e(0,`
                                            `),p(1,"jhi-drag-item",44),e(2,`
                                        `)),n&2){let t=u().$implicit,i=u(2);o(),x("dragItem",i.correctDragItemForDropLocation(t))("clickDisabled",!0)("minWidth","100%")("filePreviewPaths",i.filePreviewPaths)}}function Un(n,a){n&1&&(e(0,`
                                            `),l(1,"div",45),e(2,`
                                                `),p(3,"div"),e(4,`
                                            `),d(),e(5,`
                                        `))}function Yn(n,a){if(n&1&&(e(0,`
                                `),l(1,"div"),e(2,`
                                    `),l(3,"div",46),e(4,`
                                        `),q(5,jn,6,1),l(6,"div",37),e(7,`
                                            `),q(8,Nn,3,0)(9,Hn,3,0)(10,Bn,3,1),d(),e(11,`
                                        `),q(12,Gn,3,4)(13,Un,6,0),d(),e(14,`
                                `),d(),e(15,`
                            `)),n&2){let t=a.$implicit,i=u(2);o(3),x("ngClass",_t(8,Qt,i.isLocationCorrect(t)===i.MappingResult.MAPPED_INCORRECT&&!t.invalid&&!i.invalidDragItemForDropLocation(t)&&!i.question.invalid))("ngStyle",P(10,Pt,t.posY/2+"%",t.posX/2+"%",t.width/2+"%",t.height/2+"%")),o(2),m(i.isLocationCorrect(t)===i.MappingResult.MAPPED_INCORRECT&&!t.invalid&&!i.invalidDragItemForDropLocation(t)&&!i.question.invalid&&!i.forceSampleSolution?5:-1),o(3),m(t.invalid&&!i.invalidDragItemForDropLocation(t)&&!i.question.invalid?8:-1),o(),m(t.invalid&&i.invalidDragItemForDropLocation(t)||i.question.invalid?9:-1),o(),m(t.invalid||i.question.invalid?10:-1),o(2),m(t&&i.correctDragItemForDropLocation(t)&&!t.invalid&&!i.question.invalid?12:-1),o(),m(!t||!i.correctDragItemForDropLocation(t)?13:-1)}}function Xn(n,a){if(n&1&&(e(0,`
                        `),l(1,"div"),e(2,`
                            `),at(3,Yn,16,15,null,null,rt),d(),e(5,`
                    `)),n&2){let t=u();o(3),st(t.question.dropLocations)}}function $n(n,a){n&1&&(e(0,`
                    `),l(1,"div",28),e(2,`
                        `),p(3,"span",47),e(4,`
                    `),d(),e(5,`
                `))}function Kn(n,a){n&1&&(e(0,`
                    `),p(1,"div"),e(2,`
                `))}function Jn(n,a){if(n&1){let t=V();e(0,`
                            `),l(1,"jhi-drag-item",49),z("dragenter",function(){b(t);let s=u(2);return M(s.drag())})("dragend",function(){b(t);let s=u(2);return M(s.drop())}),d(),e(2,`
                        `)}if(n&2){let t=a.$implicit,i=a.$index,s=u(2);o(),Rt("id","drag-item-",i,""),x("dragItem",t)("clickDisabled",s.clickDisabled)("minWidth","160")("filePreviewPaths",s.filePreviewPaths)}}function Zn(n,a){if(n&1){let t=V();e(0,`
                    `),l(1,"div",48),z("cdkDropListDropped",function(s){b(t);let h=u();return M(h.onDragDrop(void 0,s))})("onDragEnter",function(s){b(t);let h=u();return M(h.preventDefault(s))})("onDragOver",function(s){b(t);let h=u();return M(h.preventDefault(s))})("onDragLeave",function(s){b(t);let h=u();return M(h.preventDefault(s))}),e(2,`
                        `),at(3,Jn,3,6,null,null,rt),d(),e(5,`
                `)}if(n&2){let t=u();o(),x("ngClass",t.dropAllowed?"drop-allowed":"")("cdkDropListAutoScrollStep",60),o(2),st(t.getUnassignedDragItems())}}(0,xe.polyfill)({dragImageTranslateOverride:_e.scrollBehaviourDragImageTranslateOverride});window.addEventListener("touchmove",()=>{},{passive:!1});var Y=function(n){return n[n.MAPPED_CORRECT=0]="MAPPED_CORRECT",n[n.MAPPED_INCORRECT=1]="MAPPED_INCORRECT",n[n.NOT_MAPPED=2]="NOT_MAPPED",n}(Y||{}),Oi=(()=>{class n{artemisMarkdown=et(ae);dragAndDropQuestionUtil=et(Mt);secureImageComponent;_question;_forceSampleSolution;set question(t){this._question=t,this.watchCollection()}get question(){return this._question}mappings;clickDisabled;showResult;questionIndex;score;set forceSampleSolution(t){this._forceSampleSolution=t,this.forceSampleSolution&&this.showSampleSolution()}get forceSampleSolution(){return this._forceSampleSolution}onMappingUpdate;filePreviewPaths=new Map;mappingsChange=new Vt;showingSampleSolution=!1;renderedQuestion;sampleSolutionMappings=new Array;dropAllowed=!1;correctAnswer;incorrectLocationMappings;mappedLocations;MappingResult=Y;loadingState="loading";faSpinner=ee;faQuestionCircle=te;faExclamationTriangle=ne;faExclamationCircle=Zt;ngOnInit(){this.evaluateDropLocations()}ngOnChanges(){this.evaluateDropLocations()}watchCollection(){this.renderedQuestion=new le,this.renderedQuestion.text=this.artemisMarkdown.safeHtmlForMarkdown(this.question.text),this.renderedQuestion.hint=this.artemisMarkdown.safeHtmlForMarkdown(this.question.hint),this.renderedQuestion.explanation=this.artemisMarkdown.safeHtmlForMarkdown(this.question.explanation)}drag(){this.dropAllowed=!0}drop(){this.dropAllowed=!1}changeLoading(t){this.loadingState=t}preventDefault(t){return t.mouseEvent.preventDefault(),!1}onDragDrop(t,i){this.drop();let s=i.item.data;if(t){if(this.dragAndDropQuestionUtil.isMappedTogether(this.mappings,s,t))return;let h,D;this.mappings=this.mappings.filter(function(y){return this.dragAndDropQuestionUtil.isSameEntityWithTempId(t,y.dropLocation)?(h=y.dragItem,!1):this.dragAndDropQuestionUtil.isSameEntityWithTempId(s,y.dragItem)?(D=y.dropLocation,!1):!0},this),this.mappings.push(new ct(s,t)),h&&D&&this.mappings.push(new ct(h,D))}else{let h=this.mappings.length;if(this.mappings=this.mappings.filter(function(D){return!this.dragAndDropQuestionUtil.isSameEntityWithTempId(D.dragItem,s)},this),this.mappings.length===h)return}this.mappingsChange.emit(this.mappings),this.onMappingUpdate&&this.onMappingUpdate()}dragItemForDropLocation(t){if(this.mappings){let i=this.mappings.find(s=>this.dragAndDropQuestionUtil.isSameEntityWithTempId(s.dropLocation,t));return i?i.dragItem:void 0}}invalidDragItemForDropLocation(t){let i=this.dragItemForDropLocation(t);return i?i.invalid:!1}getUnassignedDragItems(){return this.question.dragItems?.filter(t=>!this.mappings?.some(i=>this.dragAndDropQuestionUtil.isSameEntityWithTempId(i.dragItem,t),this),this)}isLocationCorrect(t){if(!this.question.correctMappings)return Y.MAPPED_INCORRECT;let i=this.question.correctMappings.filter(function(h){return this.dragAndDropQuestionUtil.isSameEntityWithTempId(h.dropLocation,t)},this).map(function(h){return h.dragItem}),s=this.dragItemForDropLocation(t);return s?i.some(function(h){return this.dragAndDropQuestionUtil.isSameEntityWithTempId(h,s)},this)?Y.MAPPED_CORRECT:Y.MAPPED_INCORRECT:i.length===0?Y.NOT_MAPPED:Y.MAPPED_INCORRECT}isAssignedLocation(t){return this.question.correctMappings?this.question.correctMappings.some(i=>this.dragAndDropQuestionUtil.isSameEntityWithTempId(t,i.dropLocation)):!1}showSampleSolution(){this.sampleSolutionMappings=this.dragAndDropQuestionUtil.solve(this.question,this.mappings),this.showingSampleSolution=!0}hideSampleSolution(){this.showingSampleSolution=!1}correctDragItemForDropLocation(t){let i=this.dragAndDropQuestionUtil;return this.sampleSolutionMappings.find(function(h){return i.isSameEntityWithTempId(h.dropLocation,t)})?.dragItem}evaluateDropLocations(){this.question.dropLocations&&(this.correctAnswer=this.question.dropLocations.filter(t=>this.isLocationCorrect(t)===Y.MAPPED_CORRECT).length,this.incorrectLocationMappings=this.question.dropLocations.filter(t=>this.isLocationCorrect(t)===Y.MAPPED_INCORRECT).length,this.mappedLocations=this.question.dropLocations.filter(t=>this.isAssignedLocation(t)).length)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ut({type:n,selectors:[["jhi-drag-and-drop-question"]],viewQuery:function(i,s){if(i&1&&Wt(bt,5),i&2){let h;jt(h=Nt())&&(s.secureImageComponent=h.first)}},inputs:{question:"question",mappings:"mappings",clickDisabled:"clickDisabled",showResult:"showResult",questionIndex:"questionIndex",score:"score",forceSampleSolution:"forceSampleSolution",onMappingUpdate:"onMappingUpdate",filePreviewPaths:"filePreviewPaths"},outputs:{mappingsChange:"mappingsChange"},features:[Gt([Mt]),Ft],decls:43,vars:24,consts:[["renderedHint",""],["renderedExplanation",""],[1,"dnd-question","markdown-preview",3,"ngClass"],[3,"hidden"],[1,"question-title-display"],[3,"innerHTML"],["cdkDropListGroup","",1,"drag-and-drop-area"],[1,"background-area"],[1,"click-layer"],[1,"drag-and-drop-items"],[2,"color","grey"],["animation","spin",3,"icon"],["jhiTranslate","artemisApp.quizQuestion.loading"],[3,"icon"],["jhiTranslate","artemisApp.quizQuestion.failed"],["jhiTranslate","artemisApp.quizQuestion.retry",1,"btn","btn-default",3,"click"],["jhiTranslate","artemisApp.quizQuestion.invalidText",2,"color","red"],[1,"hint"],["triggers","mouseenter:mouseleave",1,"label","label-info",3,"ngbPopover"],["jhiTranslate","artemisApp.quizQuestion.hint"],["triggers","mouseenter:mouseleave",1,"label","label-primary",3,"ngbPopover"],["jhiTranslate","artemisApp.quizQuestion.explanation"],[1,"question-score"],["jhiTranslate","artemisApp.quizQuestion.score",1,"colon-suffix"],[1,"question-score","result",3,"ngClass"],["jhiTranslate","artemisApp.quizQuestion.yourScore",1,"colon-suffix"],[1,"show-explanation"],[3,"score","question","dragAndDropMapping","correctlyMappedDragAndDropItems","incorrectlyMappedDragAndDropItems","mappedLocations","questionIndex"],[1,"dnd-instructions"],["jhiTranslate","artemisApp.dragAndDropQuestion.showingSampleSolution"],["jhiTranslate","artemisApp.dragAndDropQuestion.showingYourAnswer"],["jhiTranslate","artemisApp.quizQuestion.showSampleSolution",1,"btn","btn-outline-primary",3,"click"],["jhiTranslate","artemisApp.quizQuestion.hideSampleSolution",1,"btn","btn-outline-primary",3,"click"],[3,"endLoadingProcess","src"],["id","drop-location","cdkDropList","",1,"drop-location",3,"cdkDropListDropped","onDragEnter","onDragOver","onDragLeave","ngClass","ngStyle","cdkDropListAutoScrollStep"],[3,"dragenter","dragend","dragItem","clickDisabled","minWidth","filePreviewPaths"],[1,"drop-location","results",3,"ngClass","ngStyle"],[1,"invalid"],[1,"result-symbol"],["size","2x",1,"warning",3,"icon"],["jhiTranslate","artemisApp.dragAndDropQuestion.invalid.dropLocation"],["jhiTranslate","artemisApp.dragAndDropQuestion.invalid.dragItem"],["jhiTranslate","artemisApp.quizQuestion.invalid"],["ngbTooltip","Invalid Drop Locations and invalid Drag Items will be assessed as correct.",2,"color","black",3,"icon"],[3,"dragItem","clickDisabled","minWidth","filePreviewPaths"],[1,"drag-item","no-click"],[1,"drop-location","sampleSolution",3,"ngClass","ngStyle"],["jhiTranslate","artemisApp.dragAndDropQuestion.studentInstructions"],["id","drag-items","cdkDropList","",1,"drag-items",3,"cdkDropListDropped","onDragEnter","onDragOver","onDragLeave","ngClass","cdkDropListAutoScrollStep"],[3,"dragenter","dragend","id","dragItem","clickDisabled","minWidth","filePreviewPaths"]],template:function(i,s){i&1&&(l(0,"div",2),e(1,`
    `),l(2,"div",3),e(3,`
        `),q(4,mn,9,1)(5,gn,17,1),d(),e(6,`
    `),l(7,"div",3),e(8,`
        `),l(9,"h4",4),e(10,`
            `),l(11,"span"),e(12),d(),e(13),d(),e(14,`
        `),p(15,"p",5),e(16,`
        `),q(17,hn,3,0)(18,vn,14,2)(19,wn,9,1)(20,Sn,14,12)(21,In,7,3),l(22,"div",6),e(23,`
            `),l(24,"div",7),e(25,`
                `),q(26,En,3,1),l(27,"div",8),e(28,`
                    `),q(29,Qn,6,0)(30,Wn,6,0)(31,Xn,6,0),d(),e(32,`
            `),d(),e(33,`
            `),l(34,"div",9),e(35,`
                `),q(36,$n,6,0)(37,Kn,3,0)(38,Zn,6,2),d(),e(39,`
        `),d(),e(40,`
    `),d(),e(41,`
`),d(),e(42,`
`)),i&2&&(x("ngClass",Ut(20,un,s.clickDisabled&&!s.showResult,s.showResult&&!s.forceSampleSolution,(s.score||0)<s.question.points&&!s.forceSampleSolution)),o(2),x("hidden",s.loadingState==="success"),o(2),m(s.loadingState!=="error"?4:-1),o(),m(s.loadingState==="error"?5:-1),o(2),x("hidden",s.loadingState!=="success"),o(5),It("",s.questionIndex,")"),o(),It(" ",s.question.title,`
        `),o(2),x("innerHTML",s.renderedQuestion.text,pt),o(2),m(s.question.invalid?17:-1),o(),m(s.question.hint||s.question.explanation&&s.showResult?18:-1),o(),m(!s.showResult||s.forceSampleSolution?19:-1),o(),m(s.showResult&&!s.forceSampleSolution?20:-1),o(),m(s.showResult?21:-1),o(5),m(s.question.backgroundFilePath?26:-1),o(3),m(s.showResult?-1:29),o(),m(s.showResult&&!s.showingSampleSolution&&s.question.dropLocations?30:-1),o(),m(s.showResult&&s.showingSampleSolution?31:-1),o(5),m(s.showResult?-1:36),o(),m(s.showResult?37:-1),o(),m(s.showResult?-1:38))},dependencies:[Ct,vt,wt,$t,he,oe,bt,re,Yt,ce,Kt],styles:[`.dnd-question{background:var(--quiz-question-background);border:1px solid var(--quiz-question-border-color);box-sizing:border-box;margin-bottom:18px;padding:20px;position:relative;width:100%}.dnd-question .dnd-instructions{display:flex;justify-content:space-between;margin:10px 0;font-weight:500}.dnd-question .drag-and-drop-area{display:flex;justify-content:center;align-items:center}@media (max-width: 1199.98px){.dnd-question .drag-and-drop-area{flex-direction:column}}.dnd-question .drag-and-drop-area .background-area{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dnd-question .drag-and-drop-area .background-area>jhi-secured-image img{max-width:100%}.dnd-question .drag-and-drop-area .background-area .click-layer{position:absolute;inset:0;z-index:1;width:100%;height:100%}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location{position:absolute;display:flex;flex-direction:row;align-items:center;justify-content:center;background:var(--dnd-question-drop-location-background);border:1px dashed var(--dnd-question-drop-location-border-color)}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location.drop-hover,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location.drop-allowed>*,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .dnd-drag-over>*{opacity:.5}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location.results{border-color:var(--dnd-question-drop-location-results-border-color);background:var(--dnd-question-drop-location-results-background)}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location.results>*{opacity:.8}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location.results.incorrect{border-color:var(--dnd-question-drop-location-results-incorrect-border-color);background:var(--dnd-question-drop-location-results-incorrect-background)}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location.results .drag-item{background:transparent}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location.sampleSolution{border-color:var(--dnd-question-drop-location-results-sample-border-color);background:var(--dnd-question-drop-location-results-sample-background)}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location.sampleSolution>*{opacity:1}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .result-symbol{color:var(--dnd-question-drop-location-result-symbol-color);position:absolute;top:0;left:0;z-index:1;opacity:1;-webkit-transform:translate3d(-63%,-63%,0);-moz-transform:translate3d(-63%,-63%,0);-ms-transform:translate3d(-63%,-63%,0);-o-transform:translate3d(-63%,-63%,0);transform:translate3d(-63%,-63%,0)}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .invalid{color:var(--dnd-question-drop-location-result-invalid-color);position:absolute;bottom:0;left:2px;z-index:1;opacity:1}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location jhi-drag-item,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .drag-item{width:100%;height:100%;margin:0;background:var(--dnd-question-drop-location-drag-item-background)}@media (max-width: 991.98px){.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location jhi-drag-item div,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .drag-item div{padding:0!important}}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location jhi-drag-item img,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .drag-item img{max-height:100%;max-width:100%;height:auto;width:auto!important;margin:auto;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location jhi-drag-item .drag-item-text,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location jhi-drag-item .drag-item-picture,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .drag-item .drag-item-text,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .drag-item .drag-item-picture{line-height:1}.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location jhi-drag-item .drag-item-text span,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location jhi-drag-item .drag-item-picture span,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .drag-item .drag-item-text span,.dnd-question .drag-and-drop-area .background-area .click-layer .drop-location .drag-item .drag-item-picture span{border:none;vertical-align:middle;display:inline-block;font-size:1rem}@media (min-width: 1200px){.dnd-question .drag-and-drop-area .drag-and-drop-items{margin:-6px 0 0 20px}}@media (min-width: 1200px){.dnd-question .drag-and-drop-area .drag-and-drop-items .dnd-instructions{margin:0 0 10px}}.dnd-question .drag-and-drop-area .drag-and-drop-items .drag-items{background:var(--dnd-question-dnd-items-drag-items-background)!important;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:center;margin-left:auto;margin-right:auto;min-height:50px;overflow:auto;max-height:calc(100vh - 90px)}@media (min-width: 1200px){.dnd-question .drag-and-drop-area .drag-and-drop-items .drag-items{flex-direction:column;flex-wrap:nowrap}}.dnd-question .cdk-drop-list-receiving{background:var(--dnd-question-drop-list-receiving-background)!important}.dnd-question .cdk-drop-list-dragging{background:var(--dnd-question-drop-list-dragging-background)!important;cursor:pointer}.dnd-question .cdk-drag{cursor:pointer}
`,`.dnd-question.disabled,.mc-question.disabled,.sa-question.disabled{color:var(--quiz-participation-question-disabled-color);background:var(--quiz-participation-question-disabled-background)}.dnd-question.result,.mc-question.result,.sa-question.result{border-color:var(--quiz-participation-question-result-border-color)}.dnd-question.result .show-explanation,.mc-question.result .show-explanation,.sa-question.result .show-explanation{display:inline-block}.dnd-question.result.incorrect,.mc-question.result.incorrect,.sa-question.result.incorrect{border-color:var(--quiz-participation-question-result-incorrect-border-color)}.dnd-question h2,.mc-question h2,.sa-question h2{margin:0 90px 0 0}.dnd-question h2 span,.mc-question h2 span,.sa-question h2 span{color:var(--quiz-participation-question-h2-span-color)}.dnd-question p,.mc-question p,.sa-question p{margin:10px 0;font-size:16px}.dnd-question .question-title-display,.mc-question .question-title-display,.sa-question .question-title-display{max-width:80%}.dnd-question .question-score,.mc-question .question-score,.sa-question .question-score{position:absolute;top:20px;right:20px;max-width:30%}@media (max-width: 900px){.dnd-question .question-score,.mc-question .question-score,.sa-question .question-score{position:relative;top:0;right:0;max-width:100%}}.dnd-question .question-score.result,.mc-question .question-score.result,.sa-question .question-score.result{font-weight:700;color:var(--quiz-participation-question-score-result)}.dnd-question .question-score.result.incorrect,.mc-question .question-score.result.incorrect,.sa-question .question-score.result.incorrect{color:var(--quiz-participation-question-score-incorrect-result)}.dnd-question .label,.mc-question .label,.sa-question .label{cursor:pointer;margin:2px 0}.dnd-question .label+ngb-popover-window,.mc-question .label+ngb-popover-window,.sa-question .label+ngb-popover-window{max-width:500px}.dnd-question ngb-popover-window,.mc-question ngb-popover-window,.sa-question ngb-popover-window{max-width:500px}@media (max-width: 991.98px){.dnd-question ngb-popover-window,.mc-question ngb-popover-window,.sa-question ngb-popover-window{max-width:300px!important}}@media (max-width: 575.98px){.dnd-question ngb-popover-window,.mc-question ngb-popover-window,.sa-question ngb-popover-window{max-width:200px!important}}
`],encapsulation:2})}return n})();var fe=class extends de{answerOptions;hasCorrectOption;singleChoice;constructor(){super(J.MULTIPLE_CHOICE)}};export{fe as a,he as b,ct as c,Oi as d};
/*! Bundled license information:

mobile-drag-drop/index.min.js:
  (*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License *)
*/
//# sourceMappingURL=chunk-2SI4Q343.js.map
