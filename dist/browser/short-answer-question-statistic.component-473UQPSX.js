import{b as B,c as V,d as X}from"./chunk-ITOSPRIX.js";import{b as H,c as $}from"./chunk-NTCPM4SY.js";import{a as b}from"./chunk-IJQAYIKN.js";import"./chunk-DMHWBHTD.js";import"./chunk-57BCHYEO.js";import"./chunk-IJRVZ46L.js";import"./chunk-SKB5UJGX.js";import"./chunk-SUUJN3EQ.js";import{a as R}from"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-EGRHWZRV.js";import"./chunk-MBS3WUDO.js";import{f as U,g as j}from"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-T77OIOZ4.js";import"./chunk-Z2YUBN6N.js";import"./chunk-5JBXU6VG.js";import"./chunk-QA7Y7QBM.js";import"./chunk-2CUFQLAH.js";import"./chunk-Z6NSEM73.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{d as D}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Ba as O,Cd as I,Ka as k}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as z}from"./chunk-U54OSGNH.js";import"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Db as a,Dc as P,Ea as _,Ma as h,Mc as g,Na as C,Oc as d,Qa as y,Rc as A,Tb as T,Xb as M,Zb as u,cd as L,dd as t,ed as x,fd as v,kc as m,lc as Q,pd as E,rd as F,sc as c,uc as S,vc as w,wb as q,wc as f,xc as o,yc as s,zc as r}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var N=i=>[i,525];function Y(i,l){i&1&&(t(0,`
                                `),r(1,"span",15),t(2,`
                            `))}function W(i,l){if(i&1&&(t(0,`
                                                `),r(1,"div",18),t(2,`
                                            `)),i&2){let n=d().$implicit;a(),m("innerHTML",n,q)}}function G(i,l){if(i&1&&(t(0,`
                                                `),o(1,"div",19),t(2,`
                                                    `),r(3,"input",20),t(4,`
                                                    `),o(5,"div",21),t(6,`
                                                        `),o(7,"span"),t(8),s(),t(9,`
                                                    `),s(),t(10,`
                                                `),s(),t(11,`
                                            `)),i&2){let n=d().$implicit,e=d(4);a(8),x(e.getLetter(e.shortAnswerQuestionUtil.getSpotNr(n)-1)+".")}}function J(i,l){if(i&1&&(t(0,`
                                                `),o(1,"div",19),t(2,`
                                                    `),r(3,"input",22),t(4,`
                                                    `),o(5,"div",23),t(6,`
                                                        `),o(7,"span"),t(8),s(),t(9,`
                                                    `),s(),t(10,`
                                                `),s(),t(11,`
                                            `)),i&2){let n=d().$implicit,e=d(4);a(3),Q("background","lightgreen"),A("value",e.getSampleSolutionForSpot(n)!==void 0?e.getSampleSolutionForSpot(n).text:""),A("size",e.getSampleSolutionForSpot(n)!==void 0?e.getSampleSolutionForSpot(n).text.length+4:5),a(5),x(e.getLetter(e.shortAnswerQuestionUtil.getSpotNr(n)-1)+".")}}function K(i,l){if(i&1&&(t(0,`
                                        `),o(1,"div",17),t(2,`
                                            `),u(3,W,3,1)(4,G,12,1)(5,J,12,5),s(),t(6,`
                                    `)),i&2){let n=l.$implicit,e=d(4);a(3),c(e.shortAnswerQuestionUtil.isInputField(n)?-1:3),a(),c(e.shortAnswerQuestionUtil.isInputField(n)&&!e.showSolution?4:-1),a(),c(e.shortAnswerQuestionUtil.isInputField(n)&&e.showSolution?5:-1)}}function Z(i,l){if(i&1&&(t(0,`
                                `),o(1,"div",16),t(2,`
                                    `),w(3,K,7,3,null,null,S),r(5,"br"),t(6,`
                                `),s(),t(7,`
                            `)),i&2){let n=l.$implicit;a(3),f(n)}}function tt(i,l){i&1&&(t(0,`
                                            `),r(1,"span",24),t(2,`
                                        `))}function et(i,l){i&1&&(t(0,`
                                            `),r(1,"span",25),t(2,`
                                        `))}function it(i,l){if(i&1&&(t(0,`
                                        `),r(1,"fa-icon",14),t(2,`
                                    `)),i&2){let n=d(3);a(),m("icon",n.faCheckCircle)}}function nt(i,l){if(i&1&&(t(0,`
                                        `),r(1,"fa-icon",14),t(2,`
                                    `)),i&2){let n=d(3);a(),m("icon",n.faTimesCircle)}}function ot(i,l){i&1&&(t(0,`
                                        `),r(1,"span",26),t(2,`
                                    `))}function st(i,l){i&1&&(t(0,`
                                        `),r(1,"span",27),t(2,`
                                    `))}function at(i,l){i&1&&(t(0,`
                                        `),r(1,"span",28),t(2,`
                                    `))}function rt(i,l){i&1&&(t(0,`
                                        `),r(1,"span",29),t(2,`
                                    `))}function lt(i,l){if(i&1){let n=P();t(0,`
                    `),o(1,"div",3),t(2,`
                        `),o(3,"h3"),t(4),u(5,Y,3,0),s(),t(6,`
                        `),o(7,"div",4),t(8,`
                            `),w(9,Z,8,0,null,null,S),s(),t(11,`
                        `),o(12,"div",null,0),t(14,`
                            `),o(15,"p"),t(16,"\xA0"),s(),t(17,`
                            `),o(18,"div",1),t(19,`
                                `),o(20,"div",5),t(21,`
                                    `),o(22,"p",6),t(23,`
                                        `),u(24,tt,3,0)(25,et,3,0),s(),t(26,`
                                `),s(),t(27,`
                                `),o(28,"div",7),t(29,`
                                    `),o(30,"p",8),t(31,`
                                        `),o(32,"span"),t(33),s(),r(34,"span",9),t(35,`
                                    `),s(),t(36,`
                                `),s(),t(37,`
                            `),s(),t(38,`
                            `),r(39,"ngx-charts-bar-vertical",10),t(40,`
                            `),o(41,"div",11),t(42,`
                                `),o(43,"button",12),g("click",function(){h(n);let p=d(2);return C(p.switchSolution())}),t(44,`
                                    `),u(45,it,3,1)(46,nt,3,1)(47,ot,3,0)(48,st,3,0),s(),t(49,`
                                `),o(50,"button",13),g("click",function(){h(n);let p=d(2);return C(p.switchRated())}),t(51,`
                                    `),r(52,"fa-icon",14),t(53,`\xA0
                                    `),u(54,at,3,0)(55,rt,3,0),s(),t(56,`
                            `),s(),t(57,`
                            `),o(58,"p"),t(59,"\xA0"),s(),t(60,`
                        `),s(),t(61,`
                    `),s(),t(62,`
                `)}if(i&2){let n=L(13),e=d(2);a(4),v(`
                            `,e.question.title,`
                            `),a(),c(e.question.invalid?5:-1),a(4),f(e.textParts),a(15),c(e.rated?24:-1),a(),c(e.rated?-1:25),a(8),v("",e.participants," "),a(6),m("view",F(28,N,n.offsetWidth))("results",e.ngxData)("scheme",e.ngxColor)("showDataLabel",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel",e.xAxisLabel)("yAxisLabel",e.yAxisLabel)("xAxis",!0)("yAxis",!0)("yScaleMax",e.maxScale)("tooltipDisabled",!0)("rotateXAxisTicks",!1)("maxXAxisTickLength",17)("dataLabelFormatting",e.bindFormatting)("roundEdges",!1),a(6),c(e.showSolution?45:-1),a(),c(e.showSolution?-1:46),a(),c(e.showSolution?47:-1),a(),c(e.showSolution?-1:48),a(4),m("icon",e.faSync),a(2),c(e.rated?54:-1),a(),c(e.rated?-1:55)}}function ct(i,l){if(i&1&&(t(0,`
    `),o(1,"div",1),t(2,`
        `),o(3,"div",2),t(4,`
            `),o(5,"h3"),t(6),s(),t(7,`
            `),o(8,"div",1),t(9,`
                `),u(10,lt,63,30),s(),t(11,`
            `),r(12,"jhi-quiz-statistics-footer"),t(13,`
        `),s(),t(14,`
    `),s(),t(15,`
`)),i&2){let n=d();a(6),x(n.quizExercise.title),a(4),c(n.question?10:-1)}}var vt=(()=>{class i extends X{shortAnswerQuestionUtil=_(b);artemisMarkdown=_(R);question;textParts;lettersForSolutions=[];sampleSolutions=[];faSync=k;faCheckCircle=O;faTimesCircle=I;loadQuiz(n,e){super.loadQuizCommon(n)&&(e||(this.questionTextRendered=this.artemisMarkdown.safeHtmlForMarkdown(this.question.text),this.generateShortAnswerStructure(),this.generateLettersForSolutions(),this.loadLayout()),this.loadData(),this.sampleSolutions=this.shortAnswerQuestionUtil.getSampleSolutions(this.question))}generateShortAnswerStructure(){let n=this.shortAnswerQuestionUtil.divideQuestionTextIntoTextParts(this.question.text);this.textParts=this.shortAnswerQuestionUtil.transformTextPartsIntoHTML(n)}generateLettersForSolutions(){for(let n of this.question.correctMappings||[])for(let e in this.question.spots)if(n.spot?.id===this.question.spots[+e].id){this.lettersForSolutions.push(+e);break}}getSampleSolutionForSpot(n){let e=this.question.spots.findIndex(p=>p.spotNr===this.shortAnswerQuestionUtil.getSpotNr(n));return this.sampleSolutions[e]}loadLayout(){this.resetLabelsColors(),this.question.spots.forEach((n,e)=>{this.labels.push(this.getLetter(e)+"."),this.solutionLabels.push(this.getLetter(e)+"."),this.backgroundColors.push(V),this.backgroundSolutionColors.push(B)}),this.addLastBarLayout(this.question.spots.length),this.loadInvalidLayout(this.question.spots)}loadData(){this.resetData(),this.question.spots.forEach(n=>{let e=this.questionStatistic.shortAnswerSpotCounters?.find(p=>n.id===p.spot?.id);this.addData(e.ratedCounter,e.unRatedCounter)}),this.updateData()}static \u0275fac=(()=>{let n;return function(p){return(n||(n=y(i)))(p||i)}})();static \u0275cmp=T({type:i,selectors:[["jhi-short-answer-question-statistic"]],features:[E([H,b]),M],decls:1,vars:1,consts:[["containerRef",""],[1,"row"],[1,"col-md-8","offset-md-2","text-center"],[1,"col"],[1,"short-answer-question-display-statistic"],[1,"col-md-7","text-start"],["id","text",1,"chart-title-text"],[1,"col-md-5","text-end"],[1,"chart-title-text"],["jhiTranslate","artemisApp.showStatistic.participants"],[3,"view","results","scheme","showDataLabel","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","xAxis","yAxis","yScaleMax","tooltipDisabled","rotateXAxisTicks","maxXAxisTickLength","dataLabelFormatting","roundEdges"],[1,"col-md-12","text-center","button-row"],["type","button",1,"btn","btn-primary","show-solution",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"],["jhiTranslate","artemisApp.showStatistic.invalid",1,"invalid-question"],[1,"short-answer-question-display"],[1,"short-answer-question-display__statistic-element"],[3,"innerHTML"],[1,"short-answer-question-container"],["disabled","",1,"short-answer-question-container__input"],[1,"short-answer-question-container__statistic-letter"],["disabled","",1,"short-answer-question-container__input",3,"value","size"],[1,"short-answer-question-container__statistic-letter-solution"],["jhiTranslate","artemisApp.showStatistic.questionStatistic.titleRated"],["jhiTranslate","artemisApp.showStatistic.questionStatistic.titleUnrated"],["jhiTranslate","artemisApp.showStatistic.dragAndDropQuestionStatistic.hideSampleSolution"],["jhiTranslate","artemisApp.showStatistic.dragAndDropQuestionStatistic.showSampleSolution"],["jhiTranslate","artemisApp.showStatistic.switchToUnrated"],["jhiTranslate","artemisApp.showStatistic.switchToRated"]],template:function(e,p){e&1&&u(0,ct,16,2),e&2&&c(p.quizExercise?0:-1)},dependencies:[z,j,U,D,$],styles:["[_nghost-%COMP%]  .textDataLabel{font-weight:bolder;font-size:small!important;alignment-baseline:middle;text-anchor:start}@media (min-width: 1420px){[_nghost-%COMP%]  .textDataLabel{transform:rotate(0);font-size:medium!important;alignment-baseline:baseline;text-anchor:middle}}",".chart-title-text[_ngcontent-%COMP%]{font-size:large}.question-title[_ngcontent-%COMP%]{font-size:medium}.invalid-question[_ngcontent-%COMP%]{color:red}.button-row[_ngcontent-%COMP%]{padding-left:61px}@media (max-width: 575px){.button-row[_ngcontent-%COMP%]{padding-left:0}}@media (max-width: 430px){.show-solution[_ngcontent-%COMP%]{margin-bottom:.25rem}}",".short-answer-question-display-statistic[_ngcontent-%COMP%]   .short-answer-question-display[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%}.short-answer-question-display-statistic[_ngcontent-%COMP%]   .short-answer-question-display__statistic-element[_ngcontent-%COMP%]{display:inline-flex;line-height:35px}.short-answer-question-display-statistic[_ngcontent-%COMP%]   .short-answer-question-display[_ngcontent-%COMP%]   .short-answer-question-container[_ngcontent-%COMP%]{display:inline-block;position:relative}.short-answer-question-display-statistic[_ngcontent-%COMP%]   .short-answer-question-display[_ngcontent-%COMP%]   .short-answer-question-container__input[_ngcontent-%COMP%]{border:1px solid #ced4da;line-height:35px;margin-bottom:10px}.short-answer-question-display-statistic[_ngcontent-%COMP%]   .short-answer-question-display[_ngcontent-%COMP%]   .short-answer-question-container__statistic-letter[_ngcontent-%COMP%], .short-answer-question-display-statistic[_ngcontent-%COMP%]   .short-answer-question-display[_ngcontent-%COMP%]   .short-answer-question-container__statistic-letter-solution[_ngcontent-%COMP%]{position:absolute;top:10px;right:0;z-index:1;opacity:1}.short-answer-question-display-statistic[_ngcontent-%COMP%]   .short-answer-question-display[_ngcontent-%COMP%]   .short-answer-question-container__statistic-letter[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px;background-color:#428bca;color:var(--quiz-mapping-letter-number-mixin-color);border-radius:50%;text-align:center}.short-answer-question-display-statistic[_ngcontent-%COMP%]   .short-answer-question-display[_ngcontent-%COMP%]   .short-answer-question-container__statistic-letter-solution[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px;background-color:#5cb85c;color:var(--quiz-mapping-letter-number-mixin-color);border-radius:50%;text-align:center}"]})}return i})();export{vt as ShortAnswerQuestionStatisticComponent};
//# sourceMappingURL=short-answer-question-statistic.component-473UQPSX.js.map
