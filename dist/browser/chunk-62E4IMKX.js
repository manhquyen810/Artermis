import{a as ht}from"./chunk-TOBAE4UH.js";import{a as Ct}from"./chunk-7F5FYCZN.js";import{a as xt}from"./chunk-3DNS47RB.js";import{a as ft,b as St}from"./chunk-WS7M4MUG.js";import{a as mt}from"./chunk-SPPWZSHK.js";import{a as st}from"./chunk-U6AELCVK.js";import{a as nt}from"./chunk-QGGSPP32.js";import{a as at}from"./chunk-7MNRIAWL.js";import{a as it}from"./chunk-HSP5ZR73.js";import{a as ot}from"./chunk-LXDP326M.js";import{a as oe,b as D,d as ct,e as pt,f as bt}from"./chunk-HWIMTKXN.js";import{a as dt}from"./chunk-6DH5KPBD.js";import{a as lt}from"./chunk-GWS46Z7O.js";import{b as ut}from"./chunk-GXLYQKDJ.js";import{c as et}from"./chunk-CCVWGTN5.js";import{a as tt}from"./chunk-A2A6JFSH.js";import{b as _t}from"./chunk-T4L3VFV2.js";import{b as rt}from"./chunk-W3K7VYWC.js";import{a as Ze}from"./chunk-A3NV42OL.js";import{a as Je}from"./chunk-DIZEKHOC.js";import{b as Ke}from"./chunk-22YQSX6Z.js";import{a as Xe}from"./chunk-VPHPBAVR.js";import{A as ze}from"./chunk-5AQXEKLE.js";import{d as V}from"./chunk-O4VJ5OXY.js";import{a as Ue,j as Qe,k as Ye}from"./chunk-BDII35IB.js";import{a as He}from"./chunk-OTCBNILH.js";import{a as Ne,b as $e}from"./chunk-VRAVBLUK.js";import{d as We}from"./chunk-O26CMRR4.js";import{x as Pe,y as we}from"./chunk-R2SUWIPY.js";import{b as Ge}from"./chunk-DRMCDU75.js";import{d as J}from"./chunk-AR57MWOI.js";import{c as K,d as ke}from"./chunk-CK7FH6VF.js";import{b as z,c as Fe,e as X}from"./chunk-PUNMJFMR.js";import{c as j}from"./chunk-5MVJAZRV.js";import{a as se}from"./chunk-PZ7IDTIM.js";import{a as qe}from"./chunk-7VLYAOO4.js";import{a as Oe}from"./chunk-UHM5AJSI.js";import{f as je}from"./chunk-CT44YL7Q.js";import{c as Ve}from"./chunk-JNO6DNVW.js";import{K as he}from"./chunk-VZRSC3LP.js";import{m as Le}from"./chunk-VK7JPHFE.js";import{c as Re}from"./chunk-BNDLMKXK.js";import{a as q}from"./chunk-K3W6YFKH.js";import{c as Y}from"./chunk-JXJXC4DZ.js";import{d as Be}from"./chunk-EDXSOKK5.js";import{b as Ie}from"./chunk-R5BZWVRQ.js";import{p as ue}from"./chunk-DID2YGL7.js";import{c as E,k as ye}from"./chunk-CXQURQM5.js";import{a as M}from"./chunk-S4QLGR2R.js";import{Ba as Ae,Qa as Ee,Vb as ve,Zc as ge,kb as Te,oa as Se,wd as De}from"./chunk-Z4VHWOB5.js";import{a as Me}from"./chunk-U54OSGNH.js";import{f as Q,h as Ce,i as be}from"./chunk-M6Z6DKZQ.js";import{c as fe}from"./chunk-E2KBL4LX.js";import{s as _e}from"./chunk-IOA4DPXY.js";import{Ac as de,Ad as ne,Bc as me,Db as n,Dc as T,Ea as h,Ed as N,Ma as S,Mc as v,Na as A,Oc as d,Pc as ce,Qc as pe,Rc as P,Tb as y,Zb as x,aa as re,dd as e,ed as g,fd as f,gd as O,hd as w,kc as p,ld as $,mc as I,md as L,nd as G,pd as H,qd as U,rd as B,s as ee,sc as c,sd as ie,td as xe,uc as R,vc as F,wb as W,wc as k,xb as le,xc as a,yc as r,yd as _,z as te,zc as m,zd as u}from"./chunk-5LC5EQRR.js";var gt=["*"],At=(()=>{class i{panelHeader;panelDescriptionHeader;static \u0275fac=function(s){return new(s||i)};static \u0275cmp=y({type:i,selectors:[["jhi-info-panel"]],inputs:{panelHeader:"panelHeader",panelDescriptionHeader:"panelDescriptionHeader"},ngContentSelectors:gt,decls:11,vars:1,consts:[[1,"guided-tour","panel-wrapper"],[1,"panel-header"],[1,"panel-body"]],template:function(s,o){s&1&&(ce(),a(0,"div",0),e(1,`
    `),a(2,"div",1),e(3),r(),e(4,`
    `),a(5,"div",2),e(6,`
        `),pe(7),e(8,`
    `),r(),e(9,`
`),r(),e(10,`
`)),s&2&&(n(3),f(`
        `,o.panelHeader,`
    `))},styles:[".panel-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.panel-wrapper[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:inline-block;padding:10px 10px 10px 15px;border-top-left-radius:3px;border-top-right-radius:3px;border-left:1px solid var(--primary);border-top:1px solid var(--primary);border-right:1px solid var(--primary);font-size:16px}.panel-wrapper[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{display:flow-root;padding:15px;border:1px solid #3e8acc;border-top-right-radius:3px;border-bottom-left-radius:3px;border-bottom-right-radius:3px}"]})}return i})();var Et=(()=>{class i{textSubmission;set submission(t){this.textSubmission=t}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=y({type:i,selectors:[["jhi-language-table-cell"]],inputs:{submission:"submission"},decls:3,vars:3,template:function(s,o){s&1&&(a(0,"span"),e(1),_(2,"artemisTranslate"),r()),s&2&&(n(),g(u(2,1,"artemisApp.exerciseAssessmentDashboard.languages."+(o.textSubmission.language||"UNKNOWN"))))},dependencies:[q],encapsulation:2})}return i})();var Z=i=>({tutorId:i}),Dt=(i,l)=>["/course-management",i,"programming-exercises",l,"repository","SOLUTION"],yt=()=>[],It=(i,l,t)=>({total:i,toRead:l,toAssess:t}),Ot=i=>({round:i}),Rt=()=>({cursor:"not-allowed"}),Ft=()=>({}),kt=(i,l)=>({notYetAssessed:i,lockedSubmissionsByOtherTutor:l}),Pt=i=>({firstRoundAssessments:i});function wt(i,l){if(i&1&&(e(0,`
                `),a(1,"span"),e(2),_(3,"artemisTranslate"),r(),e(4,`
            `)),i&2){let t=d(2);n(2),O("",u(3,2,"artemisApp.exerciseAssessmentDashboard.pageHeader")," ",t.exercise==null?null:t.exercise.title,"")}}function Lt(i,l){if(i&1&&(e(0,`
                `),a(1,"span"),e(2),_(3,"artemisTranslate"),r(),e(4,`
            `)),i&2){let t=d(2);n(2),O("",u(3,2,"artemisApp.exerciseAssessmentDashboard.testRunPageHeader")," ",t.exercise==null?null:t.exercise.title,"")}}function Bt(i,l){if(i&1&&(e(0,`
    `),a(1,"jhi-header-exercise-page-with-details",1),e(2,`
        `),de(3,2),e(4,`
            `),x(5,wt,5,4)(6,Lt,5,4),me(),e(7,`
    `),r(),e(8,`
`)),i&2){let t=d();n(),p("exercise",t.exercise)("exam",t.exam)("isTestRun",t.isTestRun),n(4),c(t.isTestRun?6:5)}}function Mt(i,l){if(i&1){let t=T();e(0,`
                        `),a(1,"div",20),e(2,`
                            `),a(3,"jhi-second-correction-enable-button",21),v("ngModelChange",function(){S(t);let o=d(3);return A(o.toggleSecondCorrection())}),r(),e(4,`
                        `),r(),e(5,`
                    `)}if(i&2){let t=d(3);n(3),p("secondCorrectionEnabled",t.secondCorrectionEnabled)("togglingSecondCorrectionButton",t.togglingSecondCorrectionButton)}}function jt(i,l){if(i&1&&e(0),i&2){let t=l.model,s=d(4);f(" ",(t.value*100/s.numberOfSubmissions.total).toFixed(2),"% ")}}function qt(i,l){if(i&1&&(e(0,`
                    `),a(1,"div",22),e(2,`
                        `),a(3,"ngx-charts-pie-chart",23),e(4,`
                            `),x(5,jt,1,1,"ng-template",null,0,N),e(7,`
                        `),r(),e(8,`
                    `),r(),e(9,`
                `)),i&2){let t=d(3);n(3),p("customColors",t.customColors)("view",t.view)("results",t.assessments)("legend",!0)("legendTitle","")("legendPosition",t.legendPosition)("animations",!1)("trimLabels",!1)}}function Vt(i,l){i&1&&(e(0,`
                                    `),a(1,"span"),e(2," - "),r(),e(3,`
                                `))}function Wt(i,l){if(i&1&&(e(0,`
                                    `),a(1,"span",24),e(2),r(),e(3,`
                                `)),i&2){let t=d(3);n(2),g(t.numberOfSubmissions.late)}}function Nt(i,l){if(i&1&&(e(0,`
                                        `),a(1,"div"),e(2,`
                                            `),a(3,"a",26),e(4),r(),e(5,`
                                            |
                                            `),a(6,"a",27),e(7),r(),e(8,`
                                        `),r(),e(9,`
                                    `)),i&2){let t=d(4);n(3),p("routerLink",t.complaintsLink),n(),w(`
                                                `,t.complaintsDashboardInfo.done," / ",t.complaintsDashboardInfo.total," (",t.complaintsDashboardInfo.doneToTotalPercentage,`)
                                            `),n(2),p("routerLink",t.complaintsLink)("queryParams",B(7,Z,t.tutor==null?null:t.tutor.id)),n(),f(`
                                                `,t.complaintsDashboardInfo.tutor,`
                                            `)}}function $t(i,l){if(i&1&&(e(0,`
                                        `),a(1,"div"),e(2),a(3,"a",27),e(4),r(),e(5,`
                                        `),r(),e(6,`
                                    `)),i&2){let t=d(4);n(2),w(`
                                            `,t.complaintsDashboardInfo.done," / ",t.complaintsDashboardInfo.total," (",t.complaintsDashboardInfo.doneToTotalPercentage,`) |
                                            `),n(),p("routerLink",t.complaintsLink)("queryParams",B(6,Z,t.tutor==null?null:t.tutor.id)),n(),f(`
                                                `,t.complaintsDashboardInfo.tutor,`
                                            `)}}function Gt(i,l){if(i&1&&(e(0,`
                            `),a(1,"div",9),e(2,`
                                `),m(3,"div",25),e(4,`
                                `),a(5,"div",11),e(6,`
                                    `),x(7,Nt,10,9)(8,$t,7,8),r(),e(9,`
                            `),r(),e(10,`
                        `)),i&2){let t=d(3);n(7),c(t.exercise.isAtLeastInstructor?7:-1),n(),c(t.exercise.isAtLeastInstructor?-1:8)}}function Ht(i,l){if(i&1&&(e(0,`
                                        `),a(1,"div"),e(2,`
                                            `),a(3,"a",26),e(4),r(),e(5,`
                                            |
                                            `),a(6,"a",27),e(7),r(),e(8,`
                                        `),r(),e(9,`
                                    `)),i&2){let t=d(4);n(3),p("routerLink",t.moreFeedbackRequestsLink),n(),w(`
                                                `,t.moreFeedbackRequestsDashboardInfo.done," / ",t.moreFeedbackRequestsDashboardInfo.total," (",t.moreFeedbackRequestsDashboardInfo.doneToTotalPercentage,`)
                                            `),n(2),p("routerLink",t.moreFeedbackRequestsLink)("queryParams",B(7,Z,t.tutor==null?null:t.tutor.id)),n(),f(`
                                                `,t.moreFeedbackRequestsDashboardInfo.tutor,`
                                            `)}}function Ut(i,l){if(i&1&&(e(0,`
                                        `),a(1,"div"),e(2),a(3,"a",27),e(4),r(),e(5,`
                                        `),r(),e(6,`
                                    `)),i&2){let t=d(4);n(2),w(`
                                            `,t.moreFeedbackRequestsDashboardInfo.done," / ",t.moreFeedbackRequestsDashboardInfo.total," (",t.moreFeedbackRequestsDashboardInfo.doneToTotalPercentage,`) |
                                            `),n(),p("routerLink",t.moreFeedbackRequestsLink)("queryParams",B(6,Z,t.tutor==null?null:t.tutor.id)),n(),f(`
                                                `,t.moreFeedbackRequestsDashboardInfo.tutor,`
                                            `)}}function Qt(i,l){if(i&1&&(e(0,`
                            `),a(1,"div",9),e(2,`
                                `),m(3,"div",28),e(4,`
                                `),a(5,"div",11),e(6,`
                                    `),x(7,Ht,10,9)(8,Ut,7,8),r(),e(9,`
                            `),r(),e(10,`
                        `)),i&2){let t=d(3);n(7),c(t.exercise.isAtLeastInstructor?7:-1),n(),c(t.exercise.isAtLeastInstructor?-1:8)}}function Yt(i,l){i&1&&(e(0,`
                            `),a(1,"div"),e(2,`
                                `),m(3,"div",29),e(4,`
                                `),m(5,"span",30),e(6,`
                            `),r(),e(7,`
                        `))}function zt(i,l){if(i&1&&(e(0,`
            `),a(1,"div",3),e(2,`
                `),a(3,"div",4),e(4,`
                    `),a(5,"p",5),e(6),_(7,"artemisTranslate"),_(8,"artemisTranslate"),r(),e(9,`
                    `),m(10,"jhi-tutor-participation-graph",6),e(11,`
                    `),a(12,"p"),e(13),_(14,"artemisTranslate"),r(),e(15,`

                    `),x(16,Mt,6,2),r(),e(17,`

                `),x(18,qt,10,8),a(19,"div",7),e(20,`
                    `),a(21,"jhi-side-panel",8),_(22,"artemisTranslate"),_(23,"artemisTranslate"),e(24,`
                        `),a(25,"div",9),e(26,`
                            `),m(27,"div",10),e(28,`
                            `),a(29,"div",11),e(30,`
                                `),a(31,"span",12),e(32),r(),e(33,`
                                `),x(34,Vt,4,0)(35,Wt,4,1),e(36),r(),e(37,`
                        `),r(),e(38,`

                        `),x(39,Gt,11,2)(40,Qt,11,2),a(41,"div",9),e(42,`
                            `),m(43,"div",13),e(44,`
                            `),a(45,"div",11),e(46),r(),e(47,`
                        `),r(),e(48,`
                        `),a(49,"div",9),e(50,`
                            `),a(51,"a",14),e(52,`
                                `),m(53,"fa-icon",15),e(54,`
                                `),m(55,"span",16),e(56,`
                            `),r(),e(57,`
                        `),r(),e(58,`
                    `),r(),e(59,`

                    `),a(60,"div",17),e(61,`
                        `),a(62,"div"),e(63,`
                            `),m(64,"div",18),e(65,`
                            `),m(66,"span",19),e(67,`
                        `),r(),e(68,`
                        `),x(69,Yt,8,0),r(),e(70,`
                `),r(),e(71,`
            `),r(),e(72,`
        `)),i&2){let t=d(2);n(6),O(`
                        `,u(7,29,"artemisApp.exerciseAssessmentDashboard.yourStatus"),`:
                        `,u(8,31,"artemisApp.exerciseAssessmentDashboard.tutorParticipationStatus.title."+t.yourStatusTitle),`
                    `),n(4),p("exercise",t.exercise)("tutorParticipation",t.tutorParticipation)("numberOfSubmissions",t.numberOfSubmissions)("totalNumberOfAssessments",t.totalNumberOfAssessments)("numberOfComplaints",t.complaintsDashboardInfo.total)("numberOfOpenComplaints",t.complaintsDashboardInfo.total-t.complaintsDashboardInfo.done)("numberOfMoreFeedbackRequests",t.moreFeedbackRequestsDashboardInfo.total)("numberOfOpenMoreFeedbackRequests",t.moreFeedbackRequestsDashboardInfo.total-t.moreFeedbackRequestsDashboardInfo.done)("numberOfAssessmentsOfCorrectionRounds",t.numberOfAssessmentsOfCorrectionRounds),n(3),f(`
                        `,u(14,33,"artemisApp.exerciseAssessmentDashboard.tutorParticipationStatus.description."+t.tutorParticipation.status.toString()),`
                    `),n(3),c(t.exercise.isAtLeastInstructor&&(t.exam!=null&&t.exam.numberOfCorrectionRoundsInExam)&&(t.exam==null?null:t.exam.numberOfCorrectionRoundsInExam)>1&&t.isExamMode&&!t.isTestRun?16:-1),n(2),c(t.numberOfSubmissions.total>0?18:-1),n(3),p("panelHeader",u(22,35,"artemisApp.exerciseAssessmentDashboard.exerciseInformation"))("panelDescriptionHeader",u(23,37,"artemisApp.exerciseAssessmentDashboard.totalYours")),n(11),g(t.numberOfSubmissions.inTime),n(2),c(t.numberOfSubmissions.late>0?34:-1),n(),c(t.numberOfSubmissions.late>0?35:-1),n(),O(`
                                |
                                `,t.numberOfTutorAssessments," (",t.tutorAssessmentPercentage,`%)
                            `),n(3),c(t.complaintsEnabled?39:-1),n(),c(t.feedbackRequestEnabled?40:-1),n(6),O("",t.ratingsDashboardInfo.total," | ",t.ratingsDashboardInfo.tutor,""),n(5),p("routerLink",t.getExerciseDetailsLink()),n(2),p("icon",t.faListAlt)("fixedWidth",!0),n(16),c(t.numberOfSubmissions.late>0?69:-1)}}function Xt(i,l){if(i&1&&(e(0,`
                            `),m(1,"div",33),e(2,`
                        `)),i&2){let t=d(4);n(),p("innerHTML",t.formattedProblemStatement,W)}}function Kt(i,l){if(i&1&&(e(0,`
                            `),e(1,`
                            `),m(2,"jhi-programming-exercise-instructions",34),e(3,`
                        `)),i&2){let t=d(4);n(2),p("exercise",t.programmingExercise)("participation",t.programmingExercise.templateParticipation)("personalParticipation",!1)}}function Jt(i,l){if(i&1&&(e(0,`
                    `),a(1,"jhi-info-panel",32),_(2,"artemisTranslate"),e(3,`
                        `),x(4,Xt,3,1)(5,Kt,4,3),r(),e(6,`
                `)),i&2){let t=d(3);n(),p("panelHeader",u(2,2,"artemisApp.exerciseAssessmentDashboard.problemStatement")),n(3),c(t.exercise.type!==t.ExerciseType.PROGRAMMING?4:5)}}function Zt(i,l){if(i&1&&(e(0,`
                    `),a(1,"jhi-info-panel",32),_(2,"artemisTranslate"),e(3,`
                        `),m(4,"div",33),e(5,`
                    `),r(),e(6,`
                `)),i&2){let t=d(3);n(),p("panelHeader",u(2,2,"artemisApp.exerciseAssessmentDashboard.exampleSolution")),n(3),p("innerHTML",t.formattedSampleSolution,W)}}function ei(i,l){if(i&1&&(e(0,`
                    `),a(1,"jhi-info-panel",32),_(2,"artemisTranslate"),e(3,`
                        `),a(4,"div"),e(5,`
                            `),m(6,"jhi-modeling-editor",35),e(7,`
                        `),r(),e(8,`
                    `),r(),e(9,`
                `)),i&2){let t=d(3);n(),p("panelHeader",u(2,4,"artemisApp.exerciseAssessmentDashboard.exampleSolution")),n(5),p("umlModel",t.exampleSolutionModel)("diagramType",t.modelingExercise.diagramType)("readOnly",!0)}}function ti(i,l){if(i&1&&(e(0,`
                    `),a(1,"jhi-info-panel",32),_(2,"artemisTranslate"),e(3,`
                        `),m(4,"div",33),e(5,`
                    `),r(),e(6,`
                `)),i&2){let t=d(3);n(),p("panelHeader",u(2,2,"artemisApp.exerciseAssessmentDashboard.exampleSolutionExplanation")),n(3),p("innerHTML",t.formattedSampleSolution,W)}}function ii(i,l){if(i&1&&(e(0,`
                            `),a(1,"a",38),e(2,`
                                `),m(3,"jhi-button",39),e(4,`
                            `),r(),e(5,`
                        `)),i&2){let t=d(4);n(),p("href",(t.programmingExercise.solutionParticipation==null?null:t.programmingExercise.solutionParticipation.repositoryUri)||"",le)}}function ni(i,l){if(i&1&&(e(0,`
                            `),m(1,"jhi-code-button",40),e(2,`
                        `)),i&2){let t=d(4);n(),p("smallButtons",!0)("repositoryUri",(t.programmingExercise.solutionParticipation==null?null:t.programmingExercise.solutionParticipation.repositoryUri)||"")("routerLinkForRepositoryView",ie(3,Dt,t.courseId,t.exerciseId))}}function si(i,l){if(i&1&&(e(0,`
                    `),a(1,"div",36),e(2,`
                        `),m(3,"h4",37),e(4,`
                        `),x(5,ii,6,1)(6,ni,3,6),r(),e(7,`
                `)),i&2){let t=d(3);n(5),c(t.localVCEnabled?6:5)}}function oi(i,l){if(i&1&&(e(0,`
                    `),a(1,"jhi-info-panel",32),_(2,"artemisTranslate"),e(3,`
                        `),m(4,"div",33),e(5,`
                    `),r(),e(6,`
                `)),i&2){let t=d(3);n(),p("panelHeader",u(2,2,"artemisApp.exerciseAssessmentDashboard.gradingInstructions")),n(3),p("innerHTML",t.formattedGradingInstructions,W)}}function ai(i,l){if(i&1&&(e(0,`
                    `),a(1,"div",41),e(2,`
                        `),m(3,"h4",42),e(4,`
                        `),m(5,"jhi-structured-grading-instructions-assessment-layout",43),e(6,`
                    `),r(),e(7,`
                `)),i&2){let t=d(3);n(5),p("readonly",!0)("criteria",t.exercise.gradingCriteria||U(2,yt))}}function ri(i,l){if(i&1&&(e(0,`
            `),a(1,"div",31),e(2,`
                `),x(3,Jt,7,4)(4,Zt,7,4)(5,ei,10,6)(6,ti,7,4)(7,si,8,1)(8,oi,7,4)(9,ai,8,3),r(),e(10,`
        `)),i&2){let t=d(2);n(3),c(t.exercise.problemStatement&&t.exercise.problemStatement.length>0?3:-1),n(),c((t.exercise.type===t.ExerciseType.TEXT||t.exercise.type===t.ExerciseType.FILE_UPLOAD)&&t.formattedSampleSolution?4:-1),n(),c(t.exercise.type===t.ExerciseType.MODELING&&t.exampleSolutionModel?5:-1),n(),c(t.exercise.type===t.ExerciseType.MODELING&&t.modelingExercise.exampleSolutionExplanation?6:-1),n(),c(t.exercise.type===t.ExerciseType.PROGRAMMING?7:-1),n(),c(t.exercise.gradingInstructions&&t.exercise.gradingInstructions.length>0?8:-1),n(),c(t.exercise.gradingCriteria&&t.exercise.gradingCriteria.length>0?9:-1)}}function li(i,l){i&1&&(e(0,`
                        `),m(1,"span",47),e(2,`
                    `))}function di(i,l){i&1&&(e(0,`
                        `),m(1,"span",48),e(2,`
                    `))}function mi(i,l){if(i&1){let t=T();e(0,`
            `),a(1,"div",44),e(2,`
                `),m(3,"p",45),e(4,`

                `),a(5,"button",46),v("click",function(){S(t);let o=d(2);return A(o.readInstruction())}),e(6,`
                    `),x(7,li,3,0)(8,di,3,0),r(),e(9,`
            `),r(),e(10,`
        `)}if(i&2){let t=d(2);n(5),p("disabled",t.isLoading),n(2),c(t.exercise.gradingInstructions&&t.exercise.gradingInstructions.length>0?7:-1),n(),c(!t.exercise.gradingInstructions||t.exercise.gradingInstructions.length===0?8:-1)}}function ci(i,l){if(i&1&&(e(0,`
                        `),a(1,"div",52),e(2,`
                            `),m(3,"span",53),e(4,`
                        `),r(),e(5,`
                    `)),i&2){let t=d(3);n(3),p("translateValues",xe(1,It,t.stats.toReview.total+t.stats.toAssess.total,t.stats.toReview.total,t.stats.toAssess.total))}}function pi(i,l){i&1&&(e(0,`
                                                `),m(1,"span",57),e(2,`
                                            `))}function xi(i,l){i&1&&(e(0),_(1,"artemisTranslate")),i&2&&f(`
                                                `,u(1,1,"artemisApp.exerciseAssessmentDashboard.continue"),`
                                            `)}function _i(i,l){if(i&1){let t=T();e(0,`
                                        `),a(1,"button",56),v("click",function(){S(t);let o=d(5);return A(o.openExampleSubmission(o.nextExampleSubmissionId,!0,!1))}),e(2,`
                                            `),x(3,pi,3,0)(4,xi,2,3),e(5),_(6,"artemisTranslate"),r(),e(7,`
                                    `)}if(i&2){let t=d(5);n(),I("guided-tour",t.exercise===t.exerciseForGuidedTour),n(2),c(t.stats.toReview.done<=0?3:4),n(2),f(`

                                            `,u(6,4,"artemisApp.exerciseAssessmentDashboard.readingExampleSubmissions"),`
                                        `)}}function ui(i,l){if(i&1&&(e(0,`
                                                        `),m(1,"fa-icon",59),e(2,`
                                                    `)),i&2){let t=d(7);n(),p("icon",t.faCheckCircle)}}function Ci(i,l){if(i&1){let t=T();e(0,`
                                                `),a(1,"li"),e(2,`
                                                    `),a(3,"button",58),v("click",function(){let o=S(t).$implicit,C=d(6);return A(C.openExampleSubmission(o.id,!0,!1))}),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                                    `),x(7,ui,3,1),r(),e(8,`
                                            `)}if(i&2){let t=l.$implicit,s=l.$index,o=d(6);n(3),I("guided-tour",o.exercise===o.exerciseForGuidedTour),n(),O(`
                                                        `,u(5,5,"artemisApp.exerciseAssessmentDashboard.readExampleSubmission")," ",s+1,`
                                                    `),n(3),c(o.hasBeenCompletedByTutor(t.id)?7:-1)}}function bi(i,l){if(i&1&&(e(0,`
                                        `),a(1,"ul"),e(2,`
                                            `),F(3,Ci,9,7,null,null,R),r(),e(5,`
                                    `)),i&2){let t=d(5);n(3),k(t.exampleSubmissionsToReview)}}function hi(i,l){if(i&1&&(e(0,`
                                `),a(1,"div",55),e(2,`
                                    `),a(3,"p",5),e(4),_(5,"artemisTranslate"),r(),e(6,`

                                    `),x(7,_i,8,6)(8,bi,6,0),r(),e(9,`
                            `)),i&2){let t=d(4);n(4),w(`
                                        `,u(5,5,"artemisApp.exerciseAssessmentDashboard.readSubmissions")," (",t.stats.toReview.done," / ",t.stats.toReview.total,`)
                                    `),n(3),c(t.stats.toReview.done<t.stats.toReview.total?7:-1),n(),c(t.stats.toReview.done>=t.stats.toReview.total?8:-1)}}function fi(i,l){i&1&&(e(0,`
                                                `),m(1,"span",57),e(2,`
                                            `))}function Si(i,l){i&1&&(e(0),_(1,"artemisTranslate")),i&2&&f(`
                                                `,u(1,1,"artemisApp.exerciseAssessmentDashboard.continue"),`
                                            `)}function Ai(i,l){if(i&1){let t=T();e(0,`
                                        `),a(1,"button",60),v("click",function(){S(t);let o=d(5);return A(o.openExampleSubmission(o.nextExampleSubmissionId,!1,!0))}),e(2,`
                                            `),x(3,fi,3,0)(4,Si,2,3),e(5),_(6,"artemisTranslate"),r(),e(7,`
                                    `)}if(i&2){let t=d(5);n(),I("guided-tour",t.exercise===t.exerciseForGuidedTour),n(2),c(t.stats.toAssess.done<=0?3:4),n(2),f(`

                                            `,u(6,4,"artemisApp.exerciseAssessmentDashboard.assessingExampleSubmission"),`
                                        `)}}function Ei(i,l){if(i&1&&(e(0,`
                                                        `),m(1,"fa-icon",59),e(2,`
                                                    `)),i&2){let t=d(7);n(),p("icon",t.faCheckCircle)}}function Ti(i,l){if(i&1){let t=T();e(0,`
                                                `),a(1,"li"),e(2,`
                                                    `),a(3,"button",61),v("click",function(){let o=S(t).$implicit,C=d(6);return A(C.openExampleSubmission(o.id,!1,!0))}),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                                    `),x(7,Ei,3,1),r(),e(8,`
                                            `)}if(i&2){let t=l.$implicit,s=l.$index,o=d(6);n(3),I("guided-tour",o.exercise===o.exerciseForGuidedTour),n(),O(`
                                                        `,u(5,5,"artemisApp.exerciseAssessmentDashboard.assessExampleSubmission")," ",s+1,`
                                                    `),n(3),c(o.hasBeenCompletedByTutor(t.id)?7:-1)}}function vi(i,l){if(i&1&&(e(0,`
                                        `),a(1,"ul"),e(2,`
                                            `),F(3,Ti,9,7,null,null,R),r(),e(5,`
                                    `)),i&2){let t=d(5);n(3),k(t.exampleSubmissionsToAssess)}}function gi(i,l){if(i&1&&(e(0,`
                                `),a(1,"div",55),e(2,`
                                    `),a(3,"p",5),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                    `),x(7,Ai,8,6)(8,vi,6,0),r(),e(9,`
                            `)),i&2){let t=d(4);n(4),w(`
                                        `,u(5,5,"artemisApp.exerciseAssessmentDashboard.assessedSubmissions")," (",t.stats.toAssess.done,` /
                                        `,t.stats.toAssess.total,`)
                                    `),n(3),c(t.stats.toAssess.done<t.stats.toAssess.total?7:-1),n(),c(t.stats.toAssess.done>=t.stats.toAssess.total?8:-1)}}function Di(i,l){if(i&1&&(e(0,`
                        `),a(1,"div",54),e(2,`
                            `),x(3,hi,10,7)(4,gi,10,7),r(),e(5,`
                    `)),i&2){let t=d(3);n(3),c(t.stats.toReview.total>0?3:-1),n(),c(t.stats.toAssess.total>0&&t.stats.toReview.done>=t.stats.toReview.total?4:-1)}}function yi(i,l){i&1&&(e(0,`
                        `),m(1,"div",62),e(2,`
                    `))}function Ii(i,l){i&1&&(e(0,`
                                    `),m(1,"h4",63),e(2,`
                                `))}function Oi(i,l){if(i&1&&(e(0,`
                                    `),m(1,"h4",64),e(2,`
                                `)),i&2){let t=d(2).$index;n(),p("translateValues",B(1,Ot,t+1))}}function Ri(i,l){if(i&1&&(e(0,`
                                    `),m(1,"fa-icon",65),_(2,"artemisTranslate"),e(3,`
                                `)),i&2){let t=d(5);n(),P("ngbTooltip",u(2,2,"artemisApp.exerciseAssessmentDashboard.noSubmissionsBecauseFirstAssessedByYourself")),p("icon",t.faQuestionCircle)}}function Fi(i,l){if(i&1&&(e(0,`
                                `),x(1,Ii,3,0)(2,Oi,3,3)(3,Ri,4,4)),i&2){let t=d().$index,s=d(3);n(),c(s.isExamMode?-1:1),n(),c(s.isExamMode?2:-1),n(),c(t>0?3:-1)}}function ki(i,l){i&1&&(e(0,`
                                    `),m(1,"h4",66),e(2,`
                                `))}function Pi(i,l){if(i&1&&(e(0,`
                                                            `),a(1,"th",78),e(2,`
                                                                `),m(3,"a",79),e(4,`
                                                                `),m(5,"fa-icon",72),e(6,`
                                                            `),r(),e(7,`
                                                        `)),i&2){let t=d(7);n(5),p("icon",t.faSort)}}function wi(i,l){if(i&1&&(e(0,`
                                                                `),a(1,"td"),e(2,`
                                                                    `),m(3,"jhi-language-table-cell",81),e(4,`
                                                                `),r(),e(5,`
                                                            `)),i&2){let t=d(5).$index,s=d(3);n(3),p("submission",s.unassessedSubmissionByRound.get(t))}}function Li(i,l){if(i&1&&(e(0,`
                                                                        `),m(1,"fa-icon",82),e(2,`
                                                                    `)),i&2){let t=d(8);n(),p("icon",t.faSpinner)}}function Bi(i,l){if(i&1&&(e(0,`
                                                        `),a(1,"tr"),e(2,`
                                                            `),m(3,"td"),e(4,`
                                                            `),a(5,"td"),e(6),_(7,"artemisDate"),r(),e(8,`
                                                            `),m(9,"td"),e(10,`
                                                            `),x(11,wi,6,1),a(12,"td"),e(13,`
                                                                `),e(14,`
                                                                `),e(15,`
                                                                `),e(16,`
                                                                `),e(17,`
                                                                `),e(18,`
                                                                `),e(19,`
                                                                `),e(20,`
                                                                `),e(21,`
                                                                `),e(22,`
                                                                `),e(23,`
                                                                `),e(24,`
                                                                `),e(25,`
                                                                `),e(26,`
                                                                `),e(27,`
                                                                `),e(28,`
                                                                `),e(29,`
                                                                `),e(30,`
                                                                `),e(31,`
                                                                `),a(32,"a",80),e(33,`
                                                                    `),x(34,Li,3,1),m(35,"fa-icon",15),e(36),_(37,"artemisTranslate"),r(),e(38,`
                                                            `),r(),e(39,`
                                                        `),r(),e(40,`
                                                    `)),i&2){let t=d(4).$index,s=d(3);n(6),g(u(7,13,s.unassessedSubmissionByRound.get(t).submissionDate)),n(5),c(s.exercise.type===s.ExerciseType.TEXT?11:-1),n(21),I("disabled",s.exercise===s.exerciseForGuidedTour||s.openingAssessmentEditorForNewSubmission)("guided-tour",s.exercise===s.exerciseForGuidedTour),p("routerLink",s.getAssessmentLink("new"))("queryParams",s.getAssessmentQueryParams(t))("ngStyle",s.exercise===s.exerciseForGuidedTour?U(17,Rt):U(18,Ft)),n(2),c(s.openingAssessmentEditorForNewSubmission?34:-1),n(),p("icon",s.faFolderOpen)("fixedWidth",!0),n(),f(`
                                                                    `,u(37,15,"artemisApp.exerciseAssessmentDashboard.startAssessment"),`
                                                                `)}}function Mi(i,l){if(i&1&&(e(0,`
                                                                `),a(1,"td"),e(2,`
                                                                    `),m(3,"jhi-language-table-cell",81),e(4,`
                                                                `),r(),e(5,`
                                                            `)),i&2){let t=d().$implicit;n(3),p("submission",t)}}function ji(i,l){if(i&1&&(e(0,`
                                                                        `),a(1,"a",84),e(2,`
                                                                            `),m(3,"fa-icon",15),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                                                    `)),i&2){let t=d(2).$implicit,s=d(4).$index,o=d(3);n(),p("routerLink",o.getAssessmentLink(t))("queryParams",o.getAssessmentQueryParams(s)),n(2),p("icon",o.faFolderOpen)("fixedWidth",!0),n(),f("\xA0",u(5,5,"artemisApp.exerciseAssessmentDashboard.continueAssessment"),`
                                                                        `)}}function qi(i,l){if(i&1&&(e(0,`
                                                                            `),a(1,"a",85),e(2,`
                                                                                `),m(3,"fa-icon",15),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                                                        `)),i&2){let t=d(3).$implicit,s=d(4).$index,o=d(3);n(),p("routerLink",o.getAssessmentLink(t))("queryParams",o.getAssessmentQueryParams(s)),n(2),p("icon",o.faFolderOpen)("fixedWidth",!0),n(),f(`
                                                                                \xA0`,u(5,5,"artemisApp.exerciseAssessmentDashboard.openAssessment"),`
                                                                            `)}}function Vi(i,l){if(i&1&&(e(0,`
                                                                        `),x(1,qi,7,7)),i&2){let t=d(2).$implicit,s=d(4).$index;n(),c(t.results&&t.results[s]?1:-1)}}function Wi(i,l){if(i&1&&(e(0,`
                                                                    `),e(1,`
                                                                    `),e(2,`
                                                                    `),e(3,`
                                                                    `),e(4,`
                                                                    `),e(5,`
                                                                    `),e(6,`
                                                                    `),e(7,`
                                                                    `),e(8,`
                                                                    `),e(9,`
                                                                    `),e(10,`
                                                                    `),e(11,`
                                                                    `),e(12,`
                                                                    `),e(13,`
                                                                    `),e(14,`
                                                                    `),x(15,ji,7,7)(16,Vi,2,1)),i&2){let t=d().$implicit,s=d(4).$index,o=d(3);n(15),c(t&&o.calculateSubmissionStatusIsDraft(t,s)?15:16)}}function Ni(i,l){if(i&1&&(e(0,`
                                                        `),a(1,"tr"),e(2,`
                                                            `),a(3,"td"),e(4),r(),e(5,`
                                                            `),a(6,"td"),e(7),_(8,"artemisDate"),r(),e(9,`
                                                            `),a(10,"td"),e(11,`
                                                                `),m(12,"jhi-result",83),e(13,`
                                                            `),r(),e(14,`
                                                            `),x(15,Mi,6,1),a(16,"td"),e(17,`
                                                                `),x(18,Wi,17,1),r(),e(19,`
                                                        `),r(),e(20,`
                                                    `)),i&2){let t=l.$implicit,s=d(4).$index,o=d(3);n(4),g(t.id),n(3),g(u(8,7,t.submissionDate)),n(5),p("result",o.getSubmissionResultByCorrectionRound(t,s))("participation",t.participation)("exercise",o.exercise),n(3),c(o.exercise.type===o.ExerciseType.TEXT?15:-1),n(3),c(o.isTestRun&&o.complaints.length===0||!o.isTestRun?18:-1)}}function $i(i,l){if(i&1){let t=T();e(0,`
                                            `),a(1,"table",68),e(2,`
                                                `),a(3,"thead"),e(4,`
                                                    `),a(5,"tr",69),G("predicateChange",function(o){S(t);let C=d(6);return L(C.sortPredicates[0],o)||(C.sortPredicates[0]=o),A(o)})("ascendingChange",function(o){S(t);let C=d(6);return L(C.reverseOrders[0],o)||(C.reverseOrders[0]=o),A(o)}),v("sortChange",function(){S(t);let o=d(3).$index,C=d(3);return A(C.sortSubmissionRows(o))}),e(6,`
                                                        `),a(7,"th",70),e(8,`
                                                            `),a(9,"a",71),e(10,"Id"),r(),e(11,`
                                                            `),m(12,"fa-icon",72),e(13,`
                                                        `),r(),e(14,`
                                                        `),a(15,"th",73),e(16,`
                                                            `),m(17,"a",74),e(18,`
                                                            `),m(19,"fa-icon",72),e(20,`
                                                        `),r(),e(21,`
                                                        `),a(22,"th",75),e(23,`
                                                            `),m(24,"a",76),e(25,`
                                                            `),m(26,"fa-icon",72),e(27,`
                                                        `),r(),e(28,`
                                                        `),x(29,Pi,8,1),m(30,"th",77),e(31,`
                                                    `),r(),e(32,`
                                                `),r(),e(33,`
                                                `),a(34,"tbody"),e(35,`
                                                    `),x(36,Bi,41,19),F(37,Ni,21,9,null,null,R),r(),e(39,`
                                            `),r(),e(40,`
                                        `)}if(i&2){let t,s=d(3).$index,o=d(3);n(5),$("predicate",o.sortPredicates[0])("ascending",o.reverseOrders[0]),n(7),p("icon",o.faSort),n(7),p("icon",o.faSort),n(7),p("icon",o.faSort),n(3),c(o.exercise.type===o.ExerciseType.TEXT?29:-1),n(7),c(!(o.unassessedSubmissionByRound==null||(t=o.unassessedSubmissionByRound.get(s))==null)&&t.id&&!o.exercise.teamMode&&!o.isTestRun?36:-1),n(),k(o.assessedSubmissionsByRound.get(s))}}function Gi(i,l){i&1&&(e(0,`
                                                `),m(1,"div",87),e(2,`
                                            `))}function Hi(i,l){i&1&&(e(0,`
                                                `),m(1,"div",88),e(2,`
                                            `))}function Ui(i,l){if(i&1&&(e(0,`
                                            `),m(1,"jhi-assessment-warning",86),e(2,`
                                            `),x(3,Gi,3,0)(4,Hi,3,0)),i&2){let t=d(6);n(),p("exercise",t.exercise),n(2),c(t.exercise.teamMode?4:3)}}function Qi(i,l){if(i&1&&(e(0,`
                                                    `),m(1,"span",91),e(2,`
                                                `)),i&2){let t=d(7);n(),p("translateValues",B(1,Pt,t.firstRoundAssessments))}}function Yi(i,l){if(i&1&&(e(0,`
                                            `),a(1,"div",89),e(2,`
                                                `),m(3,"span",90),e(4,`
                                                `),x(5,Qi,3,3),r(),e(6,`
                                        `)),i&2){let t=d(3).$index,s=d(3);n(3),p("translateValues",ie(2,kt,s.notYetAssessed[t],s.lockedSubmissionsByOtherTutor[t])),n(2),c(t===1?5:-1)}}function zi(i,l){if(i&1&&(e(0,`
                                    `),a(1,"div",67),e(2,`
                                        `),x(3,$i,41,7)(4,Ui,5,2)(5,Yi,7,5),r(),e(6,`
                                `)),i&2){let t,s=d(2),o=s.$implicit,C=s.$index,b=d(3);n(3),c(b.showSubmissionsForRound(C)?3:4),n(2),c(b.isExamMode&&(!(!(b.unassessedSubmissionByRound==null||(t=b.unassessedSubmissionByRound.get(C))==null)&&t.id)||b.exercise.teamMode||b.isTestRun)&&b.numberOfSubmissions.inTime!==o.inTime?5:-1)}}function Xi(i,l){if(i&1&&(e(0,`
                                `),x(1,ki,3,0)(2,zi,7,2)),i&2){let t=d(4);n(),c(t.isTestRun?1:-1),n(),c(t.tutorParticipationStatus===t.TRAINED||t.exercise.isAtLeastInstructor||t.tutorParticipationStatus===t.COMPLETED||t.isTestRun?2:-1)}}function Ki(i,l){i&1&&(e(0,`
                                `),m(1,"div",92),e(2,`
                            `))}function Ji(i,l){if(i&1&&(e(0,`
                        `),a(1,"div"),e(2,`
                            `),x(3,Fi,4,3)(4,Xi,3,2)(5,Ki,3,0),r(),e(6,`
                    `)),i&2){let t=l.$index,s=d(3);n(3),c((s.tutorParticipationStatus===s.TRAINED||s.exercise.isAtLeastInstructor||s.tutorParticipationStatus===s.COMPLETED)&&!s.isTestRun?3:-1),n(),c(s.numberOfCorrectionRoundsEnabled>t?4:-1),n(),c(s.numberOfCorrectionRoundsEnabled<=t?5:-1)}}function Zi(i,l){i&1&&e(0,`
                                                        >=
                                                    `)}function en(i,l){if(i&1&&(e(0,`
                                                        `),m(1,"fa-icon",100),_(2,"artemisTranslate"),e(3,`
                                                    `)),i&2){let t=d(6);n(),P("ngbTooltip",u(2,2,"artemisApp.complaint.oneWeekUnanswered")),p("icon",t.faExclamationTriangle)}}function tn(i,l){i&1&&(e(0,`
                                                        `),m(1,"span",101),e(2,`
                                                    `))}function nn(i,l){i&1&&(e(0,`
                                                        `),m(1,"span",102),e(2,`
                                                    `))}function sn(i,l){i&1&&(e(0,`
                                                        `),m(1,"span",103),e(2,`
                                                    `))}function on(i,l){if(i&1&&(e(0,`
                                                        `),a(1,"a",104),e(2,`
                                                            `),m(3,"fa-icon",15),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                                    `)),i&2){let t=d().$implicit,s=d(5);n(),I("disabled",s.isComplaintLocked(t.complaint)),p("routerLink",s.getAssessmentLink(t.submission))("queryParams",s.getComplaintQueryParams(t.complaint)),n(2),p("icon",s.faFolderOpen)("fixedWidth",!0),n(),f(`
                                                            `,u(5,7,"artemisApp.exerciseAssessmentDashboard.evaluateComplaint"),`
                                                        `)}}function an(i,l){if(i&1&&(e(0,`
                                                        `),a(1,"a",105),e(2,`
                                                            `),m(3,"fa-icon",15),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                                    `)),i&2){let t=d().$implicit,s=d(5);n(),p("routerLink",s.getAssessmentLink(t.submission))("queryParams",s.getComplaintQueryParams(t.complaint)),n(2),p("icon",s.faFolderOpen)("fixedWidth",!0),n(),f(`
                                                            `,u(5,5,"artemisApp.exerciseAssessmentDashboard.showComplaint"),`
                                                        `)}}function rn(i,l){if(i&1&&(e(0,`
                                            `),a(1,"tr"),e(2,`
                                                `),a(3,"td"),e(4),r(),e(5,`
                                                `),a(6,"td"),e(7),_(8,"artemisDate"),r(),e(9,`
                                                `),a(10,"td"),e(11,`
                                                    `),m(12,"jhi-result",83),e(13,`
                                                `),r(),e(14,`
                                                `),a(15,"td"),e(16,`
                                                    `),x(17,Zi,1,0),e(18),_(19,"artemisDurationFromSeconds"),x(20,en,4,4),r(),e(21,`
                                                `),a(22,"td"),e(23,`
                                                    `),x(24,tn,3,0)(25,nn,3,0)(26,sn,3,0),r(),e(27,`
                                                `),a(28,"td"),e(29,`
                                                    `),e(30,`
                                                    `),e(31,`
                                                    `),e(32,`
                                                    `),e(33,`
                                                    `),e(34,`
                                                    `),e(35,`
                                                    `),e(36,`
                                                    `),e(37,`
                                                    `),e(38,`
                                                    `),e(39,`
                                                    `),e(40,`
                                                    `),e(41,`
                                                    `),x(42,on,7,9)(43,an,7,7),r(),e(44,`
                                            `),r(),e(45,`
                                        `)),i&2){let t=l.$implicit,s=l.$index,o=d(5);n(4),g(s+1),n(3),g(u(8,12,t.complaint.submittedTime)),n(5),p("result",t.submission.latestResult)("participation",t.complaint.result.participation)("exercise",o.exercise),n(5),c(t.complaint.accepted===void 0?17:-1),n(),f(`
                                                    `,ne(19,14,o.complaintService.getResponseTimeInSeconds(t.complaint),!0),`
                                                    `),n(2),c(o.complaintService.shouldHighlightComplaint(t.complaint)?20:-1),n(4),c(t.complaint.accepted===void 0?24:-1),n(),c(t.complaint.accepted===!0?25:-1),n(),c(t.complaint.accepted===!1?26:-1),n(16),c(t.complaint.accepted===void 0?42:43)}}function ln(i,l){if(i&1){let t=T();e(0,`
                                `),a(1,"table",68),e(2,`
                                    `),a(3,"thead"),e(4,`
                                        `),a(5,"tr",69),G("predicateChange",function(o){S(t);let C=d(4);return L(C.sortPredicates[1],o)||(C.sortPredicates[1]=o),A(o)})("ascendingChange",function(o){S(t);let C=d(4);return L(C.reverseOrders[1],o)||(C.reverseOrders[1]=o),A(o)}),v("sortChange",function(){S(t);let o=d(4);return A(o.sortComplaintRows())}),e(6,`
                                            `),a(7,"th"),e(8,"#"),r(),e(9,`
                                            `),a(10,"th",94),e(11,`
                                                `),m(12,"a",74),e(13,`
                                                `),m(14,"fa-icon",72),e(15,`
                                            `),r(),e(16,`
                                            `),a(17,"th",95),e(18,`
                                                `),m(19,"a",76),e(20,`
                                                `),m(21,"fa-icon",72),e(22,`
                                            `),r(),e(23,`
                                            `),a(24,"th",96),e(25,`
                                                `),m(26,"a",97),e(27,`
                                                `),m(28,"fa-icon",72),e(29,`
                                            `),r(),e(30,`
                                            `),a(31,"th",98),e(32,`
                                                `),m(33,"a",99),e(34,`
                                                `),m(35,"fa-icon",72),e(36,`
                                            `),r(),e(37,`
                                            `),m(38,"th",77),e(39,`
                                        `),r(),e(40,`
                                    `),r(),e(41,`
                                    `),a(42,"tbody"),e(43,`
                                        `),F(44,rn,46,17,null,null,R),r(),e(46,`
                                `),r(),e(47,`
                            `)}if(i&2){let t=d(4);n(5),$("predicate",t.sortPredicates[1])("ascending",t.reverseOrders[1]),n(9),p("icon",t.faSort),n(7),p("icon",t.faSort),n(7),p("icon",t.faSort),n(7),p("icon",t.faSort),n(9),k(t.submissionsWithComplaints)}}function dn(i,l){i&1&&(e(0,`
                                    `),m(1,"div",106),e(2,`
                                `))}function mn(i,l){i&1&&(e(0,`
                                    `),m(1,"div",107),e(2,`
                                `))}function cn(i,l){if(i&1&&(e(0,`
                                `),x(1,dn,3,0)(2,mn,3,0)),i&2){let t=d(4);n(),c(t.complaintsDashboardInfo.total===0?1:-1),n(),c(t.complaintsDashboardInfo.total!==0?2:-1)}}function pn(i,l){if(i&1&&(e(0,`
                        `),m(1,"h4",93),e(2,`
                        `),m(3,"fa-icon",65),_(4,"artemisTranslate"),e(5,`
                        `),a(6,"div",67),e(7,`
                            `),x(8,ln,48,6)(9,cn,3,2),r(),e(10,`
                    `)),i&2){let t=d(3);n(3),p("icon",t.faQuestionCircle)("ngbTooltip",u(4,3,"artemisApp.exerciseAssessmentDashboard.complaintHint")),n(5),c(t.submissionsWithComplaints&&t.submissionsWithComplaints.length>0?8:9)}}function xn(i,l){i&1&&e(0,`
                                                        >=
                                                    `)}function _n(i,l){if(i&1&&(e(0,`
                                                        `),m(1,"fa-icon",100),_(2,"artemisTranslate"),e(3,`
                                                    `)),i&2){let t=d(6);n(),P("ngbTooltip",u(2,2,"artemisApp.complaint.oneWeekUnanswered")),p("icon",t.faExclamationTriangle)}}function un(i,l){i&1&&(e(0,`
                                                        `),m(1,"span",101),e(2,`
                                                    `))}function Cn(i,l){i&1&&(e(0,`
                                                        `),m(1,"span",110),e(2,`
                                                    `))}function bn(i,l){if(i&1&&(e(0,`
                                                        `),a(1,"a",111),e(2,`
                                                            `),m(3,"fa-icon",15),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                                    `)),i&2){let t=d().$implicit,s=d(5);n(),I("disabled",s.isComplaintLocked(t.complaint)),p("routerLink",s.getAssessmentLink(t.submission))("queryParams",s.getComplaintQueryParams(t.complaint)),n(2),p("icon",s.faFolderOpen)("fixedWidth",!0),n(),f(`
                                                            `,u(5,7,"artemisApp.exerciseAssessmentDashboard.evaluateMoreFeedbackRequest"),`
                                                        `)}}function hn(i,l){if(i&1&&(e(0,`
                                                        `),a(1,"button",105),e(2,`
                                                            `),m(3,"fa-icon",15),e(4),_(5,"artemisTranslate"),r(),e(6,`
                                                    `)),i&2){let t=d().$implicit,s=d(5);n(),p("routerLink",s.getAssessmentLink(t.submission))("queryParams",s.getComplaintQueryParams(t.complaint)),n(2),p("icon",s.faFolderOpen)("fixedWidth",!0),n(),f(`
                                                            `,u(5,5,"artemisApp.exerciseAssessmentDashboard.showMoreFeedbackRequests"),`
                                                        `)}}function fn(i,l){if(i&1&&(e(0,`
                                            `),a(1,"tr"),e(2,`
                                                `),a(3,"td"),e(4),r(),e(5,`
                                                `),a(6,"td"),e(7),_(8,"artemisDate"),r(),e(9,`
                                                `),a(10,"td"),e(11,`
                                                    `),m(12,"jhi-result",109),e(13,`
                                                `),r(),e(14,`
                                                `),a(15,"td"),e(16,`
                                                    `),x(17,xn,1,0),e(18),_(19,"artemisDurationFromSeconds"),x(20,_n,4,4),r(),e(21,`
                                                `),a(22,"td"),e(23,`
                                                    `),x(24,un,3,0)(25,Cn,3,0),r(),e(26,`
                                                `),a(27,"td"),e(28,`
                                                    `),e(29,`
                                                    `),e(30,`
                                                    `),e(31,`
                                                    `),e(32,`
                                                    `),e(33,`
                                                    `),e(34,`
                                                    `),e(35,`
                                                    `),e(36,`
                                                    `),e(37,`
                                                    `),e(38,`
                                                    `),e(39,`
                                                    `),e(40,`
                                                    `),e(41,`
                                                    `),e(42,`
                                                    `),x(43,bn,7,9)(44,hn,7,7),r(),e(45,`
                                            `),r(),e(46,`
                                        `)),i&2){let t=l.$implicit,s=l.$index,o=d(5);n(4),g(s+1),n(3),g(u(8,10,t.complaint.submittedTime)),n(5),p("result",t.complaint.result)("exercise",o.exercise),n(5),c(t.complaint.accepted===void 0?17:-1),n(),f(`
                                                    `,ne(19,12,o.complaintService.getResponseTimeInSeconds(t.complaint),!0),`
                                                    `),n(2),c(o.complaintService.shouldHighlightComplaint(t.complaint)?20:-1),n(4),c(t.complaint.accepted===void 0?24:-1),n(),c(t.complaint.accepted===!0?25:-1),n(18),c(t.complaint.accepted===void 0?43:44)}}function Sn(i,l){if(i&1){let t=T();e(0,`
                                `),a(1,"table",68),e(2,`
                                    `),a(3,"thead"),e(4,`
                                        `),a(5,"tr",69),G("predicateChange",function(o){S(t);let C=d(4);return L(C.sortPredicates[2],o)||(C.sortPredicates[2]=o),A(o)})("ascendingChange",function(o){S(t);let C=d(4);return L(C.reverseOrders[2],o)||(C.reverseOrders[2]=o),A(o)}),v("sortChange",function(){S(t);let o=d(4);return A(o.sortMoreFeedbackRows())}),e(6,`
                                            `),a(7,"th"),e(8,"#"),r(),e(9,`
                                            `),a(10,"th",94),e(11,`
                                                `),m(12,"a",74),e(13,`
                                                `),m(14,"fa-icon",72),e(15,`
                                            `),r(),e(16,`
                                            `),a(17,"th",95),e(18,`
                                                `),m(19,"a",76),e(20,`
                                                `),m(21,"fa-icon",72),e(22,`
                                            `),r(),e(23,`
                                            `),a(24,"th",96),e(25,`
                                                `),m(26,"a",97),e(27,`
                                                `),m(28,"fa-icon",72),e(29,`
                                            `),r(),e(30,`
                                            `),a(31,"th",98),e(32,`
                                                `),m(33,"a",99),e(34,`
                                                `),m(35,"fa-icon",72),e(36,`
                                            `),r(),e(37,`
                                            `),m(38,"th",77),e(39,`
                                        `),r(),e(40,`
                                    `),r(),e(41,`
                                    `),a(42,"tbody"),e(43,`
                                        `),F(44,fn,47,15,null,null,R),r(),e(46,`
                                `),r(),e(47,`
                            `)}if(i&2){let t=d(4);n(5),$("predicate",t.sortPredicates[2])("ascending",t.reverseOrders[2]),n(9),p("icon",t.faSort),n(7),p("icon",t.faSort),n(7),p("icon",t.faSort),n(7),p("icon",t.faSort),n(9),k(t.submissionsWithMoreFeedbackRequests)}}function An(i,l){i&1&&(e(0,`
                                    `),m(1,"div",112),e(2,`
                                `))}function En(i,l){i&1&&(e(0,`
                                    `),m(1,"div",113),e(2,`
                                `))}function Tn(i,l){if(i&1&&(e(0,`
                                `),x(1,An,3,0)(2,En,3,0)),i&2){let t=d(4);n(),c(t.moreFeedbackRequestsDashboardInfo.total===0?1:-1),n(),c(t.moreFeedbackRequestsDashboardInfo.total!==0?2:-1)}}function vn(i,l){if(i&1&&(e(0,`
                        `),m(1,"h4",108),e(2,`
                        `),m(3,"fa-icon",65),_(4,"artemisTranslate"),e(5,`
                        `),a(6,"div",67),e(7,`
                            `),x(8,Sn,48,6)(9,Tn,3,2),r(),e(10,`
                    `)),i&2){let t=d(3);n(3),p("icon",t.faQuestionCircle)("ngbTooltip",u(4,3,"artemisApp.exerciseAssessmentDashboard.moreFeedbackRequestHint")),n(5),c(t.submissionsWithMoreFeedbackRequests&&t.submissionsWithMoreFeedbackRequests.length>0?8:9)}}function gn(i,l){if(i&1&&(e(0,`
            `),a(1,"div",49),e(2,`
                `),e(3,`
                `),e(4,`
                `),a(5,"div",50),e(6,`
                    `),x(7,ci,6,5)(8,Di,6,2)(9,yi,3,0),F(10,Ji,7,3,null,null,R),x(12,pn,11,5)(13,vn,11,5),r(),e(14,`
                `),m(15,"jhi-collapsable-assessment-instructions",51),e(16,`
            `),r(),e(17,`
        `)),i&2){let t=d(2);n(7),c(t.tutorParticipationStatus===t.REVIEWED_INSTRUCTIONS&&!t.isTestRun?7:-1),n(),c(t.tutorParticipationStatus!==t.NOT_PARTICIPATED&&!t.isTestRun?8:-1),n(),c(t.submissionLockLimitReached&&t.tutorParticipationStatus!==t.REVIEWED_INSTRUCTIONS?9:-1),n(),k(t.numberOfAssessmentsOfCorrectionRounds),n(2),c(t.tutorParticipationStatus===t.TRAINED||t.exercise.isAtLeastInstructor||t.tutorParticipationStatus===t.COMPLETED||t.isTestRun?12:-1),n(),c((t.tutorParticipationStatus===t.TRAINED||t.exercise.isAtLeastInstructor||t.tutorParticipationStatus===t.COMPLETED)&&!t.isExamMode?13:-1),n(2),p("readOnly",!0)("exercise",t.exercise)("collapsed",!0)}}function Dn(i,l){i&1&&(e(0,`
                    `),m(1,"h2",115),e(2,`
                `))}function yn(i,l){if(i&1&&(e(0,`
            `),a(1,"div"),e(2,`
                `),x(3,Dn,3,0),m(4,"jhi-tutor-leaderboard",114),e(5,`
            `),r(),e(6,`
        `)),i&2){let t=d(2);n(3),c(t.isExamMode?-1:3),n(),p("exam",t.exam)("tutorsData",t.statsForDashboard.tutorLeaderboardEntries)("exercise",t.exercise)}}function In(i,l){if(i&1&&(e(0,`
    `),a(1,"div"),e(2,`
        `),x(3,zt,73,39)(4,ri,11,7)(5,mi,11,3)(6,gn,18,8)(7,yn,7,4),r(),e(8,`
`)),i&2){let t=d();n(3),c(t.isTestRun?-1:3),n(),c(t.tutorParticipationStatus===t.NOT_PARTICIPATED&&!t.isTestRun?4:-1),n(),c(t.tutorParticipationStatus===t.NOT_PARTICIPATED&&!t.isTestRun?5:-1),n(),c(t.tutorParticipationStatus!==t.NOT_PARTICIPATED||t.isTestRun?6:-1),n(),c(t.tutorParticipation.status===t.TRAINED||t.exercise.isAtLeastInstructor?7:-1)}}var Tt=(()=>{class i{complaintService=h(nt);exerciseService=h(K);alertService=h(Y);translateService=h(fe);accountService=h(Ie);route=h(Q);tutorParticipationService=h(Pe);submissionService=h(ke);textSubmissionService=h(it);modelingSubmissionService=h(ot);fileUploadSubmissionService=h(at);artemisMarkdown=h(Je);router=h(Ce);programmingSubmissionService=h(rt);guidedTourService=h(we);sortService=h(He);profileService=h(Re);roundScoreSpecifiedByCourseSettings=je;getCourseFromExercise=ye;exercise;modelingExercise;programmingExercise;courseId;exam;examId;exerciseGroupId;isExamMode=!1;isTestRun=!1;isLoading=!1;localVCEnabled=!1;statsForDashboard=new oe;exerciseId;numberOfTutorAssessments=0;numberOfSubmissions=new M;totalNumberOfAssessments=new M;numberOfAutomaticAssistedAssessments=new M;numberOfAssessmentsOfCorrectionRounds=[new M];numberOfLockedAssessmentByOtherTutorsOfCorrectionRound=[new M];complaintsEnabled=!1;feedbackRequestEnabled=!1;tutorAssessmentPercentage=0;tutorParticipationStatus;assessedSubmissionsByRound=new Map;unassessedSubmissionByRound=new Map;exampleSubmissionsToReview=[];exampleSubmissionsToAssess=[];exampleSubmissionsCompletedByTutor=[];tutorParticipation;nextExampleSubmissionId;exampleSolutionModel;complaints=[];submissionsWithMoreFeedbackRequests=[];submissionsWithComplaints=[];submissionLockLimitReached=!1;openingAssessmentEditorForNewSubmission=!1;secondCorrectionEnabled=!1;numberOfCorrectionRoundsEnabled=this.secondCorrectionEnabled?2:1;formattedGradingInstructions;formattedProblemStatement;formattedSampleSolution;getSubmissionResultByCorrectionRound=Fe;lockedSubmissionsByOtherTutor=[];notYetAssessed=[];firstRoundAssessments;sortPredicates=["submissionDate","complaint.accepted","complaint.accepted"];reverseOrders=[!0,!1,!1];ExerciseType=E;stats={toReview:{done:0,total:0},toAssess:{done:0,total:0}};NOT_PARTICIPATED="NOT_PARTICIPATED";REVIEWED_INSTRUCTIONS="REVIEWED_INSTRUCTIONS";TRAINED="TRAINED";COMPLETED="COMPLETED";tutor;togglingSecondCorrectionButton=!1;exerciseForGuidedTour;complaintsDashboardInfo=new D(0,0);moreFeedbackRequestsDashboardInfo=new D(0,0);ratingsDashboardInfo=new D(0,0);view=[330,150];legendPosition=Ue.Below;assessments;customColors;isAutomaticAssessedProgrammingExercise=!1;complaintsLink;moreFeedbackRequestsLink;faSpinner=ge;faQuestionCircle=Te;faCheckCircle=Ae;faFolderOpen=Se;faSort=Ee;faExclamationTriangle=De;faListAlt=ve;ngOnInit(){this.exerciseId=Number(this.route.snapshot.paramMap.get("exerciseId")),this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.isTestRun=this.router.url.indexOf("test-assessment-dashboard")>=0,this.unassessedSubmissionByRound=new Map,this.route.snapshot.paramMap.has("examId")&&(this.examId=Number(this.route.snapshot.paramMap.get("examId"))),this.loadAll(),this.accountService.identity().then(t=>this.tutor=t),this.translateService.onLangChange.subscribe(()=>{this.setupGraph()}),this.profileService.getProfileInfo().subscribe(t=>{this.localVCEnabled=t.activeProfiles.includes(Le)})}setupGraph(){if(this.programmingExercise&&this.programmingExercise.assessmentType===se.AUTOMATIC&&this.programmingExercise.allowComplaintsForAutomaticAssessments){let t=this.translateService.instant("artemisApp.exerciseAssessmentDashboard.numberOfOpenComplaints"),s=this.translateService.instant("artemisApp.exerciseAssessmentDashboard.numberOfResolvedComplaints");this.isAutomaticAssessedProgrammingExercise=!0,this.customColors=[{name:t,value:V.YELLOW},{name:s,value:V.GREEN}],this.assessments=[{name:t,value:this.statsForDashboard.numberOfOpenComplaints},{name:s,value:this.statsForDashboard.numberOfComplaints-this.statsForDashboard.numberOfOpenComplaints}]}else{let t=this.translateService.instant("artemisApp.exerciseAssessmentDashboard.numberOfUnassessedSubmissions"),s=this.translateService.instant("artemisApp.exerciseAssessmentDashboard.numberOfAutomaticAssistedSubmissions"),o=this.translateService.instant("artemisApp.exerciseAssessmentDashboard.numberOfManualAssessedSubmissions");this.customColors=[{name:t,value:V.RED},{name:o,value:V.BLUE},{name:s,value:V.YELLOW}],this.assessments=[{name:t,value:this.numberOfSubmissions.total-this.totalNumberOfAssessments.total},{name:o,value:this.totalNumberOfAssessments.total-this.numberOfAutomaticAssistedAssessments.total},{name:s,value:this.numberOfAutomaticAssistedAssessments.total}]}}setupLinks(){this.complaintsLink=["/course-management",this.courseId,this.exercise.type+"-exercises",this.exercise.id,"complaints"],this.moreFeedbackRequestsLink=["/course-management",this.courseId,this.exercise.type+"-exercises",this.exercise.id,"more-feedback-requests"]}loadAll(){this.exerciseService.getForTutors(this.exerciseId).subscribe({next:t=>{switch(this.exercise=t.body,this.secondCorrectionEnabled=this.exercise.secondCorrectionEnabled,this.numberOfCorrectionRoundsEnabled=this.secondCorrectionEnabled?2:1,this.formattedGradingInstructions=this.artemisMarkdown.safeHtmlForMarkdown(this.exercise.gradingInstructions),this.formattedProblemStatement=this.artemisMarkdown.safeHtmlForMarkdown(this.exercise.problemStatement),this.exercise.type){case E.TEXT:let o=this.exercise;this.formattedSampleSolution=this.artemisMarkdown.safeHtmlForMarkdown(o.exampleSolution);break;case E.MODELING:this.modelingExercise=this.exercise,this.modelingExercise.exampleSolutionModel&&(this.formattedSampleSolution=this.artemisMarkdown.safeHtmlForMarkdown(this.modelingExercise.exampleSolutionExplanation),this.exampleSolutionModel=JSON.parse(this.modelingExercise.exampleSolutionModel));break;case E.FILE_UPLOAD:let C=this.exercise;this.formattedSampleSolution=this.artemisMarkdown.safeHtmlForMarkdown(C.exampleSolution);break;case E.PROGRAMMING:this.programmingExercise=this.exercise;break}this.exerciseForGuidedTour=this.guidedTourService.enableTourForExercise(this.exercise,lt,!1),this.tutorParticipation=this.exercise.tutorParticipations[0],this.tutorParticipationStatus=this.tutorParticipation.status,this.exercise.exampleSubmissions&&this.exercise.exampleSubmissions.length>0&&(this.exampleSubmissionsToReview=this.exercise.exampleSubmissions.filter(o=>!o.usedForTutorial),this.exampleSubmissionsToAssess=this.exercise.exampleSubmissions.filter(o=>o.usedForTutorial)),this.exampleSubmissionsCompletedByTutor=this.tutorParticipation.trainedExampleSubmissions||[],this.stats.toReview.total=this.exampleSubmissionsToReview.length,this.stats.toReview.done=this.exampleSubmissionsCompletedByTutor.filter(o=>!o.usedForTutorial).length,this.stats.toAssess.total=this.exampleSubmissionsToAssess.length,this.stats.toAssess.done=this.exampleSubmissionsCompletedByTutor.filter(o=>o.usedForTutorial).length,this.stats.toReview.done<this.stats.toReview.total?this.nextExampleSubmissionId=this.exampleSubmissionsToReview[this.stats.toReview.done].id:this.stats.toAssess.done<this.stats.toAssess.total&&(this.nextExampleSubmissionId=this.exampleSubmissionsToAssess[this.stats.toAssess.done].id),this.exercise?.exerciseGroup&&(this.isExamMode=!0,this.exam=this.exercise.exerciseGroup.exam,this.exerciseGroupId=this.exercise.exerciseGroup.id,this.secondCorrectionEnabled=this.exercise.secondCorrectionEnabled),this.getAllTutorAssessedSubmissionsForAllCorrectionRounds();let s=!this.exercise.dueDate||this.exercise.dueDate.isBefore(ue());(this.exercise.allowFeedbackRequests||s)&&!this.exercise.teamMode&&!this.isTestRun&&this.getSubmissionWithoutAssessmentForAllCorrectionRounds(),this.guidedTourService.componentPageLoaded(),this.setupLinks()},error:t=>this.onError(t)}),this.isTestRun?this.complaintService.getComplaintsForTestRun(this.exerciseId).subscribe({next:t=>this.complaints=t.body,error:t=>j(this.alertService,t)}):(this.submissionService.getSubmissionsWithComplaintsForTutor(this.exerciseId).subscribe({next:t=>{this.submissionsWithComplaints=t.body||[],this.sortComplaintRows()},error:t=>j(this.alertService,t)}),this.submissionService.getSubmissionsWithMoreFeedbackRequestsForTutor(this.exerciseId).subscribe({next:t=>{this.submissionsWithMoreFeedbackRequests=t.body||[],this.sortMoreFeedbackRows()},error:t=>j(this.alertService,t)}),this.exerciseService.getStatsForTutors(this.exerciseId).subscribe({next:t=>{this.statsForDashboard=oe.from(t.body),this.numberOfSubmissions=this.statsForDashboard.numberOfSubmissions,this.totalNumberOfAssessments=this.statsForDashboard.totalNumberOfAssessments,this.numberOfAssessmentsOfCorrectionRounds=this.statsForDashboard.numberOfAssessmentsOfCorrectionRounds,this.numberOfAutomaticAssistedAssessments=this.statsForDashboard.numberOfAutomaticAssistedAssessments,this.numberOfLockedAssessmentByOtherTutorsOfCorrectionRound=this.statsForDashboard.numberOfLockedAssessmentByOtherTutorsOfCorrectionRound;let s=this.statsForDashboard.tutorLeaderboardEntries?.find(o=>o.userId===this.tutor.id);this.sortService.sortByProperty(this.statsForDashboard.tutorLeaderboardEntries,"points",!1),s?(this.numberOfTutorAssessments=s.numberOfAssessments,this.complaintsDashboardInfo=new D(this.statsForDashboard.numberOfComplaints,s.numberOfTutorComplaints,this.statsForDashboard.numberOfComplaints-this.statsForDashboard.numberOfOpenComplaints),this.moreFeedbackRequestsDashboardInfo=new D(this.statsForDashboard.numberOfMoreFeedbackRequests,s.numberOfTutorMoreFeedbackRequests,this.statsForDashboard.numberOfMoreFeedbackRequests-this.statsForDashboard.numberOfOpenMoreFeedbackRequests),this.ratingsDashboardInfo=new D(this.statsForDashboard.numberOfRatings,s.numberOfTutorRatings)):(this.numberOfTutorAssessments=0,this.complaintsDashboardInfo=new D(this.statsForDashboard.numberOfComplaints,0,this.statsForDashboard.numberOfComplaints-this.statsForDashboard.numberOfOpenComplaints),this.moreFeedbackRequestsDashboardInfo=new D(this.statsForDashboard.numberOfMoreFeedbackRequests,0,this.statsForDashboard.numberOfMoreFeedbackRequests-this.statsForDashboard.numberOfOpenMoreFeedbackRequests),this.ratingsDashboardInfo=new D(this.statsForDashboard.numberOfRatings,0)),this.numberOfSubmissions.total>0?this.tutorAssessmentPercentage=Math.floor(this.numberOfTutorAssessments/this.numberOfSubmissions.total*100):this.tutorAssessmentPercentage=100,this.complaintsEnabled=this.statsForDashboard.complaintsEnabled,this.feedbackRequestEnabled=this.statsForDashboard.feedbackRequestEnabled,this.calculateAssessmentProgressInformation(),this.setupGraph()},error:t=>this.onError(t)}))}get yourStatusTitle(){switch(this.tutorParticipationStatus){case"TRAINED":return!this.exercise.exampleSubmissions||this.exercise.exampleSubmissions.length===0?"REVIEWED_INSTRUCTIONS":"TRAINED";default:return this.tutorParticipationStatus.toString()}}language(t){return t.submissionExerciseType==="text"&&t.language||"UNKNOWN"}getAllTutorAssessedSubmissionsForAllCorrectionRounds(){if(this.isExamMode)for(let t=0;t<this.exam.numberOfCorrectionRoundsInExam;t++)this.getAllTutorAssessedSubmissionsForCorrectionRound(t);else this.getAllTutorAssessedSubmissionsForCorrectionRound(0)}getAllTutorAssessedSubmissionsForCorrectionRound(t){let s=ee();if(this.isTestRun)s=this.submissionService.getTestRunSubmissionsForExercise(this.exerciseId);else switch(this.exercise.type){case E.TEXT:s=this.textSubmissionService.getSubmissions(this.exerciseId,{assessedByTutor:!0},t);break;case E.MODELING:s=this.modelingSubmissionService.getSubmissions(this.exerciseId,{assessedByTutor:!0},t);break;case E.FILE_UPLOAD:s=this.fileUploadSubmissionService.getSubmissions(this.exerciseId,{assessedByTutor:!0},t);break;case E.PROGRAMMING:s=this.programmingSubmissionService.getSubmissions(this.exerciseId,{assessedByTutor:!0},t);break}s.pipe(te(o=>o.body),te(this.reconnectEntities)).subscribe(o=>{let C=o.filter(b=>b?.results&&b.results.length>t&&b.results[t]).map(b=>(b.participation.submissions=[b],b.participation.results=b.results,X(b,z(b)),b));this.assessedSubmissionsByRound.set(t,C),this.sortSubmissionRows(t)})}reconnectEntities=t=>t.map(s=>{let o=z(s);return o&&(o.submission=s,o.participation=s.participation,s.participation.results=[o],X(s,o)),s});getSubmissionWithoutAssessmentForAllCorrectionRounds(){if(this.isExamMode)for(let t=0;t<this.exam.numberOfCorrectionRoundsInExam;t++)t<=this.numberOfCorrectionRoundsEnabled&&this.getSubmissionWithoutAssessmentForCorrectionRound(t);else this.getSubmissionWithoutAssessmentForCorrectionRound(0)}getSubmissionWithoutAssessmentForCorrectionRound(t){let s=ee();switch(this.exercise.type){case E.TEXT:s=this.textSubmissionService.getSubmissionWithoutAssessment(this.exerciseId,"head",t);break;case E.MODELING:s=this.modelingSubmissionService.getSubmissionWithoutAssessment(this.exerciseId,void 0,t);break;case E.FILE_UPLOAD:s=this.fileUploadSubmissionService.getSubmissionWithoutAssessment(this.exerciseId,void 0,t);break;case E.PROGRAMMING:s=this.programmingSubmissionService.getSubmissionWithoutAssessment(this.exerciseId,void 0,t);break}s.subscribe({next:o=>{if(!o){this.unassessedSubmissionByRound&&this.unassessedSubmissionByRound.delete(t);return}X(o,z(o)),this.unassessedSubmissionByRound.set(t,o),this.submissionLockLimitReached=!1},error:o=>{o.error?.errorKey==="lockedSubmissionsLimitReached"?this.submissionLockLimitReached=!0:this.onError(o.error?.detail||o.message)}})}showSubmissionsForRound(t){let s=!!this.unassessedSubmissionByRound?.get(t)?.id,o=!!this.assessedSubmissionsByRound.get(t)?.length;return(s||o)&&!this.exercise.allowComplaintsForAutomaticAssessments}readInstruction(){this.isLoading=!0,this.tutorParticipationService.create(this.tutorParticipation,this.exerciseId).pipe(re(()=>this.isLoading=!1)).subscribe({next:t=>{this.tutorParticipation=t.body,this.tutorParticipationStatus=this.tutorParticipation.status,this.alertService.success("artemisApp.exerciseAssessmentDashboard.participation.instructionsReviewed")},error:this.onError})}hasBeenCompletedByTutor(t){return this.exampleSubmissionsCompletedByTutor.filter(s=>s.id===t).length>0}onError(t){this.alertService.error(t)}calculateSubmissionStatusIsDraft(t,s=0){let o=t.results?.[s];return!(o?.completionDate&&ze(o))}openExampleSubmission(t,s,o){if(!this.exercise?.type||!t)return;let C=`/course-management/${this.courseId}/${this.exercise.type}-exercises/${this.exercise.id}/example-submissions/${t}`,b={};s&&(b.readOnly=s),o&&(b.toComplete=o),this.router.navigate([C],{queryParams:b})}isComplaintLocked(t){return this.complaintService.isComplaintLockedForLoggedInUser(t,this.exercise)}getAssessmentLink(t){let s=t==="new"?"new":t.id,o;return t!=="new"&&t.participation&&(o=t.participation.id),Ge(this.exercise.type,this.courseId,this.exerciseId,o,s,this.examId,this.exerciseGroupId)}getAssessmentQueryParams(t=0){return this.isTestRun?{testRun:this.isTestRun,"correction-round":t}:{"correction-round":t}}getComplaintQueryParams(t){let s=t.result?.submission;if(t.complaintType===st.MORE_FEEDBACK)return this.getAssessmentQueryParams(this.numberOfAssessmentsOfCorrectionRounds.length-1);let o=this.getSubmissionToViewFromComplaintSubmission(s);if(o!==void 0)return this.getAssessmentQueryParams(o.results.length-1)}getSubmissionToViewFromComplaintSubmission(t){let s=this.submissionsWithComplaints.find(o=>o.submission.id===t.id)?.submission;if(s)return s.results?s.results=s.results.filter(o=>o.assessmentType!==se.AUTOMATIC):s.results=[],s}toggleSecondCorrection(){this.togglingSecondCorrectionButton=!0,this.exerciseService.toggleSecondCorrection(this.exerciseId).subscribe(t=>{this.secondCorrectionEnabled=t,this.numberOfCorrectionRoundsEnabled=this.secondCorrectionEnabled?2:1,this.getSubmissionWithoutAssessmentForAllCorrectionRounds(),this.togglingSecondCorrectionButton=!1})}calculateAssessmentProgressInformation(){if(this.exam)for(let t=0;t<(this.exam.numberOfCorrectionRoundsInExam??0);t++)this.lockedSubmissionsByOtherTutor[t]=this.numberOfLockedAssessmentByOtherTutorsOfCorrectionRound[t]?.inTime,this.notYetAssessed[t]=this.numberOfSubmissions.inTime-this.numberOfAssessmentsOfCorrectionRounds[t].inTime-this.lockedSubmissionsByOtherTutor[t],this.firstRoundAssessments=this.notYetAssessed[t]-this.lockedSubmissionsByOtherTutor[t]}sortSubmissionRows(t){this.sortService.sortByProperty(this.assessedSubmissionsByRound.get(t),this.sortPredicates[0].replace("correctionRound",t+""),this.reverseOrders[0])}sortComplaintRows(){this.sortService.sortByProperty(this.submissionsWithComplaints,"complaint.submittedTime",!0),this.sortPredicates[1]==="responseTime"?this.sortService.sortByFunction(this.submissionsWithComplaints,t=>this.complaintService.getResponseTimeInSeconds(t.complaint),this.reverseOrders[1]):this.sortService.sortByProperty(this.submissionsWithComplaints,this.sortPredicates[1],this.reverseOrders[1])}sortMoreFeedbackRows(){this.sortService.sortByProperty(this.submissionsWithMoreFeedbackRequests,"complaint.submittedTime",!0),this.sortPredicates[2]==="responseTime"?this.sortService.sortByFunction(this.submissionsWithMoreFeedbackRequests,t=>this.complaintService.getResponseTimeInSeconds(t.complaint),this.reverseOrders[2]):this.sortService.sortByProperty(this.submissionsWithMoreFeedbackRequests,this.sortPredicates[2],this.reverseOrders[2])}getExerciseDetailsLink(){return["/course-management",this.courseId,this.exercise.type+"-exercises",this.exercise.id]}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=y({type:i,selectors:[["jhi-exercise-assessment-dashboard"]],features:[H([J])],decls:2,vars:2,consts:[["tooltipTemplate",""],[3,"exercise","exam","isTestRun"],["pagetitle",""],[1,"row","my-3","d-flex","justify-content-between"],[1,"col-12","col-md-7","col-xl-4"],[1,"h3"],[1,"d-block",3,"exercise","tutorParticipation","numberOfSubmissions","totalNumberOfAssessments","numberOfComplaints","numberOfOpenComplaints","numberOfMoreFeedbackRequests","numberOfOpenMoreFeedbackRequests","numberOfAssessmentsOfCorrectionRounds"],[1,"col-12","col-lg-7","col-xl-4","table-col"],[3,"panelHeader","panelDescriptionHeader"],[1,"row","g-0","mb-1"],["jhiTranslate","artemisApp.assessmentDashboard.submissions",1,"col-7"],[1,"col-5"],[1,"text-success"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.ratings",1,"col-7"],["id","exercise-details",1,"btn","btn-info","btn-sm","me-1","mb-3",3,"routerLink","queryParams"],[3,"icon","fixedWidth"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.exerciseDetails",1,"d-none","d-md-inline"],[1,"me-2","d-block","float-end"],[1,"square","bg-success","d-inline-block"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.stats.intime"],[1,"d-inline-block"],["data-testid","toggle-second-correction",3,"ngModelChange","secondCorrectionEnabled","togglingSecondCorrectionButton"],[1,"col-12","col-md-5","col-xl-4","d-flex","justify-content-center","justify-content-lg-end","chart-col"],[1,"chart","overflow-hidden",3,"customColors","view","results","legend","legendTitle","legendPosition","animations","trimLabels"],[1,"text-danger"],["jhiTranslate","artemisApp.assessmentDashboard.complaints",1,"col-7"],[3,"routerLink"],[3,"routerLink","queryParams"],["jhiTranslate","artemisApp.assessmentDashboard.moreFeedbackRequests",1,"col-7"],[1,"square","bg-danger","d-inline-block"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.stats.late"],[1,"guided-tour-markdown-preview","markdown-preview"],[3,"panelHeader"],[1,"no-bottom-space",3,"innerHTML"],[3,"exercise","participation","personalParticipation"],[3,"umlModel","diagramType","readOnly"],[1,"col-12"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.exampleSolution"],["jhiSecureLink","",3,"href"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.programmingExercise.exampleSolution"],[3,"smallButtons","repositoryUri","routerLinkForRepositoryView"],[1,"col-md-6","mt-4"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.structuredGradingInstructions"],[3,"readonly","criteria"],[1,"col-12","text-center","mt-2","mb-4"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.pleaseContactIfUnclear"],["id","participate-in-assessment",1,"btn","btn-primary","guided-tour-instructions-button","p-1",3,"click","disabled"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.readAndUnderstood"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.startYourParticipation"],[1,"d-flex"],[1,"guided-tour-exercise-dashboard-table","flex-grow-1"],[1,"collapsable-instructions",3,"readOnly","exercise","collapsed"],["role","alert",1,"alert","alert-warning","row"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.totalExampleSubmissions",3,"translateValues"],[1,"row"],[1,"col-6"],[1,"btn","btn-primary","review-example-submission","mb-4",3,"click"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.start"],[1,"btn","btn-link","review-example-submission",3,"click"],[1,"text-success",3,"icon"],[1,"btn","btn-primary","assess-example-submission","mb-4",3,"click"],[1,"btn","btn-link","assess-example-submission",3,"click"],["jhiTranslate","artemisApp.submission.lockedSubmissionsLimitReached",1,"alert","alert-danger"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.studentsSubmissions",1,"d-inline-block"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.studentsSubmissionsExam",1,"d-inline-block",3,"translateValues"],[1,"text-secondary",3,"icon","ngbTooltip"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.testRunSubmissions"],[1,"table-responsive"],[1,"table","exercise-table"],["jhiSort","",3,"predicateChange","ascendingChange","sortChange","predicate","ascending"],["jhiSortBy","id"],[1,"th-link"],[3,"icon"],["jhiSortBy","submissionDate"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.submissionDate",1,"th-link"],["jhiSortBy","results.correctionRound.score"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.result",1,"th-link"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.action"],["jhiSortBy","language"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.language",1,"th-link"],["id","start-new-assessment",1,"btn","btn-success","btn-sm","guided-tour-new-assessment-btn",3,"routerLink","queryParams","ngStyle"],[3,"submission"],["animation","spin",3,"icon"],[3,"result","participation","exercise"],["id","continue-assessment",1,"btn","btn-warning","btn-sm",3,"routerLink","queryParams"],["id","open-assessment",1,"btn","btn-primary","btn-sm",3,"routerLink","queryParams"],[3,"exercise"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.noSubmissions",1,"alert","alert-info"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.startAssessmentFromTeamPages",1,"alert","alert-warning"],[1,"alert","alert-info"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.noSubmissionsInfo",3,"translateValues"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.noSubmissionsInfoSecondCorrection",3,"translateValues"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.correctionRoundNotYetEnabled",1,"alert","alert-info"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.complaints",1,"d-inline-block"],["jhiSortBy","complaint.submittedTime"],["jhiSortBy","submission.latestResult.score"],["jhiSortBy","responseTime"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.responseTime",1,"th-link"],["jhiSortBy","complaint.accepted"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.status",1,"th-link"],[1,"text-warning",3,"icon","ngbTooltip"],["jhiTranslate","artemisApp.complaint.listOfComplaints.noReply",1,"text-warning"],["jhiTranslate","artemisApp.complaint.listOfComplaints.accepted",1,"text-success"],["jhiTranslate","artemisApp.complaint.listOfComplaints.rejected",1,"text-danger"],["id","evaluate-complaint",1,"btn","btn-success","btn-sm",3,"routerLink","queryParams"],[1,"btn","btn-primary","btn-sm",3,"routerLink","queryParams"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.noComplaints",1,"alert","alert-info"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.noComplaintsDisplayed",1,"alert","alert-info"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.moreFeedback",1,"d-inline-block"],[3,"result","exercise"],["jhiTranslate","artemisApp.moreFeedback.accepted",1,"text-success"],[1,"btn","btn-success","btn-sm",3,"routerLink","queryParams"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.noMoreFeedbackRequests",1,"alert","alert-info"],["jhiTranslate","artemisApp.exerciseAssessmentDashboard.noMoreFeedbackRequestsDisplayed",1,"alert","alert-info"],[3,"exam","tutorsData","exercise"],["jhiTranslate","artemisApp.instructorExerciseDashboard.leaderboardTitle"]],template:function(s,o){s&1&&x(0,Bt,9,4)(1,In,9,5),s&2&&(c(o.exercise?0:-1),n(),c(o.exercise?1:-1))},dependencies:[mt,ct,pt,Ye,Qe,dt,Me,be,Be,At,tt,et,xt,We,_t,ut,he,Ne,$e,Et,_e,Ke,Ze,Ct,bt,Ve,q,Xe],styles:[".collapsable-instructions[_ngcontent-%COMP%]{max-height:100vh}.square[_ngcontent-%COMP%]{width:10px;height:10px}.table-col[_ngcontent-%COMP%]{min-width:360px}.chart-col[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{margin-top:-20px}.no-bottom-space[_ngcontent-%COMP%]{margin-bottom:-15px}[_nghost-%COMP%]  .legend-labels{background-color:transparent!important}[_nghost-%COMP%]  .horizontal-legend li{display:block!important}"]})}return i})();function On(i,l){i&1&&(e(0,`
    `),m(1,"jhi-exercise-assessment-dashboard"),e(2,`
`))}function Rn(i,l){if(i&1){let t=T();e(0,`
                `),a(1,"jhi-ide-button",2),_(2,"artemisTranslate"),v("clickHandler",function(){S(t);let o=d(3);return A(o.openAssessmentInOrion())}),r(),e(3,`
            `)}if(i&2){let t=d(3);n(),P("buttonLabel",u(2,3,"artemisApp.orionExerciseAssessmentDashboard.startYourParticipation")),p("buttonLoading",t.orionState.cloning)("buttonType",t.OrionButtonType.Download)}}function Fn(i,l){i&1&&(e(0,`
        `),a(1,"jhi-exercise-assessment-dashboard"),e(2,`
            `),x(3,Rn,4,5,"ng-template",null,0,N),e(5,`
        `),r(),e(6,`
    `))}function kn(i,l){if(i&1){let t=T();e(0,`
                `),a(1,"jhi-ide-button",3),_(2,"artemisTranslate"),v("clickHandler",function(){let o=S(t),C=o.submission,b=o.queryParams,vt=d(3);return A(vt.downloadSubmissionInOrion(C,b["correction-round"],b.testRun))}),r(),e(3,`
            `)}if(i&2){let t=l.buttonLabel,s=l.disabled,o=d(3);n(),P("buttonLabel",u(2,3,"artemisApp.orionExerciseAssessmentDashboard."+t)),p("buttonLoading",o.orionState.cloning)("disabled",!!s)}}function Pn(i,l){i&1&&(e(0,`
        `),a(1,"jhi-exercise-assessment-dashboard"),e(2,`
            `),x(3,kn,4,5,"ng-template",null,1,N),e(5,`
        `),r(),e(6,`
    `))}function wn(i,l){if(i&1&&(e(0,`
    `),e(1,`
    `),x(2,Fn,7,0)(3,Pn,7,0)),i&2){let t=d();n(2),c(t.orionState.opened!==t.exerciseId||t.orionState.view!==t.ExerciseView.TUTOR?2:3)}}var xo=(()=>{class i{route=h(Q);exerciseService=h(K);orionAssessmentService=h(ht);orionConnectorService=h(qe);alertService=h(Y);ExerciseView=Oe;ExerciseType=E;OrionButtonType=ft;orionState;exerciseId;exercise;ngOnInit(){this.exerciseId=Number(this.route.snapshot.paramMap.get("exerciseId")),this.exerciseService.getForTutors(this.exerciseId).subscribe({next:t=>this.exercise=t.body,error:t=>j(this.alertService,t)}),this.orionConnectorService&&this.orionConnectorService.state()&&this.orionConnectorService.state().subscribe(t=>this.orionState=t)}openAssessmentInOrion(){this.orionConnectorService.assessExercise(this.exercise)}downloadSubmissionInOrion(t,s=0,o=!1){this.orionAssessmentService.downloadSubmissionInOrion(this.exerciseId,t,s,o)}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=y({type:i,selectors:[["jhi-orion-exercise-assessment-dashboard"]],features:[H([J])],decls:3,vars:1,consts:[["overrideAssessmentTable",""],["overrideOpenAssessmentButton",""],[3,"clickHandler","buttonLoading","buttonLabel","buttonType"],[1,"btn","btn-sm",3,"clickHandler","buttonLoading","disabled","buttonLabel"]],template:function(s,o){s&1&&(e(0,`
`),x(1,On,3,0)(2,wn,4,1)),s&2&&(n(),c(!o.exercise||o.exercise.type!==o.ExerciseType.PROGRAMMING||!o.orionState?1:2))},dependencies:[Tt,St,q],encapsulation:2})}return i})();export{Tt as a,xo as b};
//# sourceMappingURL=chunk-62E4IMKX.js.map
