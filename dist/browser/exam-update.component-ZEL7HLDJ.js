import{a as De,b as Ve}from"./chunk-JUXTEYRQ.js";import{a as Me}from"./chunk-A7SZQPNU.js";import{b as ve,c as ke}from"./chunk-PR2Y3QVB.js";import{a as O}from"./chunk-TWQT4PWU.js";import{b as ye}from"./chunk-UQA7EKND.js";import"./chunk-RPFDXKEJ.js";import{a as Se}from"./chunk-GAUWMTOK.js";import{D as Te}from"./chunk-RTOKZMYN.js";import"./chunk-5QODR5GQ.js";import"./chunk-RNPAFOPW.js";import"./chunk-KZGAUMRM.js";import"./chunk-656XE4CO.js";import"./chunk-YGSJB6WY.js";import"./chunk-O2WHE2S3.js";import"./chunk-JJUII2KT.js";import"./chunk-U4DJRHYQ.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-PNTOXB52.js";import"./chunk-VPHPBAVR.js";import"./chunk-Z2YUBN6N.js";import"./chunk-AO5E7TEY.js";import{b as we}from"./chunk-TECMX7AA.js";import"./chunk-MYJYCKA4.js";import{a as Ce}from"./chunk-BIK4CL5A.js";import"./chunk-VWRLJYRR.js";import{a as Ee}from"./chunk-2QXIMOEO.js";import{a as _e}from"./chunk-UDBRF4PR.js";import"./chunk-QH7SWO42.js";import"./chunk-P2M2VQE3.js";import"./chunk-GXOKLIFX.js";import"./chunk-5JBXU6VG.js";import"./chunk-4I367PEU.js";import{b as he}from"./chunk-ZPITQMA6.js";import"./chunk-HK7MJBP6.js";import"./chunk-2CUFQLAH.js";import{a as be}from"./chunk-DRMCDU75.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import{c as ge}from"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import{K as le,v as se}from"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import{A as re,B as oe,K as me,b as X,c as Z,h as $,i as ee,k as te,m as ie,n as ne,o as ae}from"./chunk-WA5GEAJB.js";import"./chunk-DRSQQEUE.js";import"./chunk-7XXWL6ER.js";import"./chunk-VK7JPHFE.js";import"./chunk-BQNBT6PW.js";import{v as ue}from"./chunk-5GXY5RYT.js";import{a as U}from"./chunk-K3W6YFKH.js";import"./chunk-TL3DYXRE.js";import{c as ce}from"./chunk-JXJXC4DZ.js";import{d as fe}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import{p as w}from"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{fa as de,tb as pe,wd as xe}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as V}from"./chunk-U54OSGNH.js";import{f as H,h as J}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{n as K}from"./chunk-IOA4DPXY.js";import{A as q,Db as s,Dc as k,Ea as v,Ed as N,Ma as p,Mc as M,Na as x,Oc as _,Rc as y,Tb as D,Va as z,Yc as A,Zb as T,Zc as P,_c as j,cd as R,dd as e,fd as Q,kc as c,ld as h,mc as W,md as g,nd as f,qa as I,rd as Y,sc as C,xc as n,yc as a,yd as b,z as G,zc as l,zd as S}from"./chunk-5LC5EQRR.js";import{a as B,b as L,j as F}from"./chunk-3E746U5Y.js";var Ae=m=>({disabled:m}),Ie=(()=>{class m{exam;disableInput;examModeChanged=new z;setExamMode(i){!this.disableInput&&this.exam.testExam!==i&&(this.exam.testExam=i,this.exam.numberOfCorrectionRoundsInExam=i?0:1,this.examModeChanged.emit())}static \u0275fac=function(d){return new(d||m)};static \u0275cmp=D({type:m,selectors:[["jhi-exam-mode-picker"]],inputs:{exam:"exam",disableInput:"disableInput"},outputs:{examModeChanged:"examModeChanged"},decls:10,vars:15,consts:[["id","exam-mode-picker",1,"d-flex","align-items-start"],[1,"btn-group",3,"ngClass"],["id","standard-mode","jhiTranslate","artemisApp.examManagement.testExam.realExam",1,"btn",3,"click"],["id","test-mode","jhiTranslate","artemisApp.examManagement.testExam.testExam",1,"btn","btn-default",3,"click"]],template:function(d,t){d&1&&(n(0,"div",0),e(1,`
    `),n(2,"div",1),e(3,`
        `),n(4,"div",2),M("click",function(){return t.setExamMode(!1)}),a(),e(5,`
        `),n(6,"div",3),M("click",function(){return t.setExamMode(!0)}),a(),e(7,`
    `),a(),e(8,`
`),a(),e(9,`
`)),d&2&&(s(2),c("ngClass",Y(13,Ae,t.disableInput)),s(2),W("btn-success",!t.exam.testExam)("btn-default",t.exam.testExam)("disabled",t.disableInput),s(2),W("btn-primary",t.exam.testExam)("btn-default",!t.exam.testExam)("disabled",t.disableInput))},dependencies:[K,V],styles:[".btn-disabled[_ngcontent-%COMP%]{pointer-events:none}.btn-group-disabled[_ngcontent-%COMP%]{cursor:not-allowed}"]})}return m})();var Pe=["workingTimeConfirmationContent"];function je(m,E){m&1&&(e(0,`
                        `),l(1,"h4",58),e(2,`
                    `))}function Re(m,E){m&1&&(e(0,`
                        `),l(1,"h4",59),e(2,`
                    `))}function Ne(m,E){if(m&1&&(e(0,`
                `),n(1,"div",56),e(2,`
                    `),T(3,je,3,0)(4,Re,3,0),l(5,"jhi-documentation-button",57),e(6,`
                `),a(),e(7,`
            `)),m&2){let i=_();s(3),C(i.isImport?4:3),s(2),c("type",i.documentationType)}}function Ue(m,E){m&1&&(e(0,`
                `),l(1,"h4",60),e(2,`
            `))}function Oe(m,E){if(m&1){let i=k();e(0,`
                `),n(1,"div",38),e(2,`
                    `),n(3,"input",61),f("ngModelChange",function(t){p(i);let o=_();return g(o.exam.examWithAttendanceCheck,t)||(o.exam.examWithAttendanceCheck=t),x(t)}),a(),e(4,`
                    `),n(5,"label",62),e(6,`Exam with attendance check
                    `),a(),e(7,`
                `),a(),e(8,`
            `)}if(m&2){let i=_();s(3),h("ngModel",i.exam.examWithAttendanceCheck)}}function Be(m,E){if(m&1&&(e(0,`
                `),n(1,"div",63),e(2,`
                    `),n(3,"span",64),b(4,"artemisTranslate"),e(5,`
                        `),l(6,"fa-icon",65),e(7,`
                        `),l(8,"span",66),e(9,`
                    `),a(),e(10,`
                `),a(),e(11,`
            `)),m&2){let i=_();s(3),y("ngbTooltip",S(4,2,"artemisApp.examManagement.dateChange.message")),s(3),c("icon",i.faExclamationTriangle)}}function Le(m,E){if(m&1&&(e(0,`
                        `),l(1,"jhi-working-time-change",68),e(2,`
                    `)),m&2){let i=_(2);s(),c("oldWorkingTime",i.oldWorkingTime)("newWorkingTime",i.newWorkingTime)}}function Fe(m,E){if(m&1&&(e(0,`
                `),n(1,"div",67),e(2,`
                    `),T(3,Le,3,2),a(),e(4,`
            `)),m&2){let i=_();s(3),C(i.oldWorkingTime&&i.newWorkingTime?3:-1)}}function Ge(m,E){m&1&&(e(0,`
                        `),l(1,"span",69),e(2,`
                    `))}function qe(m,E){m&1&&(e(0,`
                        `),l(1,"span",70),e(2,`
                    `))}function ze(m,E){if(m&1&&(e(0,`
                        `),l(1,"input",71),e(2,`
                    `)),m&2){let i=_();s(),c("value",i.workingTimeInMinutesRounded)}}function Qe(m,E){if(m&1){let i=k();e(0,`
                        `),n(1,"input",72),f("ngModelChange",function(t){p(i);let o=_();return g(o.workingTimeInMinutes,t)||(o.workingTimeInMinutes=t),x(t)}),M("focusin",function(){p(i);let t=_();return x(t.roundWorkingTime())})("focusout",function(){p(i);let t=_();return x(t.roundWorkingTime())}),a(),e(2,`
                    `)}if(m&2){let i=_();s(),c("customMin",1)("customMax",i.maxWorkingTimeInMinutes),h("ngModel",i.workingTimeInMinutes)}}function Ye(m,E){if(m&1&&(e(0,`
                `),n(1,"div",63),e(2,`
                    `),l(3,"h5",73),e(4,`
                    `),l(5,"p",74),e(6,`
                    `),l(7,"jhi-exam-exercise-import",75),e(8,`
                `),a(),e(9,`
            `)),m&2){let i=_();s(7),c("exam",i.exam)("importInSameCourse",i.isImportInSameCourse)}}function Ke(m,E){if(m&1){let i=k();e(0,`
                        `),n(1,"div",13),e(2,`
                            `),n(3,"div",26),e(4,`
                                `),l(5,"label",80),e(6,`
                                `),n(7,"input",81),f("ngModelChange",function(t){p(i);let o=_(2);return g(o.exam.numberOfCorrectionRoundsInExam,t)||(o.exam.numberOfCorrectionRoundsInExam=t),x(t)}),a(),e(8,`
                            `),a(),e(9,`
                            `),n(10,"div",26),e(11,`
                                `),n(12,"jhi-date-time-picker",82),b(13,"artemisTranslate"),f("ngModelChange",function(t){p(i);let o=_(2);return g(o.exam.publishResultsDate,t)||(o.exam.publishResultsDate=t),x(t)}),a(),e(14,`
                            `),a(),e(15,`
                        `),a(),e(16,`
                    `)}if(m&2){let i=_(2);s(7),h("ngModel",i.exam.numberOfCorrectionRoundsInExam),s(5),y("labelName",S(13,4,"artemisApp.examManagement.publishResultsDate")),h("ngModel",i.exam.publishResultsDate),c("error",!i.isValidPublishResultsDate)}}function He(m,E){m&1&&(e(0,`
                                `),l(1,"span",83),e(2,`
                            `))}function Je(m,E){if(m&1){let i=k();e(0,`
                `),n(1,"div"),e(2,`
                    `),l(3,"hr"),e(4,`
                    `),l(5,"h5",76),e(6,`
                    `),l(7,"h6",77),e(8,`
                    `),T(9,Ke,17,6),n(10,"div",13),e(11,`
                        `),n(12,"div",26),e(13,`
                            `),n(14,"jhi-date-time-picker",78),b(15,"artemisTranslate"),f("ngModelChange",function(t){p(i);let o=_();return g(o.exam.examStudentReviewStart,t)||(o.exam.examStudentReviewStart=t),x(t)}),a(),e(16,`
                        `),a(),e(17,`
                        `),n(18,"div",26),e(19,`
                            `),n(20,"jhi-date-time-picker",79),b(21,"artemisTranslate"),f("ngModelChange",function(t){p(i);let o=_();return g(o.exam.examStudentReviewEnd,t)||(o.exam.examStudentReviewEnd=t),x(t)}),a(),e(22,`
                            `),T(23,He,3,0),a(),e(24,`
                    `),a(),e(25,`
                `),a(),e(26,`
            `)}if(m&2){let i=_();s(9),C(i.exam.testExam?-1:9),s(5),y("labelName",S(15,8,"artemisApp.examManagement.examStudentReviewStart")),h("ngModel",i.exam.examStudentReviewStart),c("error",!i.isValidExamStudentReviewStart),s(6),y("labelName",S(21,10,"artemisApp.examManagement.examStudentReviewEnd")),h("ngModel",i.exam.examStudentReviewEnd),c("error",!i.isValidExamStudentReviewEnd),s(3),C(i.isValidExamStudentReviewEnd?-1:23)}}function Xe(m,E){m&1&&(e(0,`
                    `),l(1,"div",84),e(2,`
                `))}function Ze(m,E){if(m&1&&(e(0,`
                    `),n(1,"span",85),e(2,`
                        `),l(3,"span",86),e(4,`
                    `),a(),e(5,`
                `)),m&2){_();let i=R(212);s(),c("ngbTooltip",i)}}var Gt=(()=>{class m{route=v(H);examManagementService=v(Ce);alertService=v(ce);navigationUtilService=v(be);modalService=v(se);router=v(J);artemisTranslatePipe=v(U);faSave=pe;faBan=de;faExclamationTriangle=xe;documentationType="Exams";exam;course;isSaving;isImport=!1;isImportInSameCourse=!1;hideChannelNameInput=!1;originalStartDate;originalEndDate;componentActive=!0;examExerciseImportComponent;workingTimeConfirmationContent;ngOnInit(){q([this.route.url,this.route.data]).pipe(I(()=>this.componentActive)).subscribe(([i,d])=>{let t=i.some(({path:u})=>u==="import"),o=t?$e(d.exam):d.exam;o.gracePeriod||(o.gracePeriod=180),o.testExam?o.numberOfCorrectionRoundsInExam=0:o.numberOfCorrectionRoundsInExam||(o.numberOfCorrectionRoundsInExam=1),this.exam=o,this.isImport=t,this.isImportInSameCourse=t&&o.course?.id===d.course.id,this.originalStartDate=o.startDate?.clone(),this.originalEndDate=o.endDate?.clone(),this.course=d.course,this.exam.course=d.course,this.exam.startText||(this.exam.startText=this.examDefaultStartText),this.hideChannelNameInput=!!o.id&&!o.channelName||!he(this.course)})}ngOnDestroy(){this.componentActive=!1}set workingTimeInMinutes(i){this.exam.workingTime=i*60}get workingTimeInMinutes(){return this.exam.workingTime?this.exam.workingTime/60:0}get workingTimeInMinutesRounded(){return Math.round(this.workingTimeInMinutes*10)/10}get oldWorkingTime(){return ke(this.originalStartDate,this.originalEndDate)}get newWorkingTime(){return this.exam.workingTime}resetToPreviousState(){this.navigationUtilService.navigateBackWithOptional(["course-management",this.course.id.toString(),"exams"],this.exam.id?.toString())}updateExamWorkingTime(){this.exam.testExam||(this.exam.workingTime=ve(this.exam)??0)}onExamModeChange(){this.exam.testExam?(this.exam.examWithAttendanceCheck=!1,this.roundWorkingTime()):this.updateExamWorkingTime()}roundWorkingTime(){this.workingTimeInMinutes=this.workingTimeInMinutesRounded}get checkExamVisibilityTime(){if(!this.isVisibleDateSet||!this.isStartDateSet)return!1;let i=w(this.exam.visibleDate);return w(this.exam.startDate).diff(i,"minute")>240}get maxWorkingTimeInMinutes(){return this.exam.testExam?this.exam.startDate&&this.exam.endDate?w(this.exam.endDate).diff(this.exam.startDate,"m",!0):this.isImport?this.workingTimeInMinutes:0:0}handleSubmit(){if(!(this.exam.startDate?.isSame(this.originalStartDate)&&this.exam.endDate?.isSame(this.originalEndDate))&&this.isOngoingExam){let d=this.modalService.open(Se,{keyboard:!0,size:"lg"});d.componentInstance.title="artemisApp.examManagement.dateChange.title",d.componentInstance.text=this.artemisTranslatePipe.transform("artemisApp.examManagement.dateChange.message"),d.componentInstance.contentRef=this.workingTimeConfirmationContent,d.result.then(this.save.bind(this))}else this.save()}save(){this.isSaving=!0,this.createOrUpdateOrImportExam()?.pipe(G(i=>i.body),I(()=>this.componentActive)).subscribe({next:this.onSaveSuccess.bind(this),error:this.onSaveError.bind(this)})}createOrUpdateOrImportExam(){if(this.isImport&&this.exam?.exerciseGroups){if(!this.examExerciseImportComponent.validateUserInput()){this.alertService.error("artemisApp.examManagement.exerciseGroup.importModal.invalidExerciseConfiguration"),this.isSaving=!1;return}return this.exam.exerciseGroups=this.examExerciseImportComponent.mapSelectedExercisesToExerciseGroups(),this.examManagementService.import(this.course.id,this.exam)}else return this.exam.id?this.examManagementService.update(this.course.id,this.exam):this.examManagementService.create(this.course.id,this.exam)}onSaveSuccess(i){return F(this,null,function*(){this.isSaving=!1,yield this.router.navigate(["course-management",this.course.id,"exams",i.id]),window.scrollTo(0,0)})}onSaveError(i){let d=i.error?.errorKey;if(d==="invalidKey"){this.exam.exerciseGroups=i.error.params.exerciseGroups,this.examExerciseImportComponent.updateMapsAfterRejectedImportDueToInvalidProjectKey();let t=i.error.numberOfInvalidProgrammingExercises;this.alertService.error("artemisApp.examManagement.exerciseGroup.importModal.invalidKey",{number:t})}else d==="duplicatedProgrammingExerciseShortName"||d==="duplicatedProgrammingExerciseTitle"?(this.exam.exerciseGroups=i.error.params.exerciseGroups,this.examExerciseImportComponent.updateMapsAfterRejectedImportDueToDuplicatedShortNameOrTitle(),this.alertService.error("artemisApp.examManagement.exerciseGroup.importModal."+d)):i.error&&i.error.title?this.alertService.addErrorAlert(i.error.title,i.error.message,i.error.params):ge(this.alertService,i);this.isSaving=!1}get isOngoingExam(){return!!(this.exam.id&&this.originalStartDate&&this.originalEndDate&&w().isBetween(this.originalStartDate,this.originalEndDate))}get isValidConfiguration(){let i=this.isVisibleDateSet&&this.isStartDateSet&&this.isValidStartDate&&this.isEndDateSet&&this.isValidEndDate&&this.isValidVisibleDateValue,d=this.isValidPublishResultsDate&&this.isValidExamStudentReviewStart&&this.isValidExamStudentReviewEnd,t=this.isValidNumberOfCorrectionRounds,o=this.isValidMaxPoints,u=this.validateWorkingTime,r=this.isValidExampleSolutionPublicationDate;return i&&d&&t&&o&&u&&r}get isVisibleDateSet(){return!!this.exam.visibleDate}get isValidVisibleDateValue(){return w(this.exam.visibleDate).isValid()}get isValidNumberOfCorrectionRounds(){return this.exam.testExam?this.exam.numberOfCorrectionRoundsInExam===0:this.exam?.numberOfCorrectionRoundsInExam<3&&this.exam?.numberOfCorrectionRoundsInExam>0}get isValidMaxPoints(){return!!this.exam?.examMaxPoints&&this.exam?.examMaxPoints>0}get isStartDateSet(){return!!this.exam.startDate}get isValidStartDateValue(){return w(this.exam.startDate).isValid()}get isValidStartDate(){return this.isVisibleDateSet&&this.isValidVisibleDateValue?this.exam.testExam?w(this.exam.startDate).isSameOrAfter(this.exam.visibleDate):w(this.exam.startDate).isAfter(this.exam.visibleDate):!0}get isEndDateSet(){return!!this.exam.endDate}get isValidEndDateValue(){return w(this.exam.endDate).isValid()}get isValidEndDate(){return this.isStartDateSet&&this.isValidStartDateValue?w(this.exam.endDate).isAfter(this.exam.startDate):!0}get validateWorkingTime(){return this.exam.testExam?this.exam.workingTime===void 0||this.exam.workingTime<1?!1:this.exam.startDate&&this.exam.endDate?this.exam.workingTime<=w(this.exam.endDate).diff(this.exam.startDate,"s"):!1:this.exam.workingTime&&this.exam.startDate&&this.exam.endDate?this.exam.workingTime===w(this.exam.endDate).diff(this.exam.startDate,"s"):!1}get isValidPublishResultsDate(){return this.exam.publishResultsDate?!!this.exam.endDate&&w(this.exam.publishResultsDate).isAfter(this.exam.endDate):!0}get isValidExamStudentReviewStart(){return this.exam.examStudentReviewStart?!!this.exam.publishResultsDate&&w(this.exam.examStudentReviewStart).isAfter(this.exam.publishResultsDate):!0}get isValidExamStudentReviewEnd(){return this.exam.examStudentReviewEnd?!!this.exam.examStudentReviewStart&&w(this.exam.examStudentReviewEnd).isAfter(this.exam.examStudentReviewStart):!this.exam.examStudentReviewStart||!this.exam.examStudentReviewStart.isValid()}get isValidExampleSolutionPublicationDate(){return this.exam.exampleSolutionPublicationDate?!(w(this.exam.exampleSolutionPublicationDate).isBefore(this.exam.visibleDate||null)||w(this.exam.exampleSolutionPublicationDate).isBefore(this.exam.endDate||null)):!0}get examDefaultStartText(){return`<!-- Please adapt this text for your exam -->

`+`<span class='fw-bold'>Please read the following information carefully!</span>

`+`You must work on the exam on your own. You <span class='fw-bold text-primary'>must not</span>, in any way, get support from someone else (in person, chat, forum, discussion group, artificial intelligence, etc.) Doing so is classified as <span class='fw-bold text-primary'>cheating</span> ("Unterschleif") and leads to consequences as mentioned in the APSO ("Allgemeine Pr\xFCfungs- und Studienordnung"). In particular, the corresponding module in TUMonline will be marked as <span class='fw-bold text-primary'>failed (w. cheating)</span>, and you will only be allowed to try to pass the module in one final attempt (cf. APSO \xA724).

`+`All your submissions will be checked for plagiarism. You are <span class='fw-bold text-primary'>not allowed</span> to copy code from any external sources, including books, websites, or other students. Any instance of copying will be classified as plagiarism.

`+`Note that results in programming exercises only indicate whether your submission compiles or not. No actual tests will be run against your submission. All actual tests will be executed after the exam is over. You can only get points for programming exercises if your submission compiles. <span class='fw-bold text-primary'>Compile errors will result in 0 points</span>.

`+`The submission period will close <span><!--Enter your grace period here--> seconds</span> following the official end of the exam to compensate for potential technical problems. We encourage you to upload your submissions regularly and early. <span class='fw-bold text-primary'>Only your final submission will be graded and late submission will not be accepted</span>.

`+`<div class="fw-bold">Working instructions:</div>
<ul>
  <li><span class='fw-bold text-primary'>Important</span>: Before you start solving an exercise, read the problem statement carefully.</li>
  <li>The exam consists of <span class='fw-bold text-primary'><!--Enter your number of points here--> points</span> and is <span class='fw-bold text-primary'><!--Enter your working time here--> minutes</span> long. Use the amount of points to determine the appropriate working time for one exercise.</li>
  <li>It is <span class='fw-bold text-primary'>not</span> allowed to use any artificial intelligence to solve exercises of the exam. In particular the use of OpenAI, ChatGPT, GitHub Copilot, or any similar systems is <span class='fw-bold text-primary'>forbidden</span>!</li>
</ul>
`}static \u0275fac=function(d){return new(d||m)};static \u0275cmp=D({type:m,selectors:[["jhi-exam-update"]],viewQuery:function(d,t){if(d&1&&(A(O,5),A(Pe,5)),d&2){let o;P(o=j())&&(t.examExerciseImportComponent=o.first),P(o=j())&&(t.workingTimeConfirmationContent=o.first)}},decls:219,vars:78,consts:[["editForm","ngForm"],["workingTimeConfirmationContent",""],["renderedWarning",""],[1,"row","justify-content-center"],[1,"col"],["name","editForm","role","form",3,"ngSubmit"],["jhiTranslate","artemisApp.examManagement.sections.configuration",1,"pb-1"],["jhiTranslate","artemisApp.examManagement.examTitle",1,"form-check-label"],["channelNamePrefix","exam-",3,"titleChange","channelNameChange","title","channelName","hideTitleLabel","hideChannelName","initChannelName"],[1,"form-group"],["jhiTranslate","artemisApp.examManagement.testExam.examMode",1,"form-check-label"],["text","artemisApp.examManagement.testExam.examModeTooltip"],[3,"examModeChanged","exam","disableInput"],[1,"row","mb-3"],[1,"col-sm-4","form-group"],["for","examiner","jhiTranslate","artemisApp.examManagement.examiner",1,"form-check-label"],["type","text","name","examiner","id","examiner",1,"form-control",3,"ngModelChange","ngModel"],["for","moduleNumber","jhiTranslate","artemisApp.examManagement.moduleNumber",1,"form-check-label"],["type","text","name","moduleNumber","id","moduleNumber",1,"form-control",3,"ngModelChange","ngModel"],["for","courseName","jhiTranslate","artemisApp.examManagement.courseName",1,"form-check-label"],["type","text","name","courseName","id","courseName",1,"form-control",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.examManagement.sections.conduction",1,"pb-1"],[1,"col-sm-4"],["name","visibleDate","id","visibleDate",3,"ngModelChange","labelName","labelTooltip","ngModel","error","warning","startAt","requiredField"],["name","startDate","id","startDate",3,"ngModelChange","valueChange","labelName","labelTooltip","ngModel","error","startAt","requiredField"],["name","endDate","id","endDate",3,"ngModelChange","valueChange","labelName","labelTooltip","ngModel","error","startAt","requiredField"],[1,"col-sm-6"],["for","workingTimeInMinutes","jhiTranslate","artemisApp.examManagement.workingTime",1,"form-check-label"],[3,"text"],["for","gracePeriod","jhiTranslate","artemisApp.examManagement.gracePeriod",1,"form-check-label"],["text","artemisApp.examManagement.gracePeriodTooltip"],["id","gracePeriod","name","gracePeriod","type","number","min","0",1,"form-control",3,"ngModelChange","ngModel"],["jhiTranslate","artemisApp.examManagement.sections.exercises",1,"pb-1"],["for","examMaxPoints","jhiTranslate","artemisApp.examManagement.maxPoints.title",1,"form-check-label"],[1,"text-warning",3,"icon","ngbTooltip"],["id","examMaxPoints","name","examMaxPoints","type","number","min","1",1,"form-control",3,"ngModelChange","ngModel"],["for","numberOfExercisesInExam","jhiTranslate","artemisApp.examManagement.numberOfExercisesInExam",1,"form-check-label"],["id","numberOfExercisesInExam","name","numberOfExercisesInExam","type","number","min","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check","mb-3"],["type","checkbox","id","DublerandomizeExerciseOrder","name","DublerandomizeExerciseOrder",1,"form-check-input",3,"ngModelChange","ngModel"],["for","DublerandomizeExerciseOrder","jhiTranslate","artemisApp.examManagement.randomizeQuestionOrder",1,"form-check-label"],["jhiTranslate","artemisApp.examManagement.sections.examSolutions",1,"pb-1"],["name","exampleSolutionPublicationDate",1,"form-element",3,"ngModelChange","labelName","labelTooltip","ngModel","error"],["jhiTranslate","artemisApp.examManagement.sections.text",1,"pb-1"],["for","startText","jhiTranslate","artemisApp.examManagement.startText"],["id","startText",1,"markdown-editor",3,"markdownChange","markdown"],["for","startText","jhiTranslate","artemisApp.examManagement.endText"],["id","endText",1,"markdown-editor",3,"markdownChange","markdown"],["for","startText","jhiTranslate","artemisApp.examManagement.confirmationStartText"],["id","confirmationStartText",1,"markdown-editor",3,"markdownChange","markdown"],["for","startText","jhiTranslate","artemisApp.examManagement.confirmationEndText"],["id","confirmationEndText",1,"markdown-editor",3,"markdownChange","markdown"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"icon"],["jhiTranslate","entity.action.cancel"],["id","save-exam","type","submit",1,"btn","btn-primary",3,"disabled"],[1,"d-flex","align-items-center"],[3,"type"],["jhiTranslate","artemisApp.examManagement.createExam"],["jhiTranslate","artemisApp.examManagement.importExam"],["jhiTranslate","artemisApp.examManagement.editExam"],["type","checkbox","id","examWithAttendanceCheck","name","examWithAttendanceCheck",1,"form-check-input",3,"ngModelChange","ngModel"],["for","examWithAttendanceCheck","jhiTranslate","artemisApp.examManagement.examWithAttendanceCheck",1,"form-check-label"],[1,"mb-3"],[1,"d-inline-flex",3,"ngbTooltip"],[1,"text-warning",3,"icon"],["jhiTranslate","artemisApp.examManagement.dateChange.label",1,"fw-bold","mx-1"],[1,"bg-light","rounded-2","p-3"],[3,"oldWorkingTime","newWorkingTime"],["jhiTranslate","entity.startDateError",1,"invalid-feedback"],["jhiTranslate","entity.endDateError",1,"invalid-feedback"],["readonly","","disabled","","type","text",1,"form-control",3,"value"],["id","workingTimeInMinutes","name","workingTimeInMinutes","type","number",1,"form-control",3,"ngModelChange","focusin","focusout","customMin","customMax","ngModel"],["jhiTranslate","artemisApp.examManagement.exerciseGroup.importModal.title"],["jhiTranslate","artemisApp.examManagement.exerciseGroup.importModal.explanation"],[3,"exam","importInSameCourse"],["jhiTranslate","artemisApp.examManagement.sections.assessment",1,"pb-1"],["jhiTranslate","artemisApp.examManagement.sections.assessmentEmptyDates",1,"pb-1"],["name","examStudentReviewStart","id","examStudentReviewStart",3,"ngModelChange","labelName","ngModel","error"],["name","examStudentReviewEnd","id","examStudentReviewEnd",3,"ngModelChange","labelName","ngModel","error"],["for","numberOfCorrectionRoundsInExam","jhiTranslate","artemisApp.examManagement.numberOfCorrectionRoundsInExam",1,"form-check-label"],["id","numberOfCorrectionRoundsInExam","name","numberOfCorrectionRoundsInExam","type","number","min","1","max","2",1,"form-control",3,"ngModelChange","ngModel"],["name","publishResultsDate","id","publishResultsDate",3,"ngModelChange","labelName","ngModel","error"],["jhiTranslate","artemisApp.examManagement.reviewDatesInvalidWarning",1,"invalid-feedback"],["jhiTranslate","artemisApp.examManagement.reviewDatesInvalidExplanation"],["placement","right auto",1,"badge","bg-warning",3,"ngbTooltip"],["jhiTranslate","artemisApp.quizExercise.edit.warning"]],template:function(d,t){if(d&1){let o=k();n(0,"div",3),e(1,`
    `),n(2,"div",4),e(3,`
        `),n(4,"form",5,0),M("ngSubmit",function(){return p(o),x(t.handleSubmit())}),e(6,`
            `),T(7,Ne,8,2)(8,Ue,3,0),n(9,"div"),e(10,`
                `),l(11,"hr"),e(12,`
                `),l(13,"h5",6),e(14,`
                `),l(15,"label",7),e(16,`
                `),n(17,"jhi-title-channel-name",8),f("titleChange",function(r){return p(o),g(t.exam.title,r)||(t.exam.title=r),x(r)})("channelNameChange",function(r){return p(o),g(t.exam.channelName,r)||(t.exam.channelName=r),x(r)}),a(),e(18,`
            `),a(),e(19,`
            `),n(20,"div",9),e(21,`
                `),n(22,"div"),e(23,`
                    `),l(24,"label",10),e(25,`
                    `),l(26,"jhi-help-icon",11),e(27,`
                `),a(),e(28,`
                `),n(29,"jhi-exam-mode-picker",12),M("examModeChanged",function(){return p(o),x(t.onExamModeChange())}),a(),e(30,`
            `),a(),e(31,`
            `),T(32,Oe,9,1),n(33,"div",13),e(34,`
                `),n(35,"div",14),e(36,`
                    `),l(37,"label",15),e(38,`
                    `),n(39,"input",16),f("ngModelChange",function(r){return p(o),g(t.exam.examiner,r)||(t.exam.examiner=r),x(r)}),a(),e(40,`
                `),a(),e(41,`
                `),n(42,"div",14),e(43,`
                    `),l(44,"label",17),e(45,`
                    `),n(46,"input",18),f("ngModelChange",function(r){return p(o),g(t.exam.moduleNumber,r)||(t.exam.moduleNumber=r),x(r)}),a(),e(47,`
                `),a(),e(48,`
                `),n(49,"div",14),e(50,`
                    `),l(51,"label",19),e(52,`
                    `),n(53,"input",20),f("ngModelChange",function(r){return p(o),g(t.exam.courseName,r)||(t.exam.courseName=r),x(r)}),a(),e(54,`
                `),a(),e(55,`
            `),a(),e(56,`
            `),l(57,"hr"),e(58,`
            `),e(59,`
            `),l(60,"h5",21),e(61,`
            `),T(62,Be,12,4)(63,Fe,5,1,"ng-template",null,1,N),e(65,`
            `),n(66,"div",13),e(67,`
                `),n(68,"div",22),e(69,`
                    `),n(70,"jhi-date-time-picker",23),b(71,"artemisTranslate"),b(72,"artemisTranslate"),f("ngModelChange",function(r){return p(o),g(t.exam.visibleDate,r)||(t.exam.visibleDate=r),x(r)}),a(),e(73,`
                `),a(),e(74,`
                `),n(75,"div",22),e(76,`
                    `),n(77,"jhi-date-time-picker",24),b(78,"artemisTranslate"),b(79,"artemisTranslate"),f("ngModelChange",function(r){return p(o),g(t.exam.startDate,r)||(t.exam.startDate=r),x(r)}),M("valueChange",function(){return p(o),x(t.updateExamWorkingTime())}),a(),e(80,`
                    `),T(81,Ge,3,0),a(),e(82,`
                `),n(83,"div",22),e(84,`
                    `),n(85,"jhi-date-time-picker",25),b(86,"artemisTranslate"),b(87,"artemisTranslate"),f("ngModelChange",function(r){return p(o),g(t.exam.endDate,r)||(t.exam.endDate=r),x(r)}),M("valueChange",function(){return p(o),x(t.updateExamWorkingTime())}),a(),e(88,`
                    `),T(89,qe,3,0),a(),e(90,`
            `),a(),e(91,`
            `),n(92,"div",13),e(93,`
                `),n(94,"div",26),e(95,`
                    `),l(96,"label",27),e(97,`
                    `),l(98,"jhi-help-icon",28),e(99,`
                    `),T(100,ze,3,1)(101,Qe,3,3),a(),e(102,`
                `),n(103,"div",26),e(104,`
                    `),l(105,"label",29),e(106,`
                    `),l(107,"jhi-help-icon",30),e(108,`
                    `),n(109,"input",31),f("ngModelChange",function(r){return p(o),g(t.exam.gracePeriod,r)||(t.exam.gracePeriod=r),x(r)}),a(),e(110,`
                `),a(),e(111,`
            `),a(),e(112,`
            `),l(113,"hr"),e(114,`
            `),e(115,`
            `),l(116,"h5",32),e(117,`
            `),n(118,"div",13),e(119,`
                `),n(120,"div",26),e(121,`
                    `),l(122,"label",33),e(123,`
                    `),l(124,"fa-icon",34),b(125,"artemisTranslate"),e(126,`
                    `),n(127,"input",35),f("ngModelChange",function(r){return p(o),g(t.exam.examMaxPoints,r)||(t.exam.examMaxPoints=r),x(r)}),a(),e(128,`
                `),a(),e(129,`
                `),n(130,"div",26),e(131,`
                    `),n(132,"label",36),e(133,"Number of Exercises in Exam"),a(),e(134,`
                    `),n(135,"input",37),f("ngModelChange",function(r){return p(o),g(t.exam.numberOfExercisesInExam,r)||(t.exam.numberOfExercisesInExam=r),x(r)}),a(),e(136,`
                `),a(),e(137,`
            `),a(),e(138,`
            `),n(139,"div",38),e(140,`
                `),n(141,"input",39),f("ngModelChange",function(r){return p(o),g(t.exam.randomizeExerciseOrder,r)||(t.exam.randomizeExerciseOrder=r),x(r)}),a(),e(142,`
                `),l(143,"label",40),e(144,`
            `),a(),e(145,`
            `),e(146,`
            `),T(147,Ye,10,2)(148,Je,27,12),l(149,"hr"),e(150,`
            `),l(151,"h5",41),e(152,`
            `),n(153,"div",13),e(154,`
                `),n(155,"div",26),e(156,`
                    `),n(157,"jhi-date-time-picker",42),b(158,"artemisTranslate"),b(159,"artemisTranslate"),f("ngModelChange",function(r){return p(o),g(t.exam.exampleSolutionPublicationDate,r)||(t.exam.exampleSolutionPublicationDate=r),x(r)}),a(),e(160,`
                `),a(),e(161,`
            `),a(),e(162,`
            `),l(163,"hr"),e(164,`
            `),e(165,`
            `),l(166,"h5",43),e(167,`
            `),n(168,"div",9),e(169,`
                `),l(170,"label",44),e(171,`
                `),n(172,"jhi-markdown-editor-monaco",45),f("markdownChange",function(r){return p(o),g(t.exam.startText,r)||(t.exam.startText=r),x(r)}),a(),e(173,`
            `),a(),e(174,`
            `),n(175,"div",9),e(176,`
                `),l(177,"label",46),e(178,`
                `),n(179,"jhi-markdown-editor-monaco",47),f("markdownChange",function(r){return p(o),g(t.exam.endText,r)||(t.exam.endText=r),x(r)}),a(),e(180,`
            `),a(),e(181,`
            `),n(182,"div",9),e(183,`
                `),l(184,"label",48),e(185,`
                `),n(186,"jhi-markdown-editor-monaco",49),f("markdownChange",function(r){return p(o),g(t.exam.confirmationStartText,r)||(t.exam.confirmationStartText=r),x(r)}),a(),e(187,`
            `),a(),e(188,`
            `),n(189,"div",9),e(190,`
                `),l(191,"label",50),e(192,`
                `),n(193,"jhi-markdown-editor-monaco",51),f("markdownChange",function(r){return p(o),g(t.exam.confirmationEndText,r)||(t.exam.confirmationEndText=r),x(r)}),a(),e(194,`
            `),a(),e(195,`
            `),n(196,"div"),e(197,`
                `),n(198,"button",52),M("click",function(){return p(o),x(t.resetToPreviousState())}),e(199,`
                    `),l(200,"fa-icon",53),e(201,"\xA0"),l(202,"span",54),e(203,`
                `),a(),e(204,`
                `),n(205,"button",55),e(206,`
                    `),l(207,"fa-icon",53),e(208),b(209,"artemisTranslate"),a(),e(210,`
                `),T(211,Xe,3,0,"ng-template",null,2,N),e(213,`
                `),T(214,Ze,6,1),a(),e(215,`
        `),a(),e(216,`
    `),a(),e(217,`
`),a(),e(218,`
`)}if(d&2){let o=R(5);s(7),C(t.exam.id?8:7),s(10),h("title",t.exam.title)("channelName",t.exam.channelName),c("hideTitleLabel",!0)("hideChannelName",t.hideChannelNameInput)("initChannelName",t.isImport||t.exam.id===void 0),s(12),c("exam",t.exam)("disableInput",t.exam.id!==void 0),s(3),C(t.exam.testExam?-1:32),s(7),h("ngModel",t.exam.examiner),s(7),h("ngModel",t.exam.moduleNumber),s(7),h("ngModel",t.exam.courseName),s(9),C(t.isOngoingExam?62:-1),s(8),y("labelName",S(71,58,"artemisApp.examManagement.visibleDate")),y("labelTooltip",S(72,60,"artemisApp.examManagement.visibleDateTooltip")),h("ngModel",t.exam.visibleDate),c("error",!t.isVisibleDateSet)("warning",t.checkExamVisibilityTime)("startAt",t.exam.visibleDate)("requiredField",!0),s(7),y("labelName",S(78,62,"artemisApp.examManagement"+(t.exam.testExam?".testExam":"")+".startDate")),y("labelTooltip",S(79,64,"artemisApp.examManagement.startDateTooltip")),h("ngModel",t.exam.startDate),c("error",!t.isStartDateSet||!t.isValidStartDate)("startAt",t.exam.startDate||t.exam.visibleDate)("requiredField",!0),s(4),C(t.isStartDateSet&&t.isValidStartDateValue&&!t.isValidStartDate?81:-1),s(4),y("labelName",S(86,66,"artemisApp.examManagement"+(t.exam.testExam?".testExam":"")+".endDate")),y("labelTooltip",S(87,68,"artemisApp.examManagement.endDateTooltip")),h("ngModel",t.exam.endDate),c("error",!t.isEndDateSet||!t.isValidEndDate)("startAt",t.exam.endDate||t.exam.startDate)("requiredField",!0),s(4),C(t.isEndDateSet&&t.isValidEndDateValue&&!t.isValidEndDate?89:-1),s(9),c("text","artemisApp.examManagement"+(t.exam.testExam?".testExam":"")+".workingTimeTooltip"),s(2),C(t.exam.testExam?-1:100),s(),C(t.exam.testExam?101:-1),s(8),h("ngModel",t.exam.gracePeriod),s(15),y("ngbTooltip",S(125,70,"artemisApp.examManagement.maxPoints.warning")),c("icon",t.faExclamationTriangle),s(3),h("ngModel",t.exam.examMaxPoints),s(8),h("ngModel",t.exam.numberOfExercisesInExam),s(6),h("ngModel",t.exam.randomizeExerciseOrder),s(6),C(t.isImport&&t.exam.exerciseGroups?147:-1),s(),C(t.exam.testExam?-1:148),s(9),y("labelName",S(158,72,"artemisApp.exam.exampleSolutionPublicationDate")),y("labelTooltip",S(159,74,"artemisApp.examManagement.exampleSolutionPublicationDateTooltip")),h("ngModel",t.exam.exampleSolutionPublicationDate),c("error",!t.isValidExampleSolutionPublicationDate),s(15),h("markdown",t.exam.startText),s(7),h("markdown",t.exam.endText),s(7),h("markdown",t.exam.confirmationStartText),s(7),h("markdown",t.exam.confirmationEndText),s(7),c("icon",t.faBan),s(5),c("disabled",o.form.invalid||!t.isValidConfiguration||t.isSaving),s(2),c("icon",t.faSave),s(),Q("\xA0",S(209,76,"entity.action."+(t.isImport?"import":"save")),`
                `),s(6),C(t.isValidExamStudentReviewEnd?-1:214)}},dependencies:[me,ne,Z,ae,X,$,ee,oe,re,ie,te,V,_e,ye,Ee,Ie,le,fe,Me,we,De,Ve,O,Te,U],encapsulation:2})}return m})(),$e=m=>L(B({},ue(m,["id","visibleDate","startDate","endDate","publishResultsDate","examStudentReviewStart","examStudentReviewEnd","examUsers","studentExams"])),{workingTime:0});export{Gt as ExamUpdateComponent,$e as prepareExamForImport};
//# sourceMappingURL=exam-update.component-ZEL7HLDJ.js.map
