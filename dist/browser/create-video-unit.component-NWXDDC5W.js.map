{
  "version": 3,
  "sources": ["src/main/webapp/app/lecture/lecture-unit/lecture-unit-management/create-video-unit/create-video-unit.component.ts", "src/main/webapp/app/lecture/lecture-unit/lecture-unit-management/create-video-unit/create-video-unit.component.html"],
  "sourcesContent": ["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, OnInit, inject } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VideoUnit } from 'app/entities/lecture-unit/videoUnit.model';\r\nimport { VideoUnitFormData } from 'app/lecture/lecture-unit/lecture-unit-management/video-unit-form/video-unit-form.component';\r\nimport { VideoUnitService } from 'app/lecture/lecture-unit/lecture-unit-management/videoUnit.service';\r\nimport { onError } from 'app/shared/util/global.utils';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { combineLatest } from 'rxjs';\r\nimport { LectureUnitLayoutComponent } from '../lecture-unit-layout/lecture-unit-layout.component';\r\nimport { VideoUnitFormComponent } from '../video-unit-form/video-unit-form.component';\r\n\r\n@Component({\r\n    selector: 'jhi-create-video-unit',\r\n    templateUrl: './create-video-unit.component.html',\r\n    imports: [LectureUnitLayoutComponent, VideoUnitFormComponent],\r\n})\r\nexport class CreateVideoUnitComponent implements OnInit {\r\n    private activatedRoute = inject(ActivatedRoute);\r\n    private router = inject(Router);\r\n    private videoUnitService = inject(VideoUnitService);\r\n    private alertService = inject(AlertService);\r\n\r\n    videoUnitToCreate: VideoUnit = new VideoUnit();\r\n    isLoading: boolean;\r\n    lectureId: number;\r\n    courseId: number;\r\n\r\n    ngOnInit(): void {\r\n        const lectureRoute = this.activatedRoute.parent!.parent!;\r\n        combineLatest([lectureRoute.paramMap, lectureRoute.parent!.paramMap]).subscribe(([params, parentParams]) => {\r\n            this.lectureId = Number(params.get('lectureId'));\r\n            this.courseId = Number(parentParams.get('courseId'));\r\n        });\r\n        this.videoUnitToCreate = new VideoUnit();\r\n    }\r\n\r\n    createVideoUnit(formData: VideoUnitFormData) {\r\n        if (!formData?.name || !formData?.source) {\r\n            return;\r\n        }\r\n\r\n        const { name, description, releaseDate, source, competencyLinks } = formData;\r\n\r\n        this.videoUnitToCreate.name = name || undefined;\r\n        this.videoUnitToCreate.releaseDate = releaseDate || undefined;\r\n        this.videoUnitToCreate.description = description || undefined;\r\n        this.videoUnitToCreate.source = source || undefined;\r\n        this.videoUnitToCreate.competencyLinks = competencyLinks || [];\r\n\r\n        this.isLoading = true;\r\n\r\n        this.videoUnitService\r\n            .create(this.videoUnitToCreate!, this.lectureId)\r\n            .pipe(\r\n                finalize(() => {\r\n                    this.isLoading = false;\r\n                }),\r\n            )\r\n            .subscribe({\r\n                next: () => {\r\n                    this.router.navigate(['../../'], { relativeTo: this.activatedRoute });\r\n                },\r\n                error: (res: HttpErrorResponse) => onError(this.alertService, res),\r\n            });\r\n    }\r\n}\r\n", "<jhi-lecture-unit-layout [isLoading]=\"isLoading\">\r\n    <jhi-video-unit-form [isEditMode]=\"false\" (formSubmitted)=\"createVideoUnit($event)\" />\r\n</jhi-lecture-unit-layout>\r\n"],
  "mappings": "inDAkBA,IAAaA,GAAwB,IAAA,CAA/B,MAAOA,CAAwB,CACzBC,eAAiBC,EAAOC,CAAc,EACtCC,OAASF,EAAOG,CAAM,EACtBC,iBAAmBJ,EAAOK,CAAgB,EAC1CC,aAAeN,EAAOO,CAAY,EAE1CC,kBAA+B,IAAIC,EACnCC,UACAC,UACAC,SAEAC,UAAQ,CACJ,IAAMC,EAAe,KAAKf,eAAegB,OAAQA,OACjDC,EAAc,CAACF,EAAaG,SAAUH,EAAaC,OAAQE,QAAQ,CAAC,EAAEC,UAAU,CAAC,CAACC,EAAQC,CAAY,IAAK,CACvG,KAAKT,UAAYU,OAAOF,EAAOG,IAAI,WAAW,CAAC,EAC/C,KAAKV,SAAWS,OAAOD,EAAaE,IAAI,UAAU,CAAC,CACvD,CAAC,EACD,KAAKd,kBAAoB,IAAIC,CACjC,CAEAc,gBAAgBC,EAA2B,CACvC,GAAI,CAACA,GAAUC,MAAQ,CAACD,GAAUE,OAC9B,OAGJ,GAAM,CAAED,KAAAA,EAAME,YAAAA,EAAaC,YAAAA,EAAaF,OAAAA,EAAQG,gBAAAA,CAAe,EAAKL,EAEpE,KAAKhB,kBAAkBiB,KAAOA,GAAQK,OACtC,KAAKtB,kBAAkBoB,YAAcA,GAAeE,OACpD,KAAKtB,kBAAkBmB,YAAcA,GAAeG,OACpD,KAAKtB,kBAAkBkB,OAASA,GAAUI,OAC1C,KAAKtB,kBAAkBqB,gBAAkBA,GAAmB,CAAA,EAE5D,KAAKnB,UAAY,GAEjB,KAAKN,iBACA2B,OAAO,KAAKvB,kBAAoB,KAAKG,SAAS,EAC9CqB,KACGC,EAAS,IAAK,CACV,KAAKvB,UAAY,EACrB,CAAC,CAAC,EAELQ,UAAU,CACPgB,KAAMA,IAAK,CACP,KAAKhC,OAAOiC,SAAS,CAAC,QAAQ,EAAG,CAAEC,WAAY,KAAKrC,cAAc,CAAE,CACxE,EACAsC,MAAQC,GAA2BC,EAAQ,KAAKjC,aAAcgC,CAAG,EACpE,CACT,4CAhDSxC,EAAwB,2BAAxBA,EAAwB0C,UAAA,CAAA,CAAA,uBAAA,CAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,WAAA,EAAA,CAAA,EAAA,gBAAA,YAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,IClBrCE,EAAA,EAAA,0BAAA,CAAA,EACIC,EAAA,EAAA;KAAA,EAAAD,EAAA,EAAA,sBAAA,CAAA,EAA0CE,EAAA,gBAAA,SAAAC,EAAA,CAAA,OAAiBJ,EAAAvB,gBAAA2B,CAAA,CAAuB,CAAA,EAAlFC,EAAA,EACJH,EAAA,EAAA;CAAA,EAAAG,EAAA,EACAH,EAAA,EAAA;CAAA,SAHyBI,EAAA,YAAAN,EAAApC,SAAA,EACA2C,EAAA,CAAA,EAAAD,EAAA,aAAA,EAAA,kBDeXE,EAA4BC,CAAsB,EAAAC,cAAA,CAAA,CAAA,SAEnD1D,CAAwB,GAAA",
  "names": ["CreateVideoUnitComponent", "activatedRoute", "inject", "ActivatedRoute", "router", "Router", "videoUnitService", "VideoUnitService", "alertService", "AlertService", "videoUnitToCreate", "VideoUnit", "isLoading", "lectureId", "courseId", "ngOnInit", "lectureRoute", "parent", "combineLatest", "paramMap", "subscribe", "params", "parentParams", "Number", "get", "createVideoUnit", "formData", "name", "source", "description", "releaseDate", "competencyLinks", "undefined", "create", "pipe", "finalize", "next", "navigate", "relativeTo", "error", "res", "onError", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275listener", "$event", "\u0275\u0275elementEnd", "\u0275\u0275property", "\u0275\u0275advance", "LectureUnitLayoutComponent", "VideoUnitFormComponent", "encapsulation"]
}
