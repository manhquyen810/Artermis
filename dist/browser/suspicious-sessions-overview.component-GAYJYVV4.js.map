{
  "version": 3,
  "sources": ["src/main/webapp/app/exam/manage/suspicious-behavior/suspicious-sessions/suspicious-sessions.component.ts", "src/main/webapp/app/exam/manage/suspicious-behavior/suspicious-sessions/suspicious-sessions.component.html", "src/main/webapp/app/exam/manage/suspicious-behavior/suspicious-sessions-overview/suspicious-sessions-overview.component.ts", "src/main/webapp/app/exam/manage/suspicious-behavior/suspicious-sessions-overview/suspicious-sessions-overview.component.html"],
  "sourcesContent": ["import { CommonModule } from '@angular/common';\r\nimport { Component, OnInit, input } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SuspiciousExamSessions, SuspiciousSessionReason } from 'app/entities/exam/exam-session.model';\r\nimport { StudentExam } from 'app/entities/student-exam.model';\r\nimport { ArtemisDatePipe } from 'app/shared/pipes/artemis-date.pipe';\r\n\r\n@Component({\r\n    // this is intended and an attribute selector because otherwise the rendered table breaks\r\n    selector: '[jhi-suspicious-sessions]',\r\n    templateUrl: './suspicious-sessions.component.html',\r\n    styleUrls: ['./suspicious-sessions.component.scss'],\r\n    imports: [ArtemisDatePipe, RouterModule, CommonModule],\r\n})\r\nexport class SuspiciousSessionsComponent implements OnInit {\r\n    suspiciousSessions = input.required<SuspiciousExamSessions>();\r\n    suspiciousFingerprint = false;\r\n    suspiciousIpAddress = false;\r\n    ngOnInit(): void {\r\n        this.suspiciousFingerprint =\r\n            this.isSuspiciousFor(SuspiciousSessionReason.DIFFERENT_STUDENT_EXAMS_SAME_BROWSER_FINGERPRINT) ||\r\n            this.isSuspiciousFor(SuspiciousSessionReason.SAME_STUDENT_EXAM_DIFFERENT_BROWSER_FINGERPRINTS);\r\n        this.suspiciousIpAddress =\r\n            this.isSuspiciousFor(SuspiciousSessionReason.DIFFERENT_STUDENT_EXAMS_SAME_IP_ADDRESS) ||\r\n            this.isSuspiciousFor(SuspiciousSessionReason.SAME_STUDENT_EXAM_DIFFERENT_IP_ADDRESSES) ||\r\n            this.isSuspiciousFor(SuspiciousSessionReason.IP_ADDRESS_OUTSIDE_OF_RANGE);\r\n    }\r\n\r\n    getStudentExamLink(studentExam: StudentExam) {\r\n        const studentExamId = studentExam.id;\r\n        const courseId = studentExam.exam?.course?.id;\r\n        const examId = studentExam.exam?.id;\r\n        return `/course-management/${courseId}/exams/${examId}/student-exams/${studentExamId}`;\r\n    }\r\n\r\n    private isSuspiciousFor(reason: SuspiciousSessionReason) {\r\n        return this.suspiciousSessions().examSessions.some((session) => session.suspiciousReasons.includes(reason));\r\n    }\r\n}\r\n", "@for (session of suspiciousSessions().examSessions; track session; let i = $index) {\r\n    <tr>\r\n        <th scope=\"row\">{{ session.id }}</th>\r\n        <td [ngClass]=\"suspiciousFingerprint ? 'suspicious' : ''\">{{ session.browserFingerprintHash }}</td>\r\n        <td [ngClass]=\"suspiciousIpAddress ? 'suspicious' : ''\">{{ session.ipAddress }}</td>\r\n        <td>{{ session.createdDate | artemisDate }}</td>\r\n        <td>\r\n            <a [routerLink]=\"getStudentExamLink(session.studentExam!)\">\r\n                {{ session.studentExam!.id }}\r\n            </a>\r\n        </td>\r\n        <td>{{ session.studentExam?.user?.login }}</td>\r\n    </tr>\r\n}\r\n", "import { Component, OnInit } from '@angular/core';\r\nimport { SuspiciousExamSessions, SuspiciousSessionReason } from 'app/entities/exam/exam-session.model';\r\nimport { cloneDeep } from 'lodash-es';\r\nimport { SuspiciousSessionsComponent } from 'app/exam/manage/suspicious-behavior/suspicious-sessions/suspicious-sessions.component';\r\nimport { TranslateDirective } from 'app/shared/language/translate.directive';\r\nimport { ArtemisTranslatePipe } from 'app/shared/pipes/artemis-translate.pipe';\r\n\r\n@Component({\r\n    selector: 'jhi-suspicious-sessions-overview',\r\n    templateUrl: './suspicious-sessions-overview.component.html',\r\n    styleUrls: ['./suspicious-sessions-overview.component.scss'],\r\n    imports: [SuspiciousSessionsComponent, TranslateDirective, ArtemisTranslatePipe],\r\n})\r\nexport class SuspiciousSessionsOverviewComponent implements OnInit {\r\n    suspiciousSessions: SuspiciousExamSessions[] = [];\r\n    ipSubnet?: string;\r\n\r\n    mapEnumToTranslationString(reason: SuspiciousSessionReason) {\r\n        switch (reason) {\r\n            case SuspiciousSessionReason.DIFFERENT_STUDENT_EXAMS_SAME_IP_ADDRESS:\r\n                return 'artemisApp.examManagement.suspiciousBehavior.suspiciousSessions.sameIpAddressDifferentStudentExams';\r\n            case SuspiciousSessionReason.DIFFERENT_STUDENT_EXAMS_SAME_BROWSER_FINGERPRINT:\r\n                return 'artemisApp.examManagement.suspiciousBehavior.suspiciousSessions.sameBrowserFingerprintDifferentStudentExams';\r\n            case SuspiciousSessionReason.SAME_STUDENT_EXAM_DIFFERENT_IP_ADDRESSES:\r\n                return 'artemisApp.examManagement.suspiciousBehavior.suspiciousSessions.differentIpAddressesSameStudentExam';\r\n            case SuspiciousSessionReason.SAME_STUDENT_EXAM_DIFFERENT_BROWSER_FINGERPRINTS:\r\n                return 'artemisApp.examManagement.suspiciousBehavior.suspiciousSessions.differentBrowserFingerprintsSameStudentExam';\r\n            case SuspiciousSessionReason.IP_ADDRESS_OUTSIDE_OF_RANGE:\r\n                return 'artemisApp.examManagement.suspiciousBehavior.suspiciousSessions.ipOutsideOfRange';\r\n        }\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.suspiciousSessions = cloneDeep(history.state.suspiciousSessions);\r\n        this.ipSubnet = history.state.ipSubnet;\r\n    }\r\n}\r\n", "<h5 class=\"mb-3\" jhiTranslate=\"artemisApp.examManagement.suspiciousBehavior.suspiciousSessions.title\"></h5>\r\n@for (suspiciousSessionsSet of suspiciousSessions; track suspiciousSessionsSet; let i = $index) {\r\n    <p class=\"mb-0\">\r\n        {{ 'artemisApp.examManagement.suspiciousBehavior.suspiciousSessions.case' | artemisTranslate }}\r\n        <span class=\"bold\">{{ i + 1 }}</span>\r\n    </p>\r\n    <p>\r\n        {{ 'artemisApp.examManagement.suspiciousBehavior.suspiciousSessions.reasons' | artemisTranslate }}\r\n        <!-- all sessions have the same reasons, so we can just use the first one -->\r\n        @for (reason of suspiciousSessionsSet.examSessions.at(0)?.suspiciousReasons; track reason; let i = $index) {\r\n            <span class=\"bold\" [jhiTranslate]=\"mapEnumToTranslationString(reason)\" [translateValues]=\"{ range: ipSubnet }\"></span>\r\n            @if (i < suspiciousSessionsSet.examSessions.at(0)?.suspiciousReasons?.length! - 1) {\r\n                <span>,</span>\r\n            }\r\n        }\r\n    </p>\r\n    <div style=\"overflow-x: auto\" class=\"table-responsive\">\r\n        <table class=\"table\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\" jhiTranslate=\"artemisApp.examSession.id\"></th>\r\n                    <th scope=\"col\" jhiTranslate=\"artemisApp.examSession.browserFingerprintHash\"></th>\r\n                    <th scope=\"col\" jhiTranslate=\"artemisApp.examSession.ipAddress\"></th>\r\n                    <th scope=\"col\" jhiTranslate=\"artemisApp.examSession.createdDate\"></th>\r\n                    <th scope=\"col\" jhiTranslate=\"artemisApp.examSession.studentExamId\"></th>\r\n                    <th scope=\"col\" jhiTranslate=\"artemisApp.examSession.userLogin\"></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody jhi-suspicious-sessions [suspiciousSessions]=\"suspiciousSessionsSet\"></tbody>\r\n        </table>\r\n    </div>\r\n}\r\n"],
  "mappings": "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",
  "names": ["\u0275\u0275text", "\u0275\u0275elementStart", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275textInterpolate", "session_r1", "id", "\u0275\u0275property", "ctx_r1", "suspiciousFingerprint", "browserFingerprintHash", "suspiciousIpAddress", "ipAddress", "\u0275\u0275pipeBind1", "createdDate", "getStudentExamLink", "studentExam", "\u0275\u0275textInterpolate1", "user", "login", "SuspiciousSessionsComponent", "suspiciousSessions", "input", "required", "ngOnInit", "isSuspiciousFor", "SuspiciousSessionReason", "DIFFERENT_STUDENT_EXAMS_SAME_BROWSER_FINGERPRINT", "SAME_STUDENT_EXAM_DIFFERENT_BROWSER_FINGERPRINTS", "DIFFERENT_STUDENT_EXAMS_SAME_IP_ADDRESS", "SAME_STUDENT_EXAM_DIFFERENT_IP_ADDRESSES", "IP_ADDRESS_OUTSIDE_OF_RANGE", "studentExamId", "courseId", "exam", "course", "examId", "reason", "examSessions", "some", "session", "suspiciousReasons", "includes", "selectors", "inputs", "attrs", "_c0", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275repeaterCreate", "SuspiciousSessionsComponent_For_1_Template", "\u0275\u0275repeaterTrackByIdentity", "\u0275\u0275repeater", "ArtemisDatePipe", "RouterModule", "RouterLink", "CommonModule", "NgClass", "styles", "\u0275\u0275text", "\u0275\u0275elementStart", "\u0275\u0275elementEnd", "\u0275\u0275element", "\u0275\u0275template", "SuspiciousSessionsOverviewComponent_For_3_For_13_Conditional_3_Template", "\u0275\u0275advance", "\u0275\u0275property", "ctx_r3", "mapEnumToTranslationString", "reason_r1", "\u0275\u0275pureFunction1", "_c0", "ipSubnet", "\u0275\u0275conditional", "\u0275$index_20_r2", "tmp_24_0", "suspiciousSessionsSet_r3", "examSessions", "at", "suspiciousReasons", "length", "\u0275\u0275repeaterCreate", "SuspiciousSessionsOverviewComponent_For_3_For_13_Template", "\u0275\u0275repeaterTrackByIdentity", "\u0275\u0275textInterpolate1", "\u0275\u0275pipeBind1", "\u0275\u0275textInterpolate", "\u0275$index_4_r5", "\u0275\u0275repeater", "tmp_14_0", "SuspiciousSessionsOverviewComponent", "suspiciousSessions", "reason", "SuspiciousSessionReason", "DIFFERENT_STUDENT_EXAMS_SAME_IP_ADDRESS", "DIFFERENT_STUDENT_EXAMS_SAME_BROWSER_FINGERPRINT", "SAME_STUDENT_EXAM_DIFFERENT_IP_ADDRESSES", "SAME_STUDENT_EXAM_DIFFERENT_BROWSER_FINGERPRINTS", "IP_ADDRESS_OUTSIDE_OF_RANGE", "ngOnInit", "cloneDeep", "history", "state", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "SuspiciousSessionsOverviewComponent_For_3_Template", "SuspiciousSessionsComponent", "TranslateDirective", "ArtemisTranslatePipe", "styles"]
}
