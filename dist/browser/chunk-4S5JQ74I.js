import{K as x,L as b,c as v,h as E,m as T,q as f}from"./chunk-WA5GEAJB.js";import{Db as l,Ea as _,Mc as p,Tb as y,Va as M,_a as S,dd as a,gd as c,kc as u,lc as g,ld as m,md as h,nd as V,xc as r,yc as s,zc as C}from"./chunk-5LC5EQRR.js";var L=1,N=(()=>{class d{elRef=_(S);generalMaxValue;generalMinValue;step=L;labelSymbol;selectedMinValue;selectedMaxValue;selectedMinValueChange=new M;selectedMaxValueChange=new M;rangeInputElements;eventListeners=[];sliderMinPercentage;sliderMaxPercentage;valueRange;LABEL_MARGIN=.4;SLIDER_THUMB_LABEL_POSITION_ADJUSTMENT_FACTOR=.97;ngOnInit(){this.rangeInputElements=this.elRef.nativeElement.querySelectorAll(".range-input input"),this.rangeInputElements?.forEach(n=>{let t=e=>{this.ensureMinValueIsSmallerThanMaxValueViceVersa(e)};n.addEventListener("input",t),this.eventListeners.push({element:n,listener:t})}),this.valueRange=this.generalMaxValue-this.generalMinValue,this.LABEL_MARGIN=this.getLabelMargin(),this.updateMinPercentage(),this.updateMaxPercentage()}ngOnDestroy(){this.eventListeners.forEach(({element:n,listener:t})=>{n.removeEventListener("input",t)})}updateMinPercentage(){let n=this.selectedMinValue;this.selectedMinValue>=this.selectedMaxValue&&(n=this.selectedMaxValue-this.step);let e=(n-this.generalMinValue)/this.valueRange*100;this.sliderMinPercentage=e}updateMaxPercentage(){let n=this.selectedMaxValue;this.selectedMaxValue<=this.selectedMinValue&&(n=this.selectedMinValue+this.step);let e=100-(n-this.generalMinValue)/this.valueRange*100;this.sliderMaxPercentage=e}onSelectedMinValueChanged(n){let t=this.ensureMinValueIsSmallerThanMaxValueViceVersa(n);this.selectedMinValueChange.emit(t)}onSelectedMaxValueChanged(n){let t=this.ensureMinValueIsSmallerThanMaxValueViceVersa(n);this.selectedMaxValueChange.emit(t)}ensureMinValueIsSmallerThanMaxValueViceVersa(n){return n.target.className.includes("range-min")?(this.selectedMinValue>=this.selectedMaxValue&&(this.selectedMinValue=this.selectedMaxValue-this.step),this.selectedMinValue):(this.selectedMaxValue<=this.selectedMinValue&&(this.selectedMaxValue=this.selectedMinValue+this.step),this.selectedMaxValue)}getLabelMargin(){return .4-.4*(this.labelSymbol?.length??0)}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=y({type:d,selectors:[["jhi-range-slider"]],inputs:{generalMaxValue:"generalMaxValue",generalMinValue:"generalMinValue",step:"step",labelSymbol:"labelSymbol",selectedMinValue:"selectedMinValue",selectedMaxValue:"selectedMaxValue"},outputs:{selectedMinValueChange:"selectedMinValueChange",selectedMaxValueChange:"selectedMaxValueChange"},decls:18,vars:24,consts:[[1,"slider","m-2","mb-5"],[1,"range-input"],[1,"progress"],[1,"slider-value"],["type","range",1,"range-min",3,"ngModelChange","change","input","min","max","ngModel","step"],["type","range",1,"range-max",3,"ngModelChange","change","input","min","max","ngModel","step"]],template:function(t,e){t&1&&(r(0,"div",0),a(1,`
    `),r(2,"div",1),a(3,`
        `),C(4,"div",2),a(5,`
        `),r(6,"span",3),a(7),s(),a(8,`
        `),r(9,"span",3),a(10),s(),a(11,`

        `),r(12,"input",4),V("ngModelChange",function(i){return h(e.selectedMinValue,i)||(e.selectedMinValue=i),i}),p("change",function(i){return e.onSelectedMinValueChanged(i)})("input",function(){return e.updateMinPercentage()}),s(),a(13,`
        `),r(14,"input",5),V("ngModelChange",function(i){return h(e.selectedMaxValue,i)||(e.selectedMaxValue=i),i}),p("change",function(i){return e.onSelectedMaxValueChanged(i)})("input",function(){return e.updateMaxPercentage()}),s(),a(15,`
    `),s(),a(16,`
`),s(),a(17,`
`)),t&2&&(l(4),g("left",e.sliderMinPercentage,"%")("right",e.sliderMaxPercentage,"%"),l(2),g("left",e.sliderMinPercentage*e.SLIDER_THUMB_LABEL_POSITION_ADJUSTMENT_FACTOR,"%")("margin-left",e.LABEL_MARGIN+"rem"),l(),c("",e.selectedMinValue,"",e.labelSymbol,""),l(2),g("right",e.sliderMaxPercentage*e.SLIDER_THUMB_LABEL_POSITION_ADJUSTMENT_FACTOR,"%")("margin-right",e.LABEL_MARGIN+"rem"),l(),c("",e.selectedMaxValue,"",e.labelSymbol,""),l(2),u("min",e.generalMinValue)("max",e.generalMaxValue),m("ngModel",e.selectedMinValue),u("step",e.step),l(2),u("min",e.generalMinValue)("max",e.generalMaxValue),m("ngModel",e.selectedMaxValue),u("step",e.step))},dependencies:[x,v,f,E,T,b],styles:[".slider[_ngcontent-%COMP%]{height:.5rem;border-radius:.5rem;background:var(--gray-400)}.slider[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:.5rem;border-radius:.5rem;position:absolute;background:var(--primary)}.range-input[_ngcontent-%COMP%]{position:relative}.range-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:.5rem;position:absolute;width:100%;background:none;pointer-events:none;-webkit-appearance:none}[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{height:1.2rem;width:1.2rem;border-radius:50%;background:var(--primary);pointer-events:auto;-webkit-appearance:none;cursor:pointer}[type=range][_ngcontent-%COMP%]::-moz-range-thumb{height:1.2rem;width:1.2rem;border-radius:50%;background:var(--primary);pointer-events:auto;-moz-appearance:none;cursor:pointer}.slider-value[_ngcontent-%COMP%]{position:absolute;bottom:-2.2rem;pointer-events:none;color:var(--secondary);text-align:center;justify-content:center;align-content:center;display:flex}"]})}return d})();export{N as a};
//# sourceMappingURL=chunk-4S5JQ74I.js.map
