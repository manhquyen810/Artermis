import{a as F}from"./chunk-XWRIJITX.js";import"./chunk-36ZQVNBH.js";import"./chunk-XUG3TIT6.js";import"./chunk-YNY5IUYO.js";import"./chunk-G4HSJ7ME.js";import"./chunk-F3NFBBHK.js";import"./chunk-OTCBNILH.js";import"./chunk-ST7GO324.js";import"./chunk-LYZAUST5.js";import"./chunk-MYJYCKA4.js";import"./chunk-PH44QM5B.js";import"./chunk-WL6UHE7V.js";import"./chunk-BIK4CL5A.js";import"./chunk-GERFCPB6.js";import"./chunk-T624HJJL.js";import"./chunk-HQTS6JOY.js";import"./chunk-HMZID6NQ.js";import"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-UQ4R3Q4B.js";import"./chunk-2QXIMOEO.js";import{f as b}from"./chunk-ZPITQMA6.js";import{a as _}from"./chunk-AZBLKUAM.js";import{d as A}from"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import{d as x}from"./chunk-5GXY5RYT.js";import"./chunk-K3W6YFKH.js";import"./chunk-JXJXC4DZ.js";import"./chunk-EDXSOKK5.js";import{b as U}from"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import{a as g}from"./chunk-NOBD5HSR.js";import{a as y}from"./chunk-U54OSGNH.js";import{f as v,h as S}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Db as i,Ea as a,Mc as f,Oc as d,Tb as h,Zb as c,dd as r,ed as C,fd as p,kc as l,sc as m,xc as s,yc as n,zc as G}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";function T(o,N){if(o&1&&(r(0,`
                `),s(1,"span"),r(2),G(3,"span",3),r(4," "),n(),r(5,`
            `)),o&2){let e=d(2);i(2),p("",e.filteredUsersSize," ")}}function E(o,N){if(o&1&&(r(0,`
        `),s(1,"span"),r(2,`
            `),s(3,"span"),r(4),n(),r(5,`
            `),c(6,T,6,1),r(7),s(8,"span",1),r(9),n(),r(10,`
            `),s(11,"span",2),r(12),n(),r(13,`
        `),n(),r(14,`
    `)),o&2){let e=d();i(4),p("",e.course==null?null:e.course.title," - "),i(2),m(e.filteredUsersSize<e.allCourseGroupUsers.length?6:-1),i(),p(`
            `,e.allCourseGroupUsers.length,`
            `),i(),l("jhiTranslate","artemisApp.course."+e.courseGroupEntityName),i(),C(e.capitalize(e.courseGroupEntityName)),i(3),p("(",e.courseGroupName,")")}}var J=(()=>{class o{router=a(S);route=a(v);courseService=a(A);userService=a(_);accountService=a(U);allCourseGroupUsers=[];course;courseGroup;isLoading=!1;isAdmin=!1;paramSub;filteredUsersSize=0;capitalize=x;ngOnInit(){this.loadAll()}userSearch=e=>this.userService.search(e);addToGroup=e=>this.courseService.addUserToCourseGroup(this.course.id,this.courseGroup,e);removeFromGroup=e=>this.courseService.removeUserFromCourseGroup(this.course.id,this.courseGroup,e);handleUsersSizeChange=e=>this.filteredUsersSize=e;loadAll=()=>{this.isLoading=!0,this.isAdmin=this.accountService.isAdmin(),this.route.parent.data.subscribe(({course:e})=>{this.course=e,this.paramSub=this.route.params.subscribe(u=>{if(this.courseGroup=u.courseGroup,!b.includes(this.courseGroup))return this.router.navigate(["/course-management"]);this.courseService.getAllUsersInCourseGroup(this.course.id,this.courseGroup).subscribe(t=>{this.allCourseGroupUsers=t.body,this.isLoading=!1})})})};get courseGroupName(){switch(this.courseGroup){case"students":return this.course.studentGroupName;case"tutors":return this.course.teachingAssistantGroupName;case"editors":return this.course.editorGroupName;case"instructors":return this.course.instructorGroupName;default:g("Unknown course group: "+this.courseGroup);return}}get courseGroupEntityName(){return this.allCourseGroupUsers.length===1?this.courseGroup.slice(0,-1):this.courseGroup}get exportFilename(){return this.courseGroupEntityName.charAt(0).toUpperCase()+this.courseGroupEntityName.slice(1)+" "+this.course.title}static \u0275fac=function(u){return new(u||o)};static \u0275cmp=h({type:o,selectors:[["jhi-course-group-membership"]],decls:4,vars:11,consts:[[3,"importFinish","allGroupUsers","courseGroup","isLoadingAllGroupUsers","isAdmin","course","addUserToGroup","removeUserFromGroup","handleUsersSizeChange","exportFileName","userSearch"],[3,"jhiTranslate"],[1,"text-body-secondary"],["jhiTranslate","artemisApp.course.courseGroup.outOf"]],template:function(u,t){u&1&&(s(0,"jhi-course-group",0),f("importFinish",function(){return t.loadAll()}),r(1,`
    `),c(2,E,15,6),n(),r(3,`
`)),u&2&&(l("allGroupUsers",t.allCourseGroupUsers)("courseGroup",t.courseGroup)("isLoadingAllGroupUsers",t.isLoading)("isAdmin",t.isAdmin)("course",t.course)("addUserToGroup",t.addToGroup)("removeUserFromGroup",t.removeFromGroup)("handleUsersSizeChange",t.handleUsersSizeChange)("exportFileName",t.exportFilename)("userSearch",t.userSearch),i(2),m(t.course?2:-1))},dependencies:[F,y],encapsulation:2})}return o})();export{J as CourseGroupMembershipComponent};
//# sourceMappingURL=course-group-membership.component-FOKBIN6N.js.map
