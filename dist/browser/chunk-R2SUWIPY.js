import{a as W}from"./chunk-35PLMJNP.js";import{d as _}from"./chunk-AR57MWOI.js";import{e as $}from"./chunk-CK7FH6VF.js";import{c as B}from"./chunk-BNDLMKXK.js";import{e as m}from"./chunk-5GXY5RYT.js";import{b as C}from"./chunk-R5BZWVRQ.js";import{c as w}from"./chunk-CXQURQM5.js";import{a as D,b as z,h as H}from"./chunk-M6Z6DKZQ.js";import{O as I}from"./chunk-IOA4DPXY.js";import{B as L,Ea as c,G as R,L as k,U as A,_ as K,c as x,f as p,g as j,oa as G,ya as v,z as y}from"./chunk-5LC5EQRR.js";var V=(()=>{class r{http=c(I);accountService=c(C);resourceUrl="api/assessment/exercises";create(e,t){return this.http.post(`${this.resourceUrl}/${t}/tutor-participations`,e,{observe:"response"})}assessExampleSubmission(e,t){return this.http.post(`${this.resourceUrl}/${t}/assess-example-submission`,e,{observe:"response"})}deleteTutorParticipationForGuidedTour(e,t){return e&&this.accountService.isAtLeastTutorInCourse(e)?this.http.delete(`api/exercise/guided-tour/exercises/${t.id}/example-submission`):new x}static \u0275fac=function(t){return new(t||r)};static \u0275prov=v({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var u=function(r){return r.BOTTOM="bottom",r.BOTTOMLEFT="bottom-left",r.BOTTOMRIGHT="bottom-right",r.LEFT="left",r.RIGHT="right",r.TOP="top",r.TOPLEFT="top-left",r.TOPRIGHT="top-right",r}(u||{}),h=function(r){return r[r.STARTED=0]="STARTED",r[r.FINISHED=1]="FINISHED",r}(h||{}),re=function(r){return r.TOP="top",r.LEFT="left",r.RIGHT="right",r.BOTTOM="bottom",r.ELEMENT="element",r}(re||{}),d=function(r){return r.CLICK="click",r.MONACO_EDITOR="monaco-editor",r.WAIT_FOR_SELECTOR="wait-for-selector",r.MODELING="modeling",r.ASSESS_SUBMISSION="assess-submission",r}(d||{}),ie=function(r){return r.VERTICAL="vertical",r.HORIZONTAL="horizontal",r}(ie||{}),T=function(r){return r.EXERCISE_PARTICIPATION="exercise-participation",r.TUTOR_ASSESSMENT="tutor-assessment",r.NONE="none",r}(T||{});var F=class{guidedTourKey;guidedTourStep;guidedTourState;constructor(s,e,t){this.guidedTourKey=s,this.guidedTourStep=e,this.guidedTourState=t||h.STARTED}};var M=class{highlightSelector;orientation;action;closeAction;disableStep;highlightPadding;permission;skipStepIfNoSelector;pageUrl},l=class extends M{headlineTranslateKey;subHeadlineTranslateKey;contentTranslateKey;hintTranslateKey;alreadyExecutedTranslateKey;constructor(s){super(),Object.assign(this,s)}},q=class extends l{imageUrl;constructor(s){super(s),Object.assign(this,s)}},E=class extends l{videoUrl;constructor(s){super(s),Object.assign(this,s)}},S=class extends l{userInteractionEvent;triggerNextStep;constructor(s){super(s),Object.assign(this,s)}},X=class extends S{modelingTask;constructor(s){super(s),Object.assign(this,s)}},Z=class extends S{assessmentTask;constructor(s){super(s),Object.assign(this,s)}};function O(r){let s=document.querySelector(r);s&&s.click()}function Se(r){let s=r.offsetTop;for(;r.offsetParent;)r=r.offsetParent,s+=r.offsetTop;return s}function fe(r){let s=r.offsetLeft;for(;r.offsetParent;)r=r.offsetParent,s+=r.offsetLeft;return s}function ge(r,s,e,t){let i=!0;switch(r){case u.TOPLEFT:{i=s+e+t<window.innerWidth;break}case u.BOTTOMLEFT:{i=s+e+t<window.innerWidth;break}case u.LEFT:{i=s-t>0;break}case u.TOPRIGHT:{i=s+e-t>0;break}case u.BOTTOMRIGHT:{i=s+e-t>0;break}case u.RIGHT:{i=s+e+t<window.innerWidth;break}}return i}function N(r,s){return s.indexOf("?")!==-1?r.match(s.slice(0,s.indexOf("?"))):r.match(s)}function P(r){return r.indexOf("?")!==-1?r.slice(r.indexOf("?"),r.length):""}function J(r,s){let e=r;return r.indexOf("?")!==-1&&(e=r.slice(0,r.indexOf("?"))),e.endsWith(s)}var f={settingsKey:"cancel_tour",resetParticipation:T.NONE,steps:[new l({highlightSelector:".guided-tour.dropdown-item",headlineTranslateKey:"tour.cancel.headline",contentTranslateKey:"tour.cancel.content",highlightPadding:10,orientation:u.LEFT,closeAction:()=>{O('#account-menu[aria-expanded="true"]')}})]},b={settingsKey:"completed_tour",resetParticipation:T.NONE,steps:[new l({headlineTranslateKey:"tour.completed.headline",contentTranslateKey:"tour.completed.content",hintTranslateKey:"tour.completed.hint"})]};var Q=class{umlName;taskTranslateKey;constructor(s,e){this.umlName=s,this.taskTranslateKey=e}},Ce={name:"Person",attribute:"name: String"},Fe={name:"Student",attribute:"major: String",method:"visitLecture()"},Ee={name:"Association"},Y=class{taskTranslateKey;assessmentObject;constructor(s,e){this.taskTranslateKey=s,this.assessmentObject=e}},g=class{assessments;totalScore;constructor(s,e){this.assessments=s,this.totalScore=e}};var Ve=(()=>{class r{http=c(I);accountService=c(C);router=c(H);profileService=c(B);participationService=c($);tutorParticipationService=c(V);courseService=c(_);resourceUrl="api/core/guided-tour-settings";guidedTourSettings;currentTour;restartIsLoading=!1;currentTourStepIndex=0;availableTourForComponent;onResizeMessage=!1;modelingResultCorrect=!1;assessmentObject=new g(0,0);guidedTourMapping;currentDotSubject=new p;nextDotSubject=new p;pageUrls=new Map;currentCourse;currentExercise;guidedTourCurrentStepSubject=new p;guidedTourAvailabilitySubject=new p;isUserInteractionFinishedSubject=new p;checkModelingComponentSubject=new p;isBackPageNavigation=new j(!1);isComponentPageLoaded=new p;isMobile=!1;init(){this.isMobile=W(window.navigator.userAgent).any,this.accountService.getAuthenticationState().subscribe(e=>{e&&(this.guidedTourSettings=e.guidedTourSettings?e.guidedTourSettings:[])}),this.isComponentPageLoaded.subscribe(e=>{setTimeout(()=>{e&&(this.resetUserInteractionFinishedState(this.currentStep),this.setPreparedTourStep())},1200)}),this.profileService.getProfileInfo().subscribe(e=>{e&&e.guidedTourMapping&&(this.guidedTourMapping=e.guidedTourMapping)}),this.router.events.subscribe(e=>{e instanceof D&&(this.currentExercise=void 0,this.currentCourse=void 0),e instanceof z&&(this.availableTourForComponent&&this.currentTour?(this.guidedTourCurrentStepSubject.next(void 0),this.assessmentObject=new g(0,0),this.checkNextTourStepOnNavigation()):(this.skipTour(),this.guidedTourAvailabilitySubject.next(!1)))}),R(window,"resize").pipe(A(200)).subscribe(()=>{this.currentTour&&!this.isMobile&&(this.tourMinimumScreenSize>=window.innerWidth&&!(this.currentTour.steps[this.currentTourStepIndex]instanceof E)?(this.onResizeMessage=!0,this.guidedTourCurrentStepSubject.next(new l({headlineTranslateKey:"tour.resize.headline",contentTranslateKey:"tour.resize.content"}))):this.onResizeMessage&&(this.onResizeMessage=!1,this.setPreparedTourStep()))})}checkNextTourStepOnNavigation(){if(!this.currentTour)return;let e=this.currentTour.steps[this.currentTourStepIndex],t=this.currentTour.steps[this.currentTourStepIndex+1];this.isBackPageNavigation.value?this.resetUserInteractionFinishedState(e):e&&e.userInteractionEvent&&e.userInteractionEvent===d.CLICK&&t&&t.pageUrl&&(N(this.router.url,t.pageUrl)?(this.currentDotSubject.next(this.currentTourStepIndex),this.nextDotSubject.next(this.currentTourStepIndex+1),this.currentTourStepIndex+=1,this.pageUrls.set(t.pageUrl,this.router.url)):this.currentTour&&(this.guidedTourAvailabilitySubject.next(!1),this.skipTour()))}get tourMinimumScreenSize(){return this.currentTour&&this.currentTour.minimumScreenSize?this.currentTour.minimumScreenSize:1e3}getGuidedTourCurrentStepStream(){return this.guidedTourCurrentStepSubject.asObservable()}getGuidedTourAvailabilityStream(){return this.guidedTourAvailabilitySubject.pipe(y(e=>e&&!this.isMobile))}userInteractionFinishedState(){return this.isUserInteractionFinishedSubject.asObservable()}checkModelingComponent(){return this.checkModelingComponentSubject.asObservable()}updateModelingResult(e,t){!this.currentStep||!this.currentStep.modelingTask||t&&this.currentStep.modelingTask.umlName===e&&(this.modelingResultCorrect=t,setTimeout(()=>{this.enableNextStepClick(),this.checkModelingComponentSubject.next(void 0)},0))}componentPageLoaded(){this.currentTour&&this.isComponentPageLoaded.next(!0)}isCurrentStep(e){return this.currentTour&&this.currentTour.steps?this.currentTourStepDisplay===this.currentTour.steps.indexOf(e)+1:!1}isCurrentTour(e){return this.currentTour&&this.currentTour.steps?this.currentTour.settingsKey===e.settingsKey:!1}get currentStep(){if(!(!this.currentTour||!this.currentTour.steps))return this.currentTour.steps[this.currentTourStepIndex]}getCurrentStepString(){if(!this.currentTour)return;let e=this.currentTourStepIndex+1,t=this.currentTour.steps.length;return`${e} / ${t}`}backStep(){if(!this.currentTour)return;let e=this.currentTour.steps[this.currentTourStepIndex],t=this.currentTour.steps[this.currentTourStepIndex-1];this.currentDotSubject.next(this.currentTourStepIndex),this.nextDotSubject.next(this.currentTourStepIndex-1),e?.closeAction&&e.closeAction();let i=this.determinePreviousStepLocation();e.pageUrl&&i!==this.router.url&&(this.isBackPageNavigation.next(!0),this.router.navigateByUrl(this.determinePreviousStepLocation()).then()),t?(this.currentTourStepIndex--,t.action&&t.action(),setTimeout(()=>{this.isBackPageNavigation.value||(this.resetUserInteractionFinishedState(t),this.setPreparedTourStep())})):this.resetTour()}nextStep(){if(!this.currentTour)return;let e=this.currentTour.steps[this.currentTourStepIndex],t=this.currentTour.steps[this.currentTourStepIndex+1],i=e instanceof S&&e.userInteractionEvent===d.CLICK&&this.checkSelectorValidity()?600:0;this.currentDotSubject.next(this.currentTourStepIndex),this.nextDotSubject.next(this.currentTourStepIndex+1),this.isBackPageNavigation.next(!1),e?.closeAction&&e.closeAction(),t?(this.currentTourStepIndex++,t.action&&t.action(),setTimeout(()=>{this.resetUserInteractionFinishedState(t),this.setPreparedTourStep()},i)):this.finishGuidedTour()}resetUserInteractionFinishedState(e){e instanceof S&&this.isUserInteractionFinishedSubject.next(!1)}finishGuidedTour(){if(!this.currentTour)return;if(this.currentTour.completeCallback&&this.currentTour.completeCallback(),this.isCurrentTour(b)){this.resetTour();return}this.currentTour.steps[this.currentTourStepIndex+1]?this.subscribeToAndUpdateGuidedTourSettings(h.STARTED):(this.subscribeToAndUpdateGuidedTourSettings(h.FINISHED),this.showCompletedTourStep())}skipTour(){if(this.currentTour){if(this.currentTour.skipCallback&&this.currentTour.skipCallback(this.currentTourStepIndex),this.currentTour===f||this.currentTour===b){this.resetTour();return}this.currentTourStepIndex+1===this.getFilteredTourSteps().length?this.finishGuidedTour():(this.subscribeToAndUpdateGuidedTourSettings(h.STARTED),this.showCancelHint())}}showCancelHint(){this.checkTourState(f)||(O('#account-menu[aria-expanded="false"]'),setTimeout(()=>{if(this.currentTour=m(f),this.currentTour.steps.length>0&&this.tourAllowedForWindowSize()){let t=this.currentTour.steps[this.currentTourStepIndex];t.action&&t.action(),this.setPreparedTourStep()}}))}showCompletedTourStep(){setTimeout(()=>{this.currentTour=m(b),this.currentTour.steps.length>0&&this.tourAllowedForWindowSize()&&this.setPreparedTourStep()})}subscribeToAndUpdateGuidedTourSettings(e){if(!this.currentTour||this.isCurrentTour(b)){this.resetTour();return}let t=this.checkTourState(this.currentTour,h.FINISHED)?h.FINISHED:e;this.updateGuidedTourSettings(this.currentTour.settingsKey,this.currentTourStepDisplay,t).pipe(k(i=>!!i.body)).subscribe(i=>{this.guidedTourSettings=i.body}),this.resetTour()}checkTourState(e,t){let i=this.guidedTourSettings.filter(n=>n.guidedTourKey===e.settingsKey);return t?i.length===1&&i[0].guidedTourState.toString()===h[t]:i.length>=1}getLastSeenTourStepIndex(){if(!this.availableTourForComponent||!this.guidedTourSettings)return 0;let e=this.guidedTourSettings.filter(t=>t.guidedTourKey===this.availableTourForComponent.settingsKey);return e.length!==0&&this.hasValidTourStepNumber(e)?e[0].guidedTourStep:0}getLastSeenTourStepForInit(){if(!this.availableTourForComponent)return 0;let e=this.isMultiPageTour()?this.determineTourStepForComponent():this.getLastSeenTourStepIndex();return e!==void 0?(e=this.availableTourForComponent.steps[e]?e:0,e===0?-1:e):0}isMultiPageTour(){return this.availableTourForComponent?this.availableTourForComponent.steps.filter(e=>e.pageUrl).length>0:!1}hasValidTourStepNumber(e){return e[0].guidedTourStep<=this.getFilteredTourSteps().length}determineTourStepForComponent(){let e=this.availableTourForComponent.steps.filter(t=>{let i=t.pageUrl?N(this.router.url,t.pageUrl):[];if(i&&t.pageUrl&&J(this.router.url,i[0]))return i});if(e){let t=e.find(i=>{if(i.pageUrl)return P(i.pageUrl)===P(this.router.url)});return t?this.availableTourForComponent.steps.indexOf(t):void 0}}determinePreviousStepLocation(){if(!this.availableTourForComponent)return this.router.url;let e=this.router.url,t=this.availableTourForComponent.steps.filter((i,n)=>i.pageUrl&&n<this.currentTourStepIndex);if(t){let i=t.last(),n=i&&i.pageUrl?i.pageUrl:this.router.url;this.pageUrls.has(n)&&(e=this.pageUrls.get(n))}return e}resetTour(){this.isCurrentTour(f)&&this.updateGuidedTourSettings(f.settingsKey,1,h.FINISHED),document.body.classList.remove("tour-open"),this.currentTour=void 0,this.currentTourStepIndex=0,this.guidedTourCurrentStepSubject.next(void 0),this.assessmentObject=new g(0,0)}enableUserInteraction(e,t,i){if(!this.currentTour)return;let n=this.currentTour.steps[this.currentTourStepIndex];if(t===d.WAIT_FOR_SELECTOR){let o=this.currentTour.steps[this.currentTourStepIndex+1],a=this.currentTour.steps[this.currentTourStepIndex+2];this.handleWaitForSelectorEvent(n,o,a)}else{let o={attributes:!0,childList:!0,characterData:!0};t===d.CLICK?e.addEventListener("click",()=>{n.triggerNextStep?this.nextStep():this.enableNextStepClick()},!1):t===d.MONACO_EDITOR?(e=document.querySelector(".monaco-editor .view-lines"),this.observeMutations(e,o).pipe(k(a=>a.addedNodes.length!==a.removedNodes.length&&(a.addedNodes.length>=1||a.removedNodes.length>=1))).subscribe(()=>{this.enableNextStepClick()})):t===d.MODELING?(o={childList:!0,subtree:!0},e=document.querySelector(".modeling-editor .apollon-container .apollon-editor svg"),this.modelingResultCorrect=!1,this.checkModelingComponentSubject.next(i),this.observeMutations(e,o).pipe(A(100),K()).subscribe(()=>{this.checkModelingComponentSubject.next(i),this.modelingResultCorrect&&this.enableNextStepClick()})):t===d.ASSESS_SUBMISSION&&this.isAssessmentCorrect()&&this.enableNextStepClick()}}handleWaitForSelectorEvent(e,t,i){t&&t.highlightSelector?this.waitForElement(t.highlightSelector,i?.highlightSelector,e.triggerNextStep):this.enableNextStepClick()}observeMutations=(e,t)=>new x(i=>{let n=new MutationObserver(o=>{o.forEach(a=>{i.next(a)})});return n.observe(e,t),()=>n.disconnect()});waitForElement(e,t,i){let n=setInterval(()=>{let o=document.querySelector(e),a=t?document.querySelector(t):void 0;(o||a)&&(clearInterval(n),i?this.nextStep():this.enableNextStepClick())},1e3)}enableNextStepClick(){this.isUserInteractionFinishedSubject.next(!0)}initGuidedTour(){switch(this.getLastSeenTourStepForInit()){case-1:{this.restartTour();break}default:this.startTour()}}startTour(){if(this.availableTourForComponent&&(this.currentTour=this.availableTourForComponent,this.currentTour.steps=this.getFilteredTourSteps(),this.currentTourStepIndex=this.isMultiPageTour()?this.getLastSeenTourStepForInit():this.getLastSeenTourStepForInit()-1,this.currentTour.steps.length>0&&this.tourAllowedForWindowSize())){this.currentTour.steps[this.currentTourStepIndex]||(this.currentTourStepIndex=0);let e=this.currentTour.steps[this.currentTourStepIndex];e.action&&e.action(),e.pageUrl&&this.pageUrls.set(e.pageUrl,this.router.url),this.resetUserInteractionFinishedState(e),this.setPreparedTourStep()}}restartTour(){if(this.currentCourse&&this.currentExercise&&this.availableTourForComponent)switch(this.availableTourForComponent.resetParticipation){case T.EXERCISE_PARTICIPATION:this.restartIsLoading=!0;let e=this.currentExercise.type===w.PROGRAMMING;this.participationService.findParticipationForCurrentUser(this.currentExercise.id).pipe(y(t=>t.body),L(t=>this.participationService.deleteForGuidedTour(t.id,{deleteBuildPlan:e,deleteRepository:e})),G(()=>this.deleteGuidedTourSetting(this.availableTourForComponent.settingsKey))).subscribe({next:()=>{this.navigateToUrlAfterRestart(`/courses/${this.currentCourse.id}/exercises`)},error:()=>{this.restartIsLoading=!1,this.startTour()}});break;case T.TUTOR_ASSESSMENT:this.restartIsLoading=!0,this.tutorParticipationService.deleteTutorParticipationForGuidedTour(this.currentCourse,this.currentExercise).subscribe({next:()=>{this.deleteGuidedTourSetting(this.availableTourForComponent.settingsKey).subscribe(()=>{this.navigateToUrlAfterRestart("/course-management")})},error:()=>{this.restartIsLoading=!1,this.startTour()}});break;case T.NONE:this.startTour();break}else this.startTour()}navigateToUrlAfterRestart(e){this.router.navigateByUrl(e).then(()=>{location.reload()}),window.onload=()=>{this.restartIsLoading=!1}}getFilteredTourSteps(){return this.availableTourForComponent?this.availableTourForComponent.steps.filter(e=>!e.disableStep&&(!e.permission||this.accountService.hasAnyAuthorityDirect(e.permission))):[]}tourAllowedForWindowSize(){return this.currentTour?!this.currentTour.minimumScreenSize||window.innerWidth>=this.currentTour.minimumScreenSize:!1}checkSelectorValidity(){if(!this.currentTour)return!1;let e=this.currentTour.steps[this.currentTourStepIndex];return e?!e.highlightSelector||!!document.querySelector(e.highlightSelector):(this.resetTour(),!1)}get isOnLastStep(){return this.currentTour?this.currentTour.steps.length-1===this.currentTourStepIndex:!1}get isOnFirstStep(){return this.currentTourStepIndex===0}get isOnResizeMessage(){return this.onResizeMessage}get currentTourStepDisplay(){return this.currentTourStepIndex+1}get currentTourStepCount(){return this.currentTour&&this.currentTour.steps?this.currentTour.steps.length:0}get preventBackdropFromAdvancing(){return this.currentTour?this.currentTour&&(this.currentTour.preventBackdropFromAdvancing?this.currentTour.preventBackdropFromAdvancing:!0):!1}getPreparedTourStep(){if(this.currentTour)return this.checkSelectorValidity()?this.setTourOrientation(this.currentTour.steps[this.currentTourStepIndex]):r.setStepAlreadyFinishedHint(this.currentTour.steps[this.currentTourStepIndex])}setPreparedTourStep(){let e=this.getPreparedTourStep();e?this.guidedTourCurrentStepSubject.next(e):this.nextStep()}setTourOrientation(e){if(!e)return;let t=m(e);if(t.orientation&&typeof t.orientation!="string"&&t.orientation.length){t.orientation.sort((n,o)=>o.maximumSize?n.maximumSize?o.maximumSize-n.maximumSize:-1:1);let i=u.TOP;t.orientation.forEach(n=>{(!n.maximumSize||window.innerWidth<=n.maximumSize)&&(i=n.orientationDirection)}),t.orientation=i}return t}static setStepAlreadyFinishedHint(e){if(!e.skipStepIfNoSelector)return new l({headlineTranslateKey:e.headlineTranslateKey,contentTranslateKey:e.contentTranslateKey,alreadyExecutedTranslateKey:"tour.stepAlreadyExecutedHint.text"})}updateGuidedTourSettings(e,t,i){if(!this.guidedTourSettings)throw this.resetTour(),new Error("Cannot update non-existing guided tour settings");let n=this.guidedTourSettings.findIndex(o=>o.guidedTourKey===e);return n!==-1?(this.guidedTourSettings[n].guidedTourStep=t,this.guidedTourSettings[n].guidedTourState=i):this.guidedTourSettings.push(new F(e,t,i)),this.http.put(this.resourceUrl,this.guidedTourSettings,{observe:"response"})}deleteGuidedTourSetting(e){if(!this.guidedTourSettings)throw this.resetTour(),new Error("Cannot update non-existing guided tour settings");let t=this.guidedTourSettings.findIndex(i=>i.guidedTourKey===e);return this.guidedTourSettings.splice(t,1),this.http.delete(`${this.resourceUrl}/${e}`,{observe:"response"})}enableTour(e,t){setTimeout(()=>{this.availableTourForComponent=m(e),this.guidedTourAvailabilitySubject.next(!0),!this.checkTourState(e)&&t&&this.startTour()},500)}enableTourForCourseExerciseComponent(e,t,i){if(!e||!e.exercises||!this.isGuidedTourAvailableForCourse(e))return;let n=e.exercises.find(o=>this.isGuidedTourAvailableForExercise(o,t));if(n)return this.enableTour(t,i),this.currentCourse=e,this.currentExercise=n,n}enableTourForCourseOverview(e,t,i){let n=e.find(o=>this.isGuidedTourAvailableForCourse(o));if(n)return this.guidedTourMapping.tours[t.settingsKey]===""?(this.currentCourse=n,this.enableTour(t,i)):this.courseService.findWithExercises(n.id).subscribe(o=>{if(o.body?.exercises){let U=o.body.exercises.find(ee=>this.isGuidedTourAvailableForExercise(ee,t));this.currentCourse=n,this.currentExercise=U||void 0}this.enableTour(t,i)}),n}enableTourForExercise(e,t,i){if(!(!e.course||!this.isGuidedTourAvailableForExercise(e,t)))return this.enableTour(t,i),this.currentExercise=e,this.currentCourse=e.course,e}isGuidedTourAvailableForCourse(e){return!e||!this.guidedTourMapping?!1:e.shortName===this.guidedTourMapping.courseShortName}isGuidedTourAvailableForExercise(e,t){if(!e||!this.guidedTourMapping)return!1;let i,n;return t?n=t.settingsKey:n=this.currentTour?this.currentTour.settingsKey:"",e.type===w.PROGRAMMING?i=this.guidedTourMapping.tours[n]===e.shortName:i=this.guidedTourMapping.tours[n]===e.title,i}updateAssessmentResult(e,t){this.assessmentObject.assessments=e,this.assessmentObject.totalScore=t,this.isAssessmentCorrect()&&this.enableNextStepClick()}isAssessmentCorrect(){if(this.currentStep.assessmentTask){let e=this.assessmentObject.assessments===this.currentStep.assessmentTask.assessmentObject.assessments,t=this.assessmentObject.totalScore===this.currentStep.assessmentTask.assessmentObject.totalScore;return this.currentStep.assessmentTask.assessmentObject.totalScore===0?e:e&&t}else return!1}static \u0275fac=function(t){return new(t||r)};static \u0275prov=v({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{u as a,re as b,d as c,ie as d,T as e,l as f,q as g,E as h,S as i,X as j,Z as k,O as l,Se as m,fe as n,ge as o,f as p,b as q,Q as r,Ce as s,Fe as t,Ee as u,Y as v,g as w,V as x,Ve as y};
//# sourceMappingURL=chunk-R2SUWIPY.js.map
