import{a as G,m as W}from"./chunk-CJVQ2B7U.js";import{b as k}from"./chunk-W3K7VYWC.js";import{a as V}from"./chunk-JWYCO6SY.js";import{a as r,c as _,e as A,f as o,h as v,i as b,y as U}from"./chunk-R2SUWIPY.js";import{a as F}from"./chunk-HQ6UGNQX.js";import{a as R}from"./chunk-U54OSGNH.js";import{f as I,g as L,h as K}from"./chunk-M6Z6DKZQ.js";import{n as M,s as D}from"./chunk-IOA4DPXY.js";import{Db as a,Dc as f,Ea as c,Ma as E,Mc as P,Na as y,Oc as d,Tb as T,Zb as C,dd as i,kc as h,qd as w,rd as S,sc as g,xc as l,yc as u,zc as O}from"./chunk-5LC5EQRR.js";var j={settingsKey:"course_exercise_overview_tour",resetParticipation:A.EXERCISE_PARTICIPATION,steps:[new v({headlineTranslateKey:"tour.courseExerciseOverview.installPrerequisites.headline",contentTranslateKey:"tour.courseExerciseOverview.installPrerequisites.content",videoUrl:"tour.courseExerciseOverview.installPrerequisites.videoUrl"}),new o({highlightSelector:".tab-item.exercises",headlineTranslateKey:"tour.courseExerciseOverview.exercises.headline",contentTranslateKey:"tour.courseExerciseOverview.exercises.content",highlightPadding:10,orientation:r.RIGHT}),new o({highlightSelector:".guided-tour.tab-link.statistics",headlineTranslateKey:"tour.courseExerciseOverview.statistics.headline",contentTranslateKey:"tour.courseExerciseOverview.statistics.content",highlightPadding:10,orientation:r.RIGHT}),new o({highlightSelector:".guided-tour.exercise-row-container .control-label",headlineTranslateKey:"tour.courseExerciseOverview.exerciseRow.headline",contentTranslateKey:"tour.courseExerciseOverview.exerciseRow.content",highlightPadding:10,orientation:r.TOP}),new o({highlightSelector:".course-exercise-row.guided-tour",headlineTranslateKey:"tour.courseExerciseOverview.currentExercise.headline",contentTranslateKey:"tour.courseExerciseOverview.currentExercise.content",highlightPadding:10,orientation:r.TOP}),new o({highlightSelector:".course-exercise-row.guided-tour .exercise-row-icon",headlineTranslateKey:"tour.courseExerciseOverview.exerciseType.headline",contentTranslateKey:"tour.courseExerciseOverview.exerciseType.content",highlightPadding:10,orientation:r.TOPLEFT}),new o({highlightSelector:".course-exercise-row.guided-tour .exercise-tags",headlineTranslateKey:"tour.courseExerciseOverview.exerciseTags.headline",contentTranslateKey:"tour.courseExerciseOverview.exerciseTags.content",highlightPadding:10,orientation:r.TOP}),new o({highlightSelector:".guided-tour.course-information .guided-tour.panel-wrapper",headlineTranslateKey:"tour.courseExerciseOverview.courseInformation.headline",contentTranslateKey:"tour.courseExerciseOverview.courseInformation.content",highlightPadding:10,orientation:r.LEFT}),new o({highlightSelector:".guided-tour.course-information .guided-tour.exercise-panel .guided-tour.panel-wrapper",headlineTranslateKey:"tour.courseExerciseOverview.upcomingDueDates.headline",contentTranslateKey:"tour.courseExerciseOverview.upcomingDueDates.content",highlightPadding:10,orientation:r.LEFT}),new b({highlightSelector:".course-exercise-row.guided-tour .start-exercise",headlineTranslateKey:"tour.courseExerciseOverview.startExercise.headline",contentTranslateKey:"tour.courseExerciseOverview.startExercise.content",highlightPadding:5,orientation:r.TOPLEFT,userInteractionEvent:_.CLICK,triggerNextStep:!0}),new b({highlightSelector:".course-exercise-row.guided-tour .start-exercise",headlineTranslateKey:"tour.courseExerciseOverview.startExerciseWait.headline",contentTranslateKey:"tour.courseExerciseOverview.startExerciseWait.content",highlightPadding:5,orientation:r.TOPLEFT,userInteractionEvent:_.WAIT_FOR_SELECTOR,triggerNextStep:!0}),new o({highlightSelector:".course-exercise-row.guided-tour .code-button",headlineTranslateKey:"tour.courseExerciseOverview.repositoryCreated.headline",contentTranslateKey:"tour.courseExerciseOverview.repositoryCreated.content",highlightPadding:5,orientation:r.TOPLEFT}),new v({headlineTranslateKey:"tour.courseExerciseOverview.cloneRepository.headline",contentTranslateKey:"tour.courseExerciseOverview.cloneRepository.content",hintTranslateKey:"tour.courseExerciseOverview.cloneRepository.hint",videoUrl:"tour.courseExerciseOverview.cloneRepository.videoUrl"}),new v({headlineTranslateKey:"tour.courseExerciseOverview.solveExercise.headline",contentTranslateKey:"tour.courseExerciseOverview.solveExercise.content",videoUrl:"tour.courseExerciseOverview.solveExercise.videoUrl"}),new o({highlightSelector:".course-exercise-row.guided-tour",headlineTranslateKey:"tour.courseExerciseOverview.reviewResult.headline",contentTranslateKey:"tour.courseExerciseOverview.reviewResult.content",highlightPadding:10,orientation:r.TOP})]};var N=t=>({"sidebar-collapsed":t}),z=t=>({"exercise-content-sidebar-width":t}),H=()=>({height:"90vh",position:"relative"}),Y=()=>({});function q(t,x){if(t&1&&(i(0,`
            `),l(1,"div",1),i(2,`
                `),O(3,"jhi-sidebar",2),i(4,`
            `),u(),i(5,`
        `)),t&2){let e=d(2);a(),h("ngClass",S(7,N,e.isCollapsed)),a(2),h("itemSelected",e.exerciseSelected)("courseId",e.courseId)("sidebarData",e.sidebarData)("collapseState",e.DEFAULT_COLLAPSE_STATE)("sidebarItemAlwaysShow",e.DEFAULT_SHOW_ALWAYS)("showFilter",!0)}}function B(t,x){if(t&1){let e=f();i(0,`
            `),l(1,"div",3),i(2,`
                `),l(3,"router-outlet",4),P("deactivate",function(){E(e);let n=d(2);return y(n.onSubRouteDeactivate())}),u(),i(4,`
            `),u(),i(5,`
        `)}if(t&2){let e=d(2);a(),h("ngClass",S(2,z,!e.isCollapsed))("ngStyle",e.isShownViaLti?w(4,H):w(5,Y))}}function X(t,x){t&1&&(i(0,`
            `),l(1,"div",5),i(2,`
                `),O(3,"div",6),i(4,`
            `),u(),i(5,`
        `))}function $(t,x){if(t&1&&(i(0,`
        `),C(1,q,6,9)(2,B,6,6)(3,X,6,0)),t&2){let e=d();a(),g(e.isShownViaLti?-1:1),a(),g(e.exerciseSelected?2:3)}}var J={future:{entityData:[]},current:{entityData:[]},dueSoon:{entityData:[]},past:{entityData:[]},noDate:{entityData:[]}},Q={future:!0,current:!1,dueSoon:!1,past:!0,noDate:!0},Z={future:!1,current:!1,dueSoon:!1,past:!1,noDate:!1},me=(()=>{class t{courseStorageService=c(F);route=c(I);guidedTourService=c(U);programmingSubmissionService=c(k);router=c(K);courseOverviewService=c(G);ltiService=c(V);parentParamSubscription;courseUpdatesSubscription;ltiSubscription;course;courseId;sortedExercises;exerciseForGuidedTour;exerciseSelected=!0;accordionExerciseGroups=J;sidebarData;sidebarExercises=[];isCollapsed=!1;isShownViaLti=!1;DEFAULT_COLLAPSE_STATE=Q;DEFAULT_SHOW_ALWAYS=Z;ngOnInit(){this.isCollapsed=this.courseOverviewService.getSidebarCollapseStateFromStorage("exercise"),this.parentParamSubscription=this.route.parent.params.subscribe(e=>{this.courseId=Number(e.courseId)}),this.course=this.courseStorageService.getCourse(this.courseId),this.onCourseLoad(),this.prepareSidebarData(),this.courseUpdatesSubscription=this.courseStorageService.subscribeToCourseUpdates(this.courseId).subscribe(e=>{this.course=e,this.prepareSidebarData(),this.onCourseLoad()}),this.exerciseForGuidedTour=this.guidedTourService.enableTourForCourseExerciseComponent(this.course,j,!0),this.ltiSubscription=this.ltiService.isShownViaLti$.subscribe(e=>{this.isShownViaLti=e}),this.navigateToExercise()}navigateToExercise(){let e=this.courseOverviewService.getUpcomingExercise(this.course?.exercises),s=this.getLastSelectedExercise(),n=this.route.firstChild?.snapshot?.params.exerciseId;if(!n){let p=this.router.url.split("/"),m=p.indexOf("exercises");m!==-1&&p.length===m+2&&(n=p[m+1])}!n&&s?this.router.navigate([s],{relativeTo:this.route,replaceUrl:!0}):!n&&e?this.router.navigate([e.id],{relativeTo:this.route,replaceUrl:!0}):this.exerciseSelected=!!n}toggleSidebar(){this.isCollapsed=!this.isCollapsed,this.courseOverviewService.setSidebarCollapseState("exercise",this.isCollapsed)}getLastSelectedExercise(){return sessionStorage.getItem("sidebar.lastSelectedItem.exercise.byCourse."+this.courseId)}prepareSidebarData(){this.course?.exercises&&(this.sortedExercises=this.courseOverviewService.sortExercises(this.course.exercises),this.sidebarExercises=this.courseOverviewService.mapExercisesToSidebarCardElements(this.sortedExercises),this.accordionExerciseGroups=this.courseOverviewService.groupExercisesByDueDate(this.sortedExercises),this.updateSidebarData())}updateSidebarData(){this.sidebarData={groupByCategory:!0,sidebarType:"exercise",storageId:"exercise",groupedData:this.accordionExerciseGroups,ungroupedData:this.sidebarExercises}}onCourseLoad(){this.programmingSubmissionService.initializeCacheForStudent(this.course?.exercises,!0)}onSubRouteDeactivate(){this.route.firstChild||this.navigateToExercise()}ngOnDestroy(){this.courseUpdatesSubscription?.unsubscribe(),this.parentParamSubscription?.unsubscribe(),this.ltiSubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=T({type:t,selectors:[["jhi-course-exercises"]],decls:4,vars:1,consts:[[1,"d-flex","horizontal-scroll"],[3,"ngClass"],[3,"itemSelected","courseId","sidebarData","collapseState","sidebarItemAlwaysShow","showFilter"],[1,"exercise-content-width","module-bg","rounded-3",3,"ngClass","ngStyle"],[3,"deactivate"],[1,"vw-100","module-bg","rounded-3","p-3","d-flex","justify-content-between"],["jhiTranslate","artemisApp.courseOverview.exerciseDetails.selectExercise",1,"col-12","text-center","my-auto"]],template:function(s,n){s&1&&(l(0,"div",0),i(1,`
    `),C(2,$,4,2),u(),i(3,`
`)),s&2&&(a(2),g(n.course?2:-1))},dependencies:[M,W,D,L,R],styles:[".course-body-container[_ngcontent-%COMP%]{position:relative}.refresh-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:flex-start;opacity:0;pointer-events:none;transition:.1s ease-out opacity}.refresh-overlay.active[_ngcontent-%COMP%]{background-color:var(--overview-refresh-overlay-bg-color);opacity:1;pointer-events:auto;transition:.2s ease-in opacity}.refresh-overlay[_ngcontent-%COMP%]   .ng-fa-icon[_ngcontent-%COMP%]{position:relative;top:calc(47.5vh - 150px);transform:translateY(-50%);color:var(--overview-refresh-overlay-color)}.back-button[_ngcontent-%COMP%]{cursor:pointer}.current-week-row[_ngcontent-%COMP%]    >div{background-color:var(--overview-light-primary-background-color)}.statistic-summary[_ngcontent-%COMP%]{margin-top:25px}.statistic-summary[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:flex-end;margin-bottom:20px}.statistic-summary[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-text[_ngcontent-%COMP%]{position:absolute;width:350px}.statistic-summary[_ngcontent-%COMP%]   .color-legend-container[_ngcontent-%COMP%]{margin-bottom:40px}.statistic-summary[_ngcontent-%COMP%]   .color-legend-container[_ngcontent-%COMP%]   .color-legend-entry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;width:100%}.exercise-row-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{cursor:pointer}.exercise-row-container[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{margin-top:1rem;border-bottom:1px solid var(--overview-light-border-color)}.icon-container[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;horiz-align:center}.course-information[_ngcontent-%COMP%]{padding-top:29px}.course-information[_ngcontent-%COMP%]   .exercise-panel[_ngcontent-%COMP%]   .row.has-exercises[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px}.course-information[_ngcontent-%COMP%]   .exercise-panel[_ngcontent-%COMP%]   .row.has-exercises[_ngcontent-%COMP%]:hover{background-color:var(--overview-light-background-color)}.course-information[_ngcontent-%COMP%]   .exercise-panel[_ngcontent-%COMP%]   .row.has-exercises[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:var(--primary)}.exercise-divider[_ngcontent-%COMP%]{height:0;width:100%;margin:1rem 0 .5rem;border-top:1px solid var(--overview-light-border-color)}.color-indicator[_ngcontent-%COMP%]{height:20px;width:20px;background-color:#0f6ab4;position:relative;top:-4px;margin-right:5px;border-radius:3px}canvas#complete-chart[_ngcontent-%COMP%]{z-index:99}.dev-button[_ngcontent-%COMP%]{text-align:left;color:#fff;background-color:#3e8acc;border:none;border-radius:1px}.dev-button[_ngcontent-%COMP%]:hover{background-color:#0f6ab4}.dev-button[_ngcontent-%COMP%]:active{box-shadow:0 2px 0 var(--artemis-dark)}.dev-button[_ngcontent-%COMP%]:disabled{background-color:gray}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:disabled, .btn-info[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:hover{color:#fff}@media (max-width: 768px){.col-12[_ngcontent-%COMP%]{width:100%!important}}.fadeInIcon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s;animation-iteration-count:initial}@media (max-width: 655px){.horizontal-scroll[_ngcontent-%COMP%]{overflow-x:auto}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}50%{opacity:.5}to{visibility:visible;opacity:1}}.exercise-content-sidebar-width[_ngcontent-%COMP%]{width:calc(100% - 263px)!important;transition:width .1s 0s ease-in-out}.exercise-content-width[_ngcontent-%COMP%]{width:100%;transition:width .1s 0s ease-in-out}"]})}return t})();export{me as a};
//# sourceMappingURL=chunk-ZTOZKDAN.js.map
