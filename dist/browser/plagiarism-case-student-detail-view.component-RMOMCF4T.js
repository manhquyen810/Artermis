import{a as J}from"./chunk-TGGPQ2FD.js";import{i as K}from"./chunk-JZSZQ37X.js";import"./chunk-MASKPWNP.js";import"./chunk-V26L24NP.js";import"./chunk-NOW2PQV7.js";import"./chunk-HSP5ZR73.js";import"./chunk-IIAJ6FM4.js";import"./chunk-LXDP326M.js";import"./chunk-VJKFYSDP.js";import{a as z}from"./chunk-QQZ37FI6.js";import{a as q}from"./chunk-HGMQBA4T.js";import{a as W}from"./chunk-5FAM7LIP.js";import"./chunk-SUUJN3EQ.js";import"./chunk-CCVWGTN5.js";import"./chunk-MD22LTSS.js";import"./chunk-RKZRHQUL.js";import"./chunk-RGQYMQQL.js";import"./chunk-FAFORKWV.js";import"./chunk-RTOKZMYN.js";import"./chunk-5QODR5GQ.js";import"./chunk-RNPAFOPW.js";import"./chunk-KZGAUMRM.js";import"./chunk-656XE4CO.js";import"./chunk-YGSJB6WY.js";import"./chunk-O2WHE2S3.js";import"./chunk-JJUII2KT.js";import"./chunk-U4DJRHYQ.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-PNTOXB52.js";import"./chunk-MBS3WUDO.js";import"./chunk-N4VVKRBU.js";import"./chunk-Z2YUBN6N.js";import"./chunk-AO5E7TEY.js";import"./chunk-LYZAUST5.js";import"./chunk-PH44QM5B.js";import"./chunk-GERFCPB6.js";import{a as Y,d as H}from"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-D6LEDP6W.js";import"./chunk-VWRLJYRR.js";import"./chunk-2QXIMOEO.js";import"./chunk-R2SUWIPY.js";import"./chunk-35PLMJNP.js";import{D as f,g as F}from"./chunk-QH7SWO42.js";import"./chunk-P2M2VQE3.js";import"./chunk-GXOKLIFX.js";import"./chunk-5JBXU6VG.js";import"./chunk-4I367PEU.js";import"./chunk-ZPITQMA6.js";import"./chunk-2CUFQLAH.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-YLNI6ED3.js";import"./chunk-ZFM7LHJQ.js";import"./chunk-JNO6DNVW.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-DRSQQEUE.js";import"./chunk-7XXWL6ER.js";import"./chunk-VK7JPHFE.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{a as U}from"./chunk-K3W6YFKH.js";import"./chunk-TL3DYXRE.js";import"./chunk-JXJXC4DZ.js";import{d as G}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import{p as _}from"./chunk-DID2YGL7.js";import{h as N,k as B}from"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{ca as O}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as Q}from"./chunk-U54OSGNH.js";import{f as k,i as L}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{A as v,Ad as R,Db as s,Dc as D,Ea as g,Ma as h,Mc as T,Na as S,Oc as r,Tb as P,Yc as w,Zb as p,Zc as b,_c as E,dd as e,ed as I,fd as u,gd as A,kc as d,pd as V,rd as M,sc as l,wb as y,xc as n,yc as a,yd as j,zc as o}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var Z=["post"],$=i=>({dueDate:i});function ee(i,c){if(i&1&&(e(0,`
                                `),o(1,"fa-icon",9),e(2,`
                            `)),i&2){let t=r(3);s(),d("icon",t.getIcon(t.plagiarismCase.exercise.type))}}function te(i,c){if(i&1&&(e(0,`
                        `),n(1,"p",15),e(2,`
                            `),p(3,ee,3,1),e(4),a(),e(5,`
                    `)),i&2){let t=r(2);s(3),l(t.plagiarismCase.exercise.type?3:-1),s(),u(`
                            `,t.plagiarismCase.exercise.title,`
                        `)}}function ie(i,c){if(i&1&&(e(0,`
                        `),n(1,"div",16),e(2,`
                            `),o(3,"h5",17),e(4,`
                            `),n(5,"p",18),e(6),a(),e(7,`
                        `),a(),e(8,`
                    `)),i&2){let t=r(3);s(6),u("",t.plagiarismCase.verdictPointDeduction,"\xA0%")}}function ne(i,c){if(i&1&&(e(0,`
                        `),n(1,"div",16),e(2,`
                            `),o(3,"h5",19),e(4,`
                            `),n(5,"p",18),e(6),a(),e(7,`
                        `),a(),e(8,`
                    `)),i&2){let t=r(3);s(6),I(t.plagiarismCase.verdictMessage)}}function ae(i,c){if(i&1&&(e(0,`
                `),n(1,"section"),e(2,`
                    `),p(3,ie,9,1)(4,ne,9,1),a(),e(5,`
            `)),i&2){let t=r(2);s(3),l(t.plagiarismCase.verdict===t.plagiarismVerdict.POINT_DEDUCTION?3:-1),s(),l(t.plagiarismCase.verdict===t.plagiarismVerdict.WARNING?4:-1)}}function se(i,c){if(i&1&&(e(0,`
                                        `),o(1,"h5",26),j(2,"artemisTranslate"),e(3,`
                                    `)),i&2){let t=r(4);s(),d("innerHTML",R(2,1,"artemisApp.plagiarism.replyToAccusationDueDateNotification",M(4,$,(t.plagiarismCase.createdByContinuousPlagiarismControl?t.dayjs(t.plagiarismCase.exercise.dueDate).add(t.plagiarismCase.exercise.plagiarismDetectionConfig.continuousPlagiarismControlPlagiarismCaseStudentResponsePeriod,"day"):t.posts[0].creationDate.add(7,"day")).format("DD.MM.YYYY"))),y)}}function oe(i,c){if(i&1){let t=D();e(0,`
                                `),n(1,"div",24),e(2,`
                                    `),p(3,se,4,6),n(4,"jhi-button",25),T("click",function(){h(t);let x=r(3);return S(x.postComponent.openCreateAnswerPostModal())}),a(),e(5,`
                                `),a(),e(6,`
                            `)}if(i&2){let t=r(3);s(3),l(t.posts[0].creationDate?3:-1),s(),d("btnType",t.ButtonType.WARNING)}}function re(i,c){if(i&1&&(e(0,`
                        `),n(1,"div",20),e(2,`
                            `),n(3,"div",21),e(4,`
                                `),o(5,"jhi-post",22,0),e(7,`
                            `),a(),e(8,`
                            `),p(9,oe,7,2),o(10,"div",23),e(11,`
                        `),a(),e(12,`
                    `)),i&2){let t=r(2);s(5),d("readOnlyMode",!1)("posting",t.posts[0])("showAnswers",!0)("isCommunicationPage",!1)("hasChannelModerationRights",!1),s(4),l(!(t.posts[0].answers!=null&&t.posts[0].answers.length)&&(!t.plagiarismCase.createdByContinuousPlagiarismControl||t.plagiarismCase.createdByContinuousPlagiarismControl&&t.isAfterDueDate)?9:-1)}}function le(i,c){if(i&1&&(e(0,`
                `),n(1,"section"),e(2,`
                    `),o(3,"h3",27),e(4,`
                    `),n(5,"div",28),e(6,`
                        `),o(7,"jhi-plagiarism-case-review",29),e(8,`
                    `),a(),e(9,`
                `),a(),e(10,`
            `)),i&2){let t=r(2);s(7),d("plagiarismCase",t.plagiarismCase)("forStudent",!0)}}function me(i,c){if(i&1&&(e(0,`
    `),n(1,"div",1),e(2,`
        `),n(3,"div",2),e(4,`
            `),n(5,"div",3),e(6,`
                `),n(7,"div",4),e(8,`
                    `),o(9,"h1",5),e(10,`
                `),a(),e(11,`
                `),n(12,"div",4),e(13,`
                    `),o(14,"jhi-plagiarism-case-verdict",6),e(15,`
                `),a(),e(16,`
                `),n(17,"div",7),e(18,`
                    `),n(19,"p",8),e(20,`
                        `),o(21,"fa-icon",9),e(22),a(),e(23,`
                    `),p(24,te,6,2),a(),e(25,`
                `),n(26,"div",10),e(27,`
                    `),n(28,"a",11),e(29,`
                        `),o(30,"span",12),e(31,`
                    `),a(),e(32,`
                `),a(),e(33,`
            `),a(),e(34,`
        `),a(),e(35,`
        `),n(36,"div",13),e(37,`
            `),p(38,ae,6,2),n(39,"section"),e(40,`
                `),o(41,"h3",14),e(42,`
                `),n(43,"div",3),e(44,`
                    `),p(45,re,13,6),a(),e(46,`
            `),a(),e(47,`
            `),p(48,le,11,2),a(),e(49,`
    `),a(),e(50,`
`)),i&2){let t=r();s(14),d("plagiarismCase",t.plagiarismCase),s(7),d("icon",t.faUser),s(),A(`
                        `,t.plagiarismCase.student.name," (",t.plagiarismCase.student.login,`)
                    `),s(2),l(t.plagiarismCase!=null&&t.plagiarismCase.exercise?24:-1),s(4),d("routerLink",t.affectedExerciseRouterLink),s(10),l(t.plagiarismCase.verdict?38:-1),s(7),l(t.posts&&t.posts.length>0?45:-1),s(3),l(t.isAfterDueDate?48:-1)}}var Ve=(()=>{class i{metisService=g(f);plagiarismCasesService=g(W);activatedRoute=g(k);postComponent;ButtonType=Y;courseId;plagiarismCaseId;plagiarismCase;paramSubscription;plagiarismVerdict=q;getIcon=N;faUser=O;pageType=F.PLAGIARISM_CASE_STUDENT;postsSubscription;posts;affectedExerciseRouterLink;isAfterDueDate;dayjs=_;ngOnInit(){this.paramSubscription=v({ancestorParams:this.activatedRoute.parent.params,params:this.activatedRoute.params}).subscribe(({ancestorParams:t,params:m})=>{this.courseId=t.courseId,this.plagiarismCaseId=Number(m.plagiarismCaseId),this.plagiarismCase?.id!==this.plagiarismCaseId&&this.plagiarismCasesService.getPlagiarismCaseDetailForStudent(this.courseId,this.plagiarismCaseId).subscribe({next:x=>{this.plagiarismCase=x.body;let C=this.plagiarismCase?.exercise?.exerciseGroup?.exam?.id;C?this.affectedExerciseRouterLink=["/courses",this.courseId,"exams",C]:this.affectedExerciseRouterLink=["/courses",this.courseId,"exercises",this.plagiarismCase.exercise.id],this.metisService.setCourse(B(this.plagiarismCase.exercise)),this.metisService.setPageType(this.pageType),this.metisService.getFilteredPosts({plagiarismCaseId:this.plagiarismCase.id});let X=_();this.isAfterDueDate=X.isAfter(this.plagiarismCase.exercise?.dueDate)}})}),this.postsSubscription=this.metisService.posts.pipe().subscribe(t=>{this.posts=t})}ngOnDestroy(){this.paramSubscription?.unsubscribe(),this.postsSubscription?.unsubscribe()}static \u0275fac=function(m){return new(m||i)};static \u0275cmp=P({type:i,selectors:[["jhi-plagiarism-case-student-detail-view"]],viewQuery:function(m,x){if(m&1&&w(Z,5),m&2){let C;b(C=E())&&(x.postComponent=C.first)}},features:[V([f])],decls:1,vars:1,consts:[["post",""],[1,"plagiarism-case"],[1,"case-header"],[1,"row"],[1,"col-12","col-lg-6","col-xl-3","d-flex","align-items-center"],["jhiTranslate","artemisApp.plagiarism.plagiarismCases.plagiarismCase",1,"h2"],[1,"my-2",3,"plagiarismCase"],[1,"col-12","col-lg-6","col-xl-3","d-flex","flex-column"],[1,"mb-1","text-truncate"],[3,"icon"],[1,"col-12","col-lg-6","col-xl-3","d-flex","align-items-center","justify-content-xl-end"],[1,"btn","btn-secondary",3,"routerLink"],["jhiTranslate","artemisApp.plagiarism.plagiarismCases.exercise"],[1,"case-body"],["jhiTranslate","artemisApp.plagiarism.plagiarismCases.conversation"],[1,"mb-0","text-truncate"],[1,"alert","alert-danger"],["jhiTranslate","artemisApp.plagiarism.plagiarismCases.verdict.pointDeduction"],[1,"mb-0"],["jhiTranslate","artemisApp.plagiarism.plagiarismCases.verdict.warning"],[1,"row","mb-2","col-12"],[1,"col-12"],[3,"readOnlyMode","posting","showAnswers","isCommunicationPage","hasChannelModerationRights"],[1,"mt-3"],[1,"alert","alert-warning","my-2"],["title","artemisApp.plagiarism.replyToAccusation",3,"click","btnType"],[3,"innerHTML"],["jhiTranslate","artemisApp.plagiarism.plagiarismCases.comparisons",1,"mt-5"],[1,"container-fluid"],[3,"plagiarismCase","forStudent"]],template:function(m,x){m&1&&p(0,me,51,9),m&2&&l(x.plagiarismCase?0:-1)},dependencies:[Q,z,G,L,K,H,J,U],styles:[".plagiarism-case[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:-1rem;margin-top:0}.plagiarism-case[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]{background-color:var(--artemis-dark);color:#fff;flex-shrink:0;padding:1.5rem}.plagiarism-case[_ngcontent-%COMP%]   .case-body[_ngcontent-%COMP%]{padding:1.5rem}"]})}return i})();export{Ve as PlagiarismCaseStudentDetailViewComponent};
//# sourceMappingURL=plagiarism-case-student-detail-view.component-RMOMCF4T.js.map
