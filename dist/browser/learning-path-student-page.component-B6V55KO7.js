import{a as De}from"./chunk-V5J5J5LX.js";import{a as Me}from"./chunk-3K3H4QXB.js";import"./chunk-DJL2LECX.js";import"./chunk-VAR4Y7O3.js";import{a as T,b as Ue,e as Ae}from"./chunk-L7ISDZQQ.js";import"./chunk-EWZHEKEG.js";import"./chunk-62MHDQHX.js";import"./chunk-JMXR2R6B.js";import"./chunk-VDG3BHQZ.js";import"./chunk-LPGL4A37.js";import"./chunk-5XX2X5VF.js";import"./chunk-6FT4PREA.js";import"./chunk-6I3MUES2.js";import"./chunk-A4MOLMZQ.js";import"./chunk-VOBYQYWS.js";import"./chunk-LZCUSXEX.js";import"./chunk-NPMFKF37.js";import"./chunk-S5MKSB5U.js";import"./chunk-U6AELCVK.js";import"./chunk-QGGSPP32.js";import"./chunk-FNJRUM5G.js";import"./chunk-DMHWBHTD.js";import"./chunk-57BCHYEO.js";import"./chunk-ND2AMZB2.js";import"./chunk-JZSZQ37X.js";import"./chunk-MASKPWNP.js";import"./chunk-NOW2PQV7.js";import"./chunk-HGMQBA4T.js";import{a as Oe,b as Ne,c as Te,d as Ie,e as Ee}from"./chunk-TXYCUEEB.js";import"./chunk-477H2IQN.js";import"./chunk-KIXGOQMJ.js";import"./chunk-UBFIUABE.js";import"./chunk-KNK6NHCW.js";import"./chunk-FLTLUO4X.js";import"./chunk-GM5QZPKO.js";import"./chunk-IJRVZ46L.js";import"./chunk-NUC4ZXFE.js";import"./chunk-FLFES4R7.js";import"./chunk-47G2PPX4.js";import"./chunk-AYOCTQ7R.js";import"./chunk-SBDPY7ZH.js";import"./chunk-MVBHDJDH.js";import"./chunk-POPNQ63B.js";import"./chunk-RPFDXKEJ.js";import"./chunk-SKB5UJGX.js";import"./chunk-TBEJU7WR.js";import"./chunk-SUUJN3EQ.js";import"./chunk-CCVWGTN5.js";import"./chunk-MD22LTSS.js";import"./chunk-RKZRHQUL.js";import"./chunk-5PWC33TE.js";import"./chunk-A2A6JFSH.js";import"./chunk-MD6Z63OB.js";import"./chunk-M2FHCXD3.js";import"./chunk-RGQYMQQL.js";import"./chunk-SLVT6IA5.js";import"./chunk-FAFORKWV.js";import"./chunk-FLZTDUOG.js";import"./chunk-4NYYKXW4.js";import"./chunk-5A2TLSYI.js";import"./chunk-MY22ELD7.js";import"./chunk-T4L3VFV2.js";import"./chunk-YSX3GO3R.js";import"./chunk-W3K7VYWC.js";import"./chunk-QU4DXSXD.js";import"./chunk-MNX6OTP5.js";import"./chunk-RTOKZMYN.js";import"./chunk-5QODR5GQ.js";import"./chunk-RNPAFOPW.js";import"./chunk-KZGAUMRM.js";import"./chunk-656XE4CO.js";import"./chunk-YGSJB6WY.js";import"./chunk-O2WHE2S3.js";import"./chunk-JJUII2KT.js";import"./chunk-U4DJRHYQ.js";import"./chunk-JRBFEQNN.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-PNTOXB52.js";import"./chunk-MBS3WUDO.js";import"./chunk-22YQSX6Z.js";import"./chunk-R56P6PAY.js";import"./chunk-65Z25AP3.js";import"./chunk-5M3YV54C.js";import"./chunk-RYZEETVB.js";import"./chunk-VTF2OQPK.js";import"./chunk-BNRTXX46.js";import"./chunk-VPHPBAVR.js";import"./chunk-N4VVKRBU.js";import"./chunk-5AQXEKLE.js";import"./chunk-3JSWSN6W.js";import"./chunk-7XNS72RJ.js";import"./chunk-KYCCMZSV.js";import"./chunk-DXTZ4GAW.js";import"./chunk-2UXGFGK3.js";import"./chunk-O4VJ5OXY.js";import"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-OTNXTVPX.js";import"./chunk-245YX7R6.js";import"./chunk-Z2YUBN6N.js";import"./chunk-OTCBNILH.js";import"./chunk-AO5E7TEY.js";import"./chunk-PA7LJOOC.js";import"./chunk-AOI2U3YC.js";import"./chunk-USOMQCKZ.js";import"./chunk-6EYB5QBP.js";import"./chunk-LYZAUST5.js";import"./chunk-MYJYCKA4.js";import"./chunk-PH44QM5B.js";import"./chunk-GERFCPB6.js";import"./chunk-HQTS6JOY.js";import"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-D6LEDP6W.js";import"./chunk-VWRLJYRR.js";import"./chunk-2QXIMOEO.js";import"./chunk-KK6FVDB6.js";import"./chunk-JHBUBEY6.js";import"./chunk-R2SUWIPY.js";import"./chunk-35PLMJNP.js";import"./chunk-QH7SWO42.js";import"./chunk-P2M2VQE3.js";import"./chunk-GXOKLIFX.js";import"./chunk-5JBXU6VG.js";import"./chunk-4I367PEU.js";import"./chunk-QA7Y7QBM.js";import{b as je}from"./chunk-ZPITQMA6.js";import"./chunk-AZBLKUAM.js";import"./chunk-2CUFQLAH.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import{a as ye,f as we}from"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import{c as Se}from"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-UHM5AJSI.js";import"./chunk-CT44YL7Q.js";import"./chunk-YLNI6ED3.js";import"./chunk-ZFM7LHJQ.js";import"./chunk-JNO6DNVW.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import{b as se,c as me,e as de,f as pe,g as ge,h as F,i as E,q as ue,r as he,s as ve,t as $,v as _e}from"./chunk-VZRSC3LP.js";import{c as le}from"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-DRSQQEUE.js";import"./chunk-7XXWL6ER.js";import"./chunk-GG62Q4DZ.js";import"./chunk-VK7JPHFE.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import"./chunk-K3W6YFKH.js";import"./chunk-TL3DYXRE.js";import{c as j}from"./chunk-JXJXC4DZ.js";import{d as A,f as M}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Ba as U,Bc as fe,H as xe,P as Ce,Tc as Le,Uc as Pe,Zc as be}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as O}from"./chunk-U54OSGNH.js";import{f as ce}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{n as re}from"./chunk-IOA4DPXY.js";import{Db as c,Dc as f,Ea as p,Lb as J,Ma as x,Mb as K,Mc as _,Na as C,Oc as s,Pc as Z,Pd as w,Qc as ee,Qd as P,Rd as S,Tb as y,Ya as R,Za as b,Zb as h,ab as v,ad as te,bd as ne,cd as ie,dd as e,ed as I,fd as ae,kc as d,lc as W,sc as u,sd as oe,uc as Y,vc as B,w as Q,wc as q,xc as a,ya as z,yc as o,z as X,zc as m}from"./chunk-5LC5EQRR.js";import{a as G,b as H,j as L}from"./chunk-3E746U5Y.js";var N=(()=>{class n{learningPathApiService=p(T);alertService=p(j);isLoading=v(!1);learningPathNavigation=v(void 0);currentLearningObject=P(()=>this.learningPathNavigation()?.currentLearningObject);isCurrentLearningObjectCompleted=v(!1);loadLearningPathNavigation(t){return L(this,null,function*(){try{this.isLoading.set(!0);let i=yield this.learningPathApiService.getLearningPathNavigation(t);this.learningPathNavigation.set(i)}catch(i){this.alertService.error(i)}finally{this.isLoading.set(!1)}})}loadRelativeLearningPathNavigation(t,i){return L(this,null,function*(){try{let r=yield this.learningPathApiService.getRelativeLearningPathNavigation(t,i.id,i.type,i.competencyId);this.learningPathNavigation.set(r)}catch(r){this.alertService.error(r)}})}completeLearningPath(){this.learningPathNavigation.set({predecessorLearningObject:this.currentLearningObject(),progress:100})}setCurrentLearningObjectCompletion(t){this.isCurrentLearningObjectCompleted.set(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $e=(n,l)=>({"selected-learning-object":n,clickable:l});function Ge(n,l){if(n&1&&(e(0,`
                    `),m(1,"span",2),e(2,`
                    `),m(3,"fa-icon",3),e(4,`
                `)),n&2){let t=s(3);c(3),d("icon",t.faLock)}}function He(n,l){if(n&1&&(e(0,`
                    `),a(1,"span",4),e(2),o(),e(3,`
                `)),n&2){let t=s().$implicit;c(2),I(t.name)}}function Qe(n,l){if(n&1&&(e(0,`
                    `),m(1,"fa-icon",5),e(2,`
                `)),n&2){let t=s(3);c(),d("icon",t.faCheckCircle)}}function Xe(n,l){n&1&&(e(0,`
                    `),a(1,"div",6),e(2,`
                        `),a(3,"small",7)(4,"strong"),m(5,"span",8),o()(),e(6,`
                    `),o(),e(7,`
                `))}function ze(n,l){n&1&&(e(0,`
                `),m(1,"hr",9),e(2,`
            `))}function Je(n,l){if(n&1){let t=f();e(0,`
            `),a(1,"div",1),_("click",function(){let r=x(t).$implicit,g=s(2);return C(g.selectLearningObject(r))}),e(2,`
                `),h(3,Ge,5,1)(4,He,4,1)(5,Qe,3,1)(6,Xe,8,0),o(),e(7,`
            `),h(8,ze,3,0)}if(n&2){let t,i,r=l.$implicit,g=l.$index,k=l.$count,V=s(2);c(),d("ngClass",oe(4,$e,((t=V.currentLearningObject())==null?null:t.id)===r.id&&((t=V.currentLearningObject())==null?null:t.type)===r.type,!r.unreleased)),c(2),u(r.unreleased?3:4),c(2),u(r.completed?5:((i=V.nextLearningObjectOnPath())==null?null:i.id)===r.id?6:-1),c(3),u(g!==k-1?8:-1)}}function Ke(n,l){n&1&&(e(0,`
            `),a(1,"div",10),e(2,`
                `),a(3,"em")(4,"small"),m(5,"span",11),o()(),e(6,`
            `),o(),e(7,`
        `))}function We(n,l){if(n&1&&(e(0,`
        `),B(1,Je,9,7,null,null,Y,!1,Ke,8,0)),n&2){let t=s();c(),q(t.learningObjects())}}function Ye(n,l){n&1&&(e(0,`
        `),a(1,"div",12),e(2,`
            `),a(3,"div",13),e(4,`
                `),m(5,"span",14),e(6,`
            `),o(),e(7,`
        `),o(),e(8,`
    `))}var Ve=(()=>{class n{faCheckCircle=U;faLock=Ce;alertService=p(j);learningPathApiService=p(T);learningPathNavigationService=p(N);learningPathId=b.required();competencyId=b.required();currentCompetencyIdOnPath=b.required();currentLearningObject=this.learningPathNavigationService.currentLearningObject;isLoading=v(!1);learningObjects=v(void 0);nextLearningObjectOnPath=P(()=>this.competencyId()===this.currentCompetencyIdOnPath()?this.learningObjects()?.find(t=>!t.completed):void 0);onLearningObjectSelected=R();constructor(){S(()=>{w(()=>this.loadLearningObjects())})}loadLearningObjects(){return L(this,null,function*(){if(!this.learningObjects())try{this.isLoading.set(!0);let t=yield this.learningPathApiService.getLearningPathCompetencyLearningObjects(this.learningPathId(),this.competencyId());this.learningObjects.set(t)}catch(t){this.alertService.error(t)}finally{this.isLoading.set(!1)}})}selectLearningObject(t){return L(this,null,function*(){t.unreleased||(yield this.learningPathNavigationService.loadRelativeLearningPathNavigation(this.learningPathId(),t),this.onLearningObjectSelected.emit())})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=y({type:n,selectors:[["jhi-learning-path-nav-overview-learning-objects"]],inputs:{learningPathId:[1,"learningPathId"],competencyId:[1,"competencyId"],currentCompetencyIdOnPath:[1,"currentCompetencyIdOnPath"]},outputs:{onLearningObjectSelected:"onLearningObjectSelected"},decls:5,vars:1,consts:[[1,"bg-light"],[1,"row","p-3","m-0","align-items-center",3,"click","ngClass"],["jhiTranslate","artemisApp.learningPath.navigation.overview.unreleasedLearningObjectLabel",1,"col-md-auto","p-0","text-muted"],[1,"col-md-auto","text-muted",3,"icon"],[1,"col-md-auto","p-0"],[1,"col-md-auto","text-success",3,"icon"],[1,"ms-2","col-md-auto","next-learning-object-container"],[1,"font-bold"],["jhiTranslate","artemisApp.learningPath.navigation.overview.nextLearningObjectOnPathLabel"],[1,"m-0","p-0"],[1,"p-3","empty-learning-objects-label"],["jhiTranslate","artemisApp.learningPath.navigation.overview.emptyLearningObjectsLabel"],[1,"row","justify-content-center","p-2"],["role","status",1,"spinner-border","text-primary"],["jhiTranslate","loading",1,"sr-only"]],template:function(i,r){i&1&&(a(0,"div",0),e(1,`
    `),h(2,We,4,1)(3,Ye,9,0),o(),e(4,`
`)),i&2&&(c(2),u(r.learningObjects()?2:3))},dependencies:[E,M,A,O,re],styles:[".selected-learning-object[_ngcontent-%COMP%]{background:var(--overview-light-background-color);color:#6ea8fe}.empty-learning-objects-label[_ngcontent-%COMP%]{color:var(--bs-secondary-color)}.next-learning-object-container[_ngcontent-%COMP%]{color:var(--bs-white);padding:2px 8px;border-radius:var(--bs-border-radius-lg);background-color:var(--bs-yellow)}"],changeDetection:0})}return n})();var et=(n,l)=>l.id;function tt(n,l){n&1&&(e(0,`
        `),a(1,"div",6),e(2,`
            `),a(3,"div",7),e(4,`
                `),m(5,"span",8),e(6,`
            `),o(),e(7,`
        `),o(),e(8,`
    `))}function nt(n,l){if(n&1&&(e(0,`
                                `),m(1,"fa-icon",16),e(2,`
                            `)),n&2){let t=s(3);c(),d("icon",t.faCheckCircle)}}function it(n,l){if(n&1){let t=f();e(0,`
                                `),a(1,"jhi-learning-path-nav-overview-learning-objects",17),_("onLearningObjectSelected",function(){x(t);let r=s(3);return C(r.selectLearningObject())}),o(),e(2,`
                            `)}if(n&2){let t,i=s().$implicit,r=s(2);c(),d("learningPathId",r.learningPathId())("competencyId",i.id)("currentCompetencyIdOnPath",(t=r.currentCompetencyOnPath())==null?null:t.id)}}function at(n,l){if(n&1&&(e(0,`
                `),a(1,"div",10),e(2,`
                    `),a(3,"div",11),e(4,`
                        `),a(5,"button",12),e(6,`
                            `),a(7,"span",13),e(8),o(),e(9,`
                            `),h(10,nt,3,1),o(),e(11,`
                    `),o(),e(12,`
                    `),a(13,"div",14),e(14,`
                        `),a(15,"div",15),e(16,`
                            `),h(17,it,3,3,"ng-template"),e(18,`
                        `),o(),e(19,`
                    `),o(),e(20,`
                `),o(),e(21,`
            `)),n&2){let t=l.$implicit,i=s(2);c(),d("collapsed",i.currentCompetencyId()!==t.id),c(7),I(t.title),c(2),u(t.masteryProgress===1?10:-1)}}function ot(n,l){if(n&1&&(e(0,`
        `),a(1,"div",9),e(2,`
            `),B(3,at,22,3,null,null,et),o(),e(5,`
    `)),n&2){let t=s();c(3),q(t.competencies())}}var Fe=(()=>{class n{faCheckCircle=U;alertService=p(j);modalService=p(_e);learningPathApiService=p(T);learningPathNavigationService=p(N);learningPathId=b.required();competencyAccordion=K.required(F);onLearningObjectSelected=R();isLoading=v(!1);competencies=v([]);currentCompetencyId=P(()=>this.learningPathNavigationService.currentLearningObject()?.competencyId);currentCompetencyOnPath=P(()=>this.competencies()?.find(t=>t.masteryProgress<1));constructor(){S(()=>{let t=this.learningPathId();w(()=>this.loadCompetencies(t))})}loadCompetencies(t){return L(this,null,function*(){try{this.isLoading.set(!0);let i=yield this.learningPathApiService.getLearningPathCompetencies(t);this.competencies.set(i)}catch(i){this.alertService.error(i)}finally{this.isLoading.set(!1)}})}selectLearningObject(){this.onLearningObjectSelected.emit(),this.competencyAccordion().collapseAll()}openCompetencyGraph(){Ae.openCompetencyGraphModal(this.modalService,this.learningPathId(),void 0)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=y({type:n,selectors:[["jhi-learning-path-nav-overview"]],viewQuery:function(i,r){i&1&&te(r.competencyAccordion,F,5),i&2&&ne()},inputs:{learningPathId:[1,"learningPathId"]},outputs:{onLearningObjectSelected:"onLearningObjectSelected"},decls:20,vars:1,consts:[[1,"row","justify-content-between","align-items-center","w-100","m-0","p-3"],["jhiTranslate","artemisApp.learningPath.navigation.overview.title",1,"col-md-auto","p-0","fw-bold"],[1,"col-md-auto","p-0"],["id","open-competency-graph-button","type","button",1,"btn","btn-outline-secondary",3,"click"],["jhiTranslate","artemisApp.learningPath.navigation.overview.showCompetenciesGraphButton"],[1,"m-0"],[1,"row","justify-content-center","m-4"],["role","status",1,"spinner-border","text-primary"],["jhiTranslate","loading",1,"sr-only"],["ngbAccordion","",1,"nav-overview-competencies","accordion-flush"],["ngbAccordionItem","",3,"collapsed"],["ngbAccordionHeader",""],["ngbAccordionButton","",1,"row","px-3","m-0"],[1,"col-md-auto","p-0","fw-bold"],["ngbAccordionCollapse",""],["ngbAccordionBody","",1,"p-0","overflow-hidden"],[1,"col-md-auto","text-success",3,"icon"],[3,"onLearningObjectSelected","learningPathId","competencyId","currentCompetencyIdOnPath"]],template:function(i,r){i&1&&(a(0,"div"),e(1,`
    `),a(2,"div",0),e(3,`
        `),m(4,"span",1),e(5,`
        `),a(6,"div",2),e(7,`
            `),a(8,"button",3),_("click",function(){return r.openCompetencyGraph()}),e(9,`
                `),m(10,"span",4),e(11,`
            `),o(),e(12,`
        `),o(),e(13,`
    `),o(),e(14,`
    `),m(15,"hr",5),e(16,`
    `),h(17,tt,9,0)(18,ot,6,0),o(),e(19,`
`)),i&2&&(c(17),u(r.isLoading()?17:r.competencies()?18:-1))},dependencies:[M,A,$,E,de,F,ge,pe,se,me,Ve,O],styles:[".nav-overview-competencies[_ngcontent-%COMP%]{max-height:400px;overflow-y:scroll}.nav-overview-competencies[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{background:var(--module-bg);color:var(--module-text);box-shadow:none;border-bottom:var(--bs-border-width) solid var(--bs-dropdown-border-color)}.nav-overview-competencies[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{background-image:var(--bs-accordion-btn-icon)}.nav-overview-competencies[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]   .current-competency-container[_ngcontent-%COMP%]{color:var(--bs-white);padding:2px 8px;border-radius:var(--bs-border-radius-lg);background-color:var(--bs-yellow)}.nav-overview-competencies[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{background:var(--module-bg)}"],changeDetection:0})}return n})();function rt(n,l){if(n&1&&(e(0,`
                                    `),m(1,"fa-icon",16),e(2,`
                                `)),n&2){let t=s(2);c(),d("icon",t.faSpinner)}}function ct(n,l){if(n&1&&(e(0,`
                                    `),m(1,"fa-icon",17),e(2,`
                                `)),n&2){let t=s(2);c(),d("icon",t.faChevronLeft)}}function lt(n,l){if(n&1){let t=f();e(0,`
                    `),a(1,"div",11),e(2,`
                        `),a(3,"button",12),_("click",function(){let r=x(t),g=s();return C(g.selectLearningObject(r,!1))}),e(4,`
                            `),a(5,"div",13),e(6,`
                                `),h(7,rt,3,1)(8,ct,3,1),o(),e(9,`
                            `),m(10,"span",14),e(11,`
                        `),o(),e(12,`
                    `),o(),e(13,`
                    `),a(14,"span",15),e(15),o(),e(16,`
                `)}if(n&2){let t=s();c(7),u(t.isLoadingPredecessor()?7:8),c(8),I(l.name)}}function st(n,l){if(n&1&&(e(0,`
                    `),a(1,"span",18),e(2),o(),e(3,`
                `)),n&2){let t,i=s();c(2),ae(`
                        `,(t=i.currentLearningObject())==null?null:t.name,`
                    `)}}function mt(n,l){n&1&&(e(0,`
                    `),m(1,"span",19),e(2,`
                `))}function dt(n,l){if(n&1){let t=f();e(0,`
                    `),a(1,"jhi-learning-path-nav-overview",20),_("onLearningObjectSelected",function(){x(t),s();let r=ie(12);return C(r.close())}),o(),e(2,`
                `)}if(n&2){let t=s();c(),d("learningPathId",t.learningPathId())}}function pt(n,l){if(n&1&&(e(0,`
                                    `),m(1,"fa-icon",16),e(2,`
                                `)),n&2){let t=s(2);c(),d("icon",t.faSpinner)}}function gt(n,l){if(n&1&&(e(0,`
                                    `),m(1,"fa-icon",17),e(2,`
                                `)),n&2){let t=s(2);c(),d("icon",t.faChevronRight)}}function ut(n,l){if(n&1){let t=f();e(0,`
                    `),a(1,"span",21),e(2),o(),e(3,`
                    `),a(4,"div",11),e(5,`
                        `),a(6,"button",22),_("click",function(){let r=x(t),g=s();return C(g.selectLearningObject(r,!0))}),e(7,`
                            `),m(8,"span",23),e(9,`
                            `),a(10,"div",24),e(11,`
                                `),h(12,pt,3,1)(13,gt,3,1),o(),e(14,`
                        `),o(),e(15,`
                    `),o(),e(16,`
                `)}if(n&2){let t=s();c(2),I(l.name),c(10),u(t.isLoadingSuccessor()?12:13)}}function ht(n,l){if(n&1){let t=f();e(0,`
                    `),a(1,"div",11),e(2,`
                        `),a(3,"button",25),_("click",function(){x(t);let r=s();return C(r.completeLearningPath())}),e(4,`
                            `),m(5,"fa-icon",17),e(6,`
                            `),m(7,"span",26),e(8,`
                        `),o(),e(9,`
                    `),o(),e(10,`
                `)}if(n&2){let t=s();c(5),d("icon",t.faFlag)}}var Re=(()=>{class n{faChevronDown=fe;faCheckCircle=U;faFlag=xe;faSpinner=be;faChevronLeft=Le;faChevronRight=Pe;learningPathNavigationService=p(N);learningPathId=b.required();isLoading=this.learningPathNavigationService.isLoading;isLoadingPredecessor=v(!1);isLoadingSuccessor=v(!1);learningPathNavigation=this.learningPathNavigationService.learningPathNavigation;learningPathProgress=P(()=>this.learningPathNavigation()?.progress??0);predecessorLearningObject=P(()=>this.learningPathNavigation()?.predecessorLearningObject);currentLearningObject=P(()=>this.learningPathNavigation()?.currentLearningObject);successorLearningObject=P(()=>this.learningPathNavigation()?.successorLearningObject);isDropdownOpen=v(!1);constructor(){S(()=>{let t=this.learningPathId();w(()=>this.learningPathNavigationService.loadLearningPathNavigation(t))})}selectLearningObject(t,i){return L(this,null,function*(){let r=i?this.isLoadingSuccessor:this.isLoadingPredecessor;r.set(!0),yield this.learningPathNavigationService.loadRelativeLearningPathNavigation(this.learningPathId(),t),r.set(!1)})}completeLearningPath(){this.learningPathNavigationService.completeLearningPath()}setIsDropdownOpen(t){this.isDropdownOpen.set(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=y({type:n,selectors:[["jhi-learning-path-student-nav"]],inputs:{learningPathId:[1,"learningPathId"]},decls:41,vars:7,consts:[["navOverview","ngbDropdown"],[1,"row","justify-content-between"],[1,"col-4"],[1,"row","justify-content-start","align-items-center"],["ngbDropdown","",1,"col-4","dropdown",3,"openChange"],["type","button","id","navigation-overview","ngbDropdownToggle","",1,"row","justify-content-center","align-items-center","h-100"],[1,"col-md-auto","ps-0",3,"icon"],["ngbDropdownMenu","","aria-labelledby","navigation-overview",1,"mt-3","col","p-0"],[1,"row","justify-content-end","align-items-center"],["role","progressbar",1,"progress","my-3",2,"height","2px"],[1,"progress-bar"],[1,"col-md-auto"],["id","previous-button","type","button",1,"btn","btn-secondary","d-flex","justify-content-center",3,"click"],[1,"me-1","loading-icon-container"],["jhiTranslate","artemisApp.learningPath.navigation.previousButton"],[1,"col","ps-3","text-truncate","text-secondary"],["animation","spin",3,"icon"],[3,"icon"],[1,"col-md-auto","fw-bold"],["jhiTranslate","artemisApp.learningPath.navigation.recapLabel",1,"col-md-auto","fw-bold"],[3,"onLearningObjectSelected","learningPathId"],[1,"col","text-end","pe-3","text-truncate","text-secondary"],["id","next-button","type","button",1,"btn","btn-primary","d-flex","justify-content-center",3,"click"],["jhiTranslate","artemisApp.learningPath.navigation.nextButton"],[1,"ms-1","loading-icon-container"],["id","complete-button","type","button",1,"btn","btn-primary",3,"click"],["jhiTranslate","artemisApp.learningPath.navigation.completeButton"]],template:function(i,r){if(i&1){let g=f();a(0,"div"),e(1,`
    `),a(2,"div",1),e(3,`
        `),a(4,"div",2),e(5,`
            `),a(6,"div",3),e(7,`
                `),h(8,lt,17,2),o(),e(9,`
        `),o(),e(10,`
        `),a(11,"div",4,0),_("openChange",function(V){return x(g),C(r.setIsDropdownOpen(V))}),e(13,`
            `),a(14,"div",5),e(15,`
                `),h(16,st,4,1)(17,mt,3,0),m(18,"fa-icon",6),e(19,`
            `),o(),e(20,`
            `),a(21,"div",7),e(22,`
                `),h(23,dt,3,1),o(),e(24,`
        `),o(),e(25,`
        `),a(26,"div",2),e(27,`
            `),a(28,"div",8),e(29,`
                `),h(30,ut,17,2)(31,ht,11,1),o(),e(32,`
        `),o(),e(33,`
    `),o(),e(34,`
    `),a(35,"div",9),e(36,`
        `),m(37,"div",10),e(38,`
    `),o(),e(39,`
`),o(),e(40,`
`)}if(i&2){let g,k;c(8),u((g=r.predecessorLearningObject())?8:-1,g),c(8),u(r.currentLearningObject()?16:17),c(2),d("icon",r.faChevronDown),c(5),u(r.isDropdownOpen()?23:-1),c(7),u((k=r.successorLearningObject())?30:r.currentLearningObject()&&!r.successorLearningObject()?31:-1,k),c(7),W("width",r.learningPathProgress(),"%")}},dependencies:[$,ve,he,ue,E,M,A,Fe,O],styles:[".progress[_ngcontent-%COMP%]{margin-left:-1rem;margin-right:-1rem}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-menu[_ngcontent-%COMP%]{width:500px;box-shadow:0 8px 12px 0 var(--lecture-unit-card-shadow)}.loading-icon-container[_ngcontent-%COMP%]{width:15px}"],changeDetection:0})}return n})();function vt(n,l){n&1&&(e(0,`
    `),a(1,"div",0),e(2,`
        `),a(3,"div",1),e(4,`
            `),m(5,"span",2),e(6,`
        `),o(),e(7,`
    `),o(),e(8,`
`))}function _t(n,l){if(n&1){let t=f();e(0,`
                    `),a(1,"jhi-video-unit",5),_("onCompletion",function(r){x(t);let g=s(2);return C(g.setLearningObjectCompletion(r))}),o(),e(2,`
                `)}if(n&2){let t=s();c(),d("lectureUnit",t)}}function xt(n,l){if(n&1){let t=f();e(0,`
                    `),a(1,"jhi-text-unit",5),_("onCompletion",function(r){x(t);let g=s(2);return C(g.setLearningObjectCompletion(r))}),o(),e(2,`
                `)}if(n&2){let t=s();c(),d("lectureUnit",t)}}function Ct(n,l){if(n&1){let t=f();e(0,`
                    `),a(1,"jhi-attachment-unit",5),_("onCompletion",function(r){x(t);let g=s(2);return C(g.setLearningObjectCompletion(r))}),o(),e(2,`
                `)}if(n&2){let t=s();c(),d("lectureUnit",t)}}function ft(n,l){if(n&1&&(e(0,`
                    `),m(1,"jhi-exercise-unit",6),e(2,`
                `)),n&2){let t=s();c(),d("exerciseUnit",t)}}function Lt(n,l){if(n&1){let t=f();e(0,`
                    `),a(1,"jhi-online-unit",5),_("onCompletion",function(r){x(t);let g=s(2);return C(g.setLearningObjectCompletion(r))}),o(),e(2,`
                `)}if(n&2){let t=s();c(),d("lectureUnit",t)}}function Pt(n,l){if(n&1&&(e(0,`
            `),a(1,"div",7),e(2,`
                `),m(3,"jhi-discussion-section",8),e(4,`
            `),o(),e(5,`
        `)),n&2){let t=s(2);c(3),d("lecture",t.lecture())}}function bt(n,l){if(n&1&&(e(0,`
    `),a(1,"div",3),e(2,`
        `),a(3,"div",4),e(4,`
            `),h(5,_t,3,1)(6,xt,3,1)(7,Ct,3,1)(8,ft,3,1)(9,Lt,3,1),e(10,`
        `),o(),e(11,`
        `),h(12,Pt,6,1),o(),e(13,`
`)),n&2){let t,i=s();c(5),u((t=l.type)===i.LectureUnitType.VIDEO?5:t===i.LectureUnitType.TEXT?6:t===i.LectureUnitType.ATTACHMENT?7:t===i.LectureUnitType.EXERCISE?8:t===i.LectureUnitType.ONLINE?9:-1),c(7),u(i.isCommunicationEnabled()?12:-1)}}var Be=(()=>{class n{LectureUnitType=ye;lectureUnitService=p(we);learningPathNavigationService=p(N);alertService=p(j);lectureUnitId=b.required();isLoading=v(!1);lectureUnit=v(void 0);lecture=P(()=>this.lectureUnit()?.lecture);isCommunicationEnabled=P(()=>je(this.lecture()?.course));constructor(){S(()=>{let t=this.lectureUnitId();w(()=>this.loadLectureUnit(t))})}loadLectureUnit(t){return L(this,null,function*(){try{this.isLoading.set(!0);let i=yield Q(this.lectureUnitService.getLectureUnitById(t));this.lectureUnit.set(i)}catch(i){this.alertService.error(i)}finally{this.isLoading.set(!1)}})}setLearningObjectCompletion(t){this.lectureUnitService.completeLectureUnit(this.lectureUnit().lecture,t),this.lectureUnit()?.completed===t.completed&&this.learningPathNavigationService.setCurrentLearningObjectCompletion(t.completed)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=y({type:n,selectors:[["jhi-learning-path-lecture-unit"]],inputs:{lectureUnitId:[1,"lectureUnitId"]},decls:2,vars:2,consts:[[1,"row","justify-content-center","m-4"],["role","status",1,"spinner-border","text-primary"],["jhiTranslate","loading",1,"sr-only"],[1,"row","m-0"],[1,"col","p-0"],[3,"onCompletion","lectureUnit"],[3,"exerciseUnit"],[1,"col-md-auto","p-0","ms-2"],[3,"lecture"]],template:function(i,r){if(i&1&&h(0,vt,9,0)(1,bt,14,2),i&2){let g;u(r.isLoading()?0:-1),c(),u((g=r.lectureUnit())?1:-1,g)}},dependencies:[Te,Ie,Oe,Ee,Me,O,Ne],encapsulation:2,changeDetection:0})}return n})();var yt=["*"],qe=(()=>{class n{courseId=b.required();exerciseId=b.required();viewContainerRef=p(J);constructor(){S(()=>{this.viewContainerRef.clear();let t=this.viewContainerRef.createComponent(De);t.instance.courseId=this.courseId(),t.instance.exerciseId=this.exerciseId(),t.instance.learningPathMode=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=y({type:n,selectors:[["jhi-learning-path-exercise"]],inputs:{courseId:[1,"courseId"],exerciseId:[1,"exerciseId"]},ngContentSelectors:yt,decls:2,vars:0,template:function(i,r){i&1&&(Z(),ee(0),e(1,`
`))},encapsulation:2,changeDetection:0})}return n})();function St(n,l){n&1&&(e(0,`
        `),a(1,"div",1),e(2,`
            `),a(3,"div",2),e(4,`
                `),m(5,"span",3),e(6,`
            `),o(),e(7,`
        `),o(),e(8,`
    `))}function wt(n,l){if(n&1&&(e(0,`
                `),m(1,"jhi-learning-path-lecture-unit",6),e(2,`
            `)),n&2){let t=s(2);c(),d("lectureUnitId",t.currentLearningObject().id)}}function jt(n,l){if(n&1&&(e(0,`
                `),m(1,"jhi-learning-path-exercise",7),e(2,`
            `)),n&2){let t=s(2);c(),d("courseId",t.courseId())("exerciseId",t.currentLearningObject().id)}}function Ot(n,l){n&1&&(e(0,`
                `),a(1,"div",8),e(2,`
                    `),a(3,"div",9),e(4,`
                        `),m(5,"h3",10),e(6,`
                        `),m(7,"div",11),e(8,`
                    `),o(),e(9,`
                `),o(),e(10,`
            `))}function Nt(n,l){if(n&1&&(e(0,`
        `),m(1,"jhi-learning-path-student-nav",4),e(2,`
        `),a(3,"div",5),e(4,`
            `),h(5,wt,3,1)(6,jt,3,2)(7,Ot,11,0),o(),e(8,`
    `)),n&2){let t,i=s();c(),d("learningPathId",i.learningPath().id),c(4),u(((t=i.currentLearningObject())==null?null:t.type)===i.LearningObjectType.LECTURE?5:((t=i.currentLearningObject())==null?null:t.type)===i.LearningObjectType.EXERCISE?6:i.isLearningPathNavigationLoading()?-1:7)}}function Tt(n,l){if(n&1){let t=f();e(0,`
        `),a(1,"div",8),e(2,`
            `),a(3,"div",9),e(4,`
                `),m(5,"h3",12),e(6,`
                `),m(7,"div",13),e(8,`
                `),a(9,"button",14),_("click",function(){x(t);let r=s();return C(r.startLearningPath())}),o(),e(10,`
            `),o(),e(11,`
        `),o(),e(12,`
    `)}}var ri=(()=>{class n{LearningObjectType=Ue;learningApiService=p(T);learningPathNavigationService=p(N);alertService=p(j);activatedRoute=p(ce);isLearningPathLoading=v(!1);learningPath=v(void 0);courseId=le(this.activatedRoute.parent.params.pipe(X(t=>Number(t.courseId))),{requireSync:!0});currentLearningObject=this.learningPathNavigationService.currentLearningObject;isLearningPathNavigationLoading=this.learningPathNavigationService.isLoading;constructor(){S(()=>{let t=this.courseId();w(()=>this.loadLearningPath(t))})}loadLearningPath(t){return L(this,null,function*(){try{this.isLearningPathLoading.set(!0);let i=yield this.learningApiService.getLearningPathForCurrentUser(t);this.learningPath.set(i)}catch(i){i.status!=404&&Se(this.alertService,i)}finally{this.isLearningPathLoading.set(!1)}})}startLearningPath(){return L(this,null,function*(){try{if(this.isLearningPathLoading.set(!0),!this.learningPath()){let t=yield this.learningApiService.generateLearningPathForCurrentUser(this.courseId());this.learningPath.set(t)}yield this.learningApiService.startLearningPathForCurrentUser(this.learningPath().id),this.learningPath.update(t=>H(G({},t),{startedByStudent:!0}))}catch(t){this.alertService.error(t)}finally{this.isLearningPathLoading.set(!1)}})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=y({type:n,selectors:[["jhi-learning-path-student-page"]],decls:6,vars:1,consts:[[1,"col","learning-path-student-page"],[1,"row","justify-content-center","align-items-center","h-100"],["role","status",1,"spinner-border","text-primary"],["jhiTranslate","loading",1,"sr-only"],[3,"learningPathId"],[1,"learning-path-student-content"],[3,"lectureUnitId"],[3,"courseId","exerciseId"],[1,"row","align-items-center","justify-content-center","h-100","w-100"],[1,"learning-path-no-content-container"],["jhiTranslate","artemisApp.learningPath.completion.title",1,"mb-3"],["jhiTranslate","artemisApp.learningPath.completion.description"],["jhiTranslate","artemisApp.learningPath.generation.title",1,"mb-3"],["jhiTranslate","artemisApp.learningPath.generation.description"],["type","button","id","start-learning-path-button","jhiTranslate","artemisApp.learningPath.generation.generateButton",1,"mt-4","btn","btn-primary",3,"click"]],template:function(i,r){i&1&&(a(0,"div",0),e(1,`
    `),h(2,St,9,0)(3,Nt,9,2)(4,Tt,13,0),o(),e(5,`
`)),i&2&&(c(2),u(r.isLearningPathLoading()?2:r.learningPath()&&r.learningPath().startedByStudent?3:4))},dependencies:[Re,Be,qe,O],styles:[".learning-path-student-page[_ngcontent-%COMP%]{height:calc(100vh - var(--sidebar-footer-height-dev) - 6.25rem)}.learning-path-student-page[_ngcontent-%COMP%]   .learning-path-student-content[_ngcontent-%COMP%]{height:calc(100vh - var(--sidebar-footer-height-dev) - 10.65rem);overflow:auto}.learning-path-student-page[_ngcontent-%COMP%]   .learning-path-no-content-container[_ngcontent-%COMP%]{max-width:500px;text-align:center}"],changeDetection:0})}return n})();export{ri as LearningPathStudentPageComponent};
//# sourceMappingURL=learning-path-student-page.component-B6V55KO7.js.map
