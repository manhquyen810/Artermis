{
  "version": 3,
  "sources": ["src/main/webapp/app/exercises/shared/exercise/exercise-cache.service.ts"],
  "sourcesContent": ["import { Injectable, inject } from '@angular/core';\r\nimport { ExerciseService } from 'app/exercises/shared/exercise/exercise.service';\r\nimport dayjs from 'dayjs/esm';\r\nimport { Observable, of, tap } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ExerciseCacheService {\r\n    private exerciseService = inject(ExerciseService);\r\n\r\n    latestDueDateByExerciseId: Map<number, dayjs.Dayjs> = new Map();\r\n\r\n    public getLatestDueDate(exerciseId: number): Observable<dayjs.Dayjs | undefined> {\r\n        const cachedLatestDueDate = this.latestDueDateByExerciseId.get(exerciseId);\r\n        if (cachedLatestDueDate) {\r\n            return of(cachedLatestDueDate);\r\n        }\r\n\r\n        return this.exerciseService.getLatestDueDate(exerciseId).pipe(\r\n            tap((latestDueDate) => {\r\n                if (latestDueDate) {\r\n                    this.latestDueDateByExerciseId.set(exerciseId, latestDueDate);\r\n                }\r\n            }),\r\n        );\r\n    }\r\n}\r\n"],
  "mappings": "wGAMA,IAAaA,GAAoB,IAAA,CAA3B,MAAOA,CAAoB,CACrBC,gBAAkBC,EAAOC,CAAe,EAEhDC,0BAAsD,IAAIC,IAEnDC,iBAAiBC,EAAkB,CACtC,IAAMC,EAAsB,KAAKJ,0BAA0BK,IAAIF,CAAU,EACzE,OAAIC,EACOE,EAAGF,CAAmB,EAG1B,KAAKP,gBAAgBK,iBAAiBC,CAAU,EAAEI,KACrDC,EAAKC,GAAiB,CACdA,GACA,KAAKT,0BAA0BU,IAAIP,EAAYM,CAAa,CAEpE,CAAC,CAAC,CAEV,4CAlBSb,EAAoB,6BAApBA,EAAoBe,QAApBf,EAAoBgB,SAAA,CAAA,SAApBhB,CAAoB,GAAA",
  "names": ["ExerciseCacheService", "exerciseService", "inject", "ExerciseService", "latestDueDateByExerciseId", "Map", "getLatestDueDate", "exerciseId", "cachedLatestDueDate", "get", "of", "pipe", "tap", "latestDueDate", "set", "factory", "\u0275fac"]
}
