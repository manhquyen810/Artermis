import{b as m}from"./chunk-R5BZWVRQ.js";import{O as p}from"./chunk-IOA4DPXY.js";import{Ea as n,ra as c,ya as a,z as u}from"./chunk-5LC5EQRR.js";var g=(()=>{class s{http=n(p);accountService=n(m);resourceUrl="api/exam/courses";find(e,t,r){return this.http.get(`${this.resourceUrl}/${e}/exams/${t}/student-exams/${r}`,{observe:"response"}).pipe(c(o=>this.processStudentExam(o?.body?.studentExam)))}findAllForExam(e,t){return this.http.get(`${this.resourceUrl}/${e}/exams/${t}/student-exams`,{observe:"response"}).pipe(u(r=>this.processStudentExams(r)))}updateWorkingTime(e,t,r,o){return this.http.patch(`${this.resourceUrl}/${e}/exams/${t}/student-exams/${r}/working-time`,o,{observe:"response"}).pipe(c(i=>this.processStudentExam(i?.body??void 0)))}toggleSubmittedState(e,t,r,o){let i=`${this.resourceUrl}/${e}/exams/${t}/student-exams/${r}/toggle-to-`;return o?this.http.put(i+"unsubmitted",{},{observe:"response"}):this.http.put(i+"submitted",{},{observe:"response"})}processStudentExam(e){e?.exam?.course&&this.accountService.setAccessRightsForCourse(e.exam.course)}processStudentExams(e){return e.body.forEach(t=>{t.exam?.course&&this.accountService.setAccessRightsForCourse(t.exam.course)}),e}getLongestWorkingTimeForExam(e,t){return this.http.get(`${this.resourceUrl}/${e}/exams/${t}/longest-working-time`)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();export{g as a};
//# sourceMappingURL=chunk-KOWVADWF.js.map
