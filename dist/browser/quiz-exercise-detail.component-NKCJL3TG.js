import{a as P,b as k}from"./chunk-C7F7TEC3.js";import{a as B}from"./chunk-TDXQOKRD.js";import{a as L,b as G,d as R}from"./chunk-64RPW7Y5.js";import{a as V}from"./chunk-DMHWBHTD.js";import"./chunk-57BCHYEO.js";import{a as N}from"./chunk-W2XOXZZX.js";import{b as _}from"./chunk-IJRVZ46L.js";import"./chunk-SUUJN3EQ.js";import"./chunk-I5BNMRWY.js";import"./chunk-CWEZ7BG4.js";import{a as z,b as A}from"./chunk-LFOGFBTL.js";import"./chunk-GXLYQKDJ.js";import"./chunk-HTZAAFOQ.js";import"./chunk-3GEJHWIQ.js";import"./chunk-XX5ZSHAB.js";import"./chunk-HPCUFM6M.js";import"./chunk-RTRBZQHM.js";import"./chunk-3A7JIXAS.js";import"./chunk-GOZO62KC.js";import"./chunk-YUF2Y3HT.js";import"./chunk-CCVWGTN5.js";import"./chunk-MD22LTSS.js";import"./chunk-RKZRHQUL.js";import"./chunk-JCAGYDTX.js";import"./chunk-OI2L2OHD.js";import"./chunk-4RRONT5E.js";import"./chunk-5PWC33TE.js";import"./chunk-A2A6JFSH.js";import"./chunk-MD6Z63OB.js";import"./chunk-M2FHCXD3.js";import"./chunk-RGQYMQQL.js";import"./chunk-EAC2ODNH.js";import"./chunk-SLVT6IA5.js";import"./chunk-FAFORKWV.js";import"./chunk-YOWUV6EQ.js";import"./chunk-X3HHHVRJ.js";import"./chunk-EHCOTJGL.js";import"./chunk-FLZTDUOG.js";import"./chunk-4NYYKXW4.js";import"./chunk-5A2TLSYI.js";import"./chunk-MY22ELD7.js";import"./chunk-T4L3VFV2.js";import"./chunk-YSX3GO3R.js";import"./chunk-W3K7VYWC.js";import"./chunk-QU4DXSXD.js";import"./chunk-2OQEG3U2.js";import"./chunk-GAUWMTOK.js";import"./chunk-656XE4CO.js";import"./chunk-YGSJB6WY.js";import"./chunk-O2WHE2S3.js";import"./chunk-JJUII2KT.js";import"./chunk-U4DJRHYQ.js";import"./chunk-BIKLNSC4.js";import"./chunk-QZKVSIAC.js";import"./chunk-JRBFEQNN.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-PNTOXB52.js";import{a as O}from"./chunk-2DI3RHO4.js";import"./chunk-MBS3WUDO.js";import"./chunk-22YQSX6Z.js";import"./chunk-R56P6PAY.js";import"./chunk-65Z25AP3.js";import"./chunk-5M3YV54C.js";import"./chunk-RYZEETVB.js";import"./chunk-VTF2OQPK.js";import"./chunk-BNRTXX46.js";import"./chunk-VPHPBAVR.js";import"./chunk-N4VVKRBU.js";import"./chunk-5AQXEKLE.js";import"./chunk-3JSWSN6W.js";import"./chunk-7XNS72RJ.js";import"./chunk-KYCCMZSV.js";import"./chunk-DXTZ4GAW.js";import"./chunk-2UXGFGK3.js";import"./chunk-O4VJ5OXY.js";import"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-OTNXTVPX.js";import"./chunk-Z2YUBN6N.js";import"./chunk-OTCBNILH.js";import"./chunk-PA7LJOOC.js";import"./chunk-AOI2U3YC.js";import"./chunk-USOMQCKZ.js";import"./chunk-6EYB5QBP.js";import"./chunk-GERFCPB6.js";import"./chunk-T624HJJL.js";import"./chunk-HQTS6JOY.js";import"./chunk-HMZID6NQ.js";import"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-ZK23IHB5.js";import"./chunk-2QXIMOEO.js";import"./chunk-JHBUBEY6.js";import"./chunk-R2SUWIPY.js";import"./chunk-35PLMJNP.js";import{a as j}from"./chunk-UDBRF4PR.js";import"./chunk-5JBXU6VG.js";import"./chunk-4I367PEU.js";import"./chunk-QA7Y7QBM.js";import"./chunk-ZPITQMA6.js";import"./chunk-HK7MJBP6.js";import"./chunk-2CUFQLAH.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-ZFM7LHJQ.js";import"./chunk-JNO6DNVW.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-VK7JPHFE.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import"./chunk-K3W6YFKH.js";import"./chunk-JXJXC4DZ.js";import"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import{p}from"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as M}from"./chunk-U54OSGNH.js";import{f as I}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import{c as b}from"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Db as o,Dc as v,Ea as d,Ma as E,Mc as S,Na as h,Oc as c,Tb as w,Zb as C,dd as t,fd as T,kc as x,sc as m,x as Q,xc as r,yc as a,zc as l}from"./chunk-5LC5EQRR.js";import{a as y,b as g,j as D}from"./chunk-3E746U5Y.js";function W(i,q){if(i&1){let e=v();t(0,`
                    `),r(1,"jhi-quiz-exercise-lifecycle-buttons",6),S("loadOne",function(){E(e);let s=c(2);return h(s.load())})("handleNewQuizExercise",function(){E(e);let s=c(2);return h(s.load())}),a(),t(2,`
                `)}if(i&2){let e=c(2);o(),x("quizExercise",e.quizExercise)}}function J(i,q){if(i&1&&(t(0,`
                    `),r(1,"div",7),t(2,`
                        `),l(3,"jhi-exercise-detail-statistics",8),t(4,`
                    `),a(),t(5,`
                `)),i&2){let e=c(2);o(3),x("exercise",e.quizExercise)("doughnutStats",e.statistics)("exerciseType",e.quizExercise.type)}}function K(i,q){if(i&1&&(t(0,`
                    `),l(1,"jhi-detail-overview-list",9),t(2,`
                `)),i&2){let e=c(2);o(),x("sections",e.detailOverviewSections)}}function X(i,q){if(i&1){let e=v();t(0,`
            `),r(1,"div"),t(2,`
                `),r(3,"div",2),t(4,`
                    `),r(5,"h2"),l(6,"span",3),t(7),a(),t(8,`
                    `),l(9,"jhi-documentation-button",4),t(10,`
                `),a(),t(11,`
                `),l(12,"hr"),t(13,`
                `),r(14,"jhi-quiz-exercise-manage-buttons",5),S("loadQuizExercises",function(){E(e);let s=c();return h(s.load())}),a(),t(15,`
                `),l(16,"hr"),t(17,`
                `),C(18,W,3,1)(19,J,6,3)(20,K,3,1),a(),t(21,`
        `)}if(i&2){let e=c();o(7),T(" ",e.quizExercise.id,""),o(2),x("type",e.documentationType),o(5),x("quizExercise",e.quizExercise)("isDetailPage",!0),o(4),m(e.isExamMode?-1:18),o(),m(e.showStatistics?19:-1),o(),m(e.detailOverviewSections?20:-1)}}var Ee=(()=>{class i{route=d(I);quizExerciseService=d(V);statisticsService=d(O);translateService=d(b);documentationType="Quiz";dayjs=p;courseId;examId;quizId;isExamMode;showStatistics;quizExercise;statistics;detailOverviewSections;ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.examId=Number(this.route.snapshot.paramMap.get("examId")),this.quizId=Number(this.route.snapshot.paramMap.get("exerciseId"));let e=Number(this.route.snapshot.paramMap.get("exerciseGroupId"));this.examId&&e&&(this.isExamMode=!0),this.load()}load(){this.quizExerciseService.find(this.quizId).subscribe(e=>D(this,null,function*(){this.quizExercise=e.body,this.quizExercise.quizBatches=this.quizExercise.quizBatches?.sort((n,s)=>(n.id??0)-(s.id??0)),this.quizExercise.isEditable=B(this.quizExercise),this.quizExercise.status=this.quizExerciseService.getStatus(this.quizExercise),this.quizExercise.startDate=this.quizExercise.dueDate&&p(this.quizExercise.dueDate).subtract(this.quizExercise.duration??0,"second"),this.showStatistics=!this.quizExercise.releaseDate||p(this.quizExercise.releaseDate).isBefore(p()),this.showStatistics&&(this.statistics=yield Q(this.statisticsService.getExerciseStatistics(this.quizId))),this.detailOverviewSections=this.getExerciseDetailSections()}))}getExerciseDetailSections(){let e=this.quizExercise,n=this.quizExercise.quizQuestions?.filter(u=>u.type===_.MULTIPLE_CHOICE)?.length??0,s=this.quizExercise.quizQuestions?.filter(u=>u.type===_.DRAG_AND_DROP)?.length??0,F=this.quizExercise.quizQuestions?.filter(u=>u.type===_.SHORT_ANSWER)?.length??0,H=L(e),f=G(e),U=R(e);return e.competencyLinks?.length&&f.details.push({title:"artemisApp.competency.link.title",type:z.Text,data:{text:e.competencyLinks?.map(u=>u.competency?.title).join(", ")}}),[H,g(y({},f),{details:[...f.details,{type:z.Boolean,title:"artemisApp.quizExercise.randomizeQuestionOrder",data:{boolean:e.randomizeQuestionOrder}},{type:z.Text,title:"artemisApp.quizExercise.quizMode.title",data:{text:this.translateService.instant("artemisApp.quizExercise.quizMode."+e.quizMode?.toLowerCase()).toUpperCase()}},{type:z.Text,title:"artemisApp.quizExercise.detail.questionCount.title",data:{text:this.translateService.instant("artemisApp.quizExercise.detail.questionCount.value",{mcCount:n,dndCount:s,shortCount:F})}}]}),{headline:"artemisApp.exercise.sections.grading",details:U}]}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=w({type:i,selectors:[["jhi-quiz-exercise-detail"]],decls:7,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-md-8"],[1,"d-flex","align-items-center"],["jhiTranslate","artemisApp.quizExercise.detail.title"],[3,"type"],[3,"loadQuizExercises","quizExercise","isDetailPage"],[3,"loadOne","handleNewQuizExercise","quizExercise"],[1,"mt-3"],[1,"d-flex","justify-content-around",3,"exercise","doughnutStats","exerciseType"],[3,"sections"]],template:function(n,s){n&1&&(r(0,"div",0),t(1,`
    `),r(2,"div",1),t(3,`
        `),C(4,X,22,7),a(),t(5,`
`),a(),t(6,`
`)),n&2&&(o(4),m(s.quizExercise?4:-1))},dependencies:[M,j,P,k,N,A],encapsulation:2})}return i})();export{Ee as QuizExerciseDetailComponent};
//# sourceMappingURL=quiz-exercise-detail.component-NKCJL3TG.js.map
