import{d as l}from"./chunk-CK7FH6VF.js";import{b as h,e as v}from"./chunk-PUNMJFMR.js";import{a as f}from"./chunk-G3JOQOSD.js";import{b as x}from"./chunk-CT44YL7Q.js";import{L as a,O as b}from"./chunk-IOA4DPXY.js";import{Ea as m,ya as c,z as n}from"./chunk-5LC5EQRR.js";var I=(()=>{class p{http=m(b);submissionService=m(l);create(e,t){let s=this.submissionService.convert(e);return this.http.post(`api/text/exercises/${t}/text-submissions`,s,{observe:"response"}).pipe(n(o=>this.submissionService.convertResponse(o)))}update(e,t){let s=this.submissionService.convert(e);return this.http.put(`api/text/exercises/${t}/text-submissions`,x(s),{headers:{"Content-Type":"application/json"},observe:"response"}).pipe(n(o=>this.submissionService.convertResponse(o)))}getTextSubmission(e){return this.http.get(`api/text/text-submissions/${e}`,{observe:"response"}).pipe(n(t=>t.body))}getSubmissions(e,t,s=0){let o=`api/text/exercises/${e}/text-submissions`,i=f(t);return s!==0&&(i=i.set("correction-round",s.toString())),this.http.get(o,{observe:"response",params:i}).pipe(n(u=>this.submissionService.convertArrayResponse(u)))}getSubmissionWithoutAssessment(e,t,s=0){let o=`api/text/exercises/${e}/text-submission-without-assessment`,i=new a;return s!==0&&(i=i.set("correction-round",s.toString())),t&&(i=i.set(t,"true")),this.http.get(o,{observe:"response",params:i}).pipe(n(u=>{let r=u.body;if(r)return v(r,h(r)),r.participation.submissions=[r],r.participation.results=[r.latestResult],r}))}static \u0275fac=function(t){return new(t||p)};static \u0275prov=c({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();export{I as a};
//# sourceMappingURL=chunk-HSP5ZR73.js.map
