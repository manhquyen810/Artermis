{
  "version": 3,
  "sources": ["src/main/webapp/app/assessment/assessment-warning/assessment-warning.component.ts"],
  "sourcesContent": ["import { Component, Input, OnChanges } from '@angular/core';\r\nimport dayjs from 'dayjs/esm';\r\nimport { Exercise } from 'app/entities/exercise.model';\r\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons';\r\nimport { Submission } from 'app/entities/submission.model';\r\nimport { FaIconComponent } from '@fortawesome/angular-fontawesome';\r\nimport { TranslateDirective } from 'app/shared/language/translate.directive';\r\n\r\n/**\r\n * Displays a warning for instructors on submission page, team page and the assessment page.\r\n * Instructors are allowed to access and assess submissions before the exercise's due date is reached\r\n * and student submission would still be possible.\r\n */\r\n@Component({\r\n    selector: 'jhi-assessment-warning',\r\n    template: `\r\n        <h6>\r\n            @if (showWarning) {\r\n                <div class=\"card-header\">\r\n                    <fa-icon [icon]=\"faExclamationTriangle\" size=\"2x\" class=\"text-warning\" placement=\"bottom auto\" />\r\n                    @if (isBeforeExerciseDueDate) {\r\n                        <span jhiTranslate=\"artemisApp.assessment.dashboard.warning\"></span>\r\n                    }\r\n                    @if (!isBeforeExerciseDueDate) {\r\n                        <span jhiTranslate=\"artemisApp.assessment.dashboard.warningIndividual\"></span>\r\n                    }\r\n                </div>\r\n            }\r\n        </h6>\r\n    `,\r\n    imports: [FaIconComponent, TranslateDirective],\r\n})\r\nexport class AssessmentWarningComponent implements OnChanges {\r\n    @Input() exercise: Exercise;\r\n    @Input() submissions: Submission[] = [];\r\n\r\n    isBeforeExerciseDueDate = false;\r\n    showWarning = false;\r\n\r\n    // Icons\r\n    faExclamationTriangle = faExclamationTriangle;\r\n\r\n    /**\r\n     * Checks if the due date of the exercise is over\r\n     */\r\n    ngOnChanges() {\r\n        if (this.exercise.dueDate) {\r\n            const now = dayjs();\r\n            this.isBeforeExerciseDueDate = now.isBefore(this.exercise.dueDate);\r\n            this.showWarning = now.isBefore(this.getLatestDueDate()) && !this.exercise.allowFeedbackRequests;\r\n        }\r\n    }\r\n\r\n    private getLatestDueDate(): dayjs.Dayjs | undefined {\r\n        return this.submissions\r\n            .map((submission) => submission.participation?.individualDueDate)\r\n            .reduce((latest, next) => (next && next.isAfter(latest) ? next : latest), this.exercise.dueDate);\r\n    }\r\n}\r\n"],
  "mappings": "gTAqBwBA,EAAA,EAAA;yBAAA,EAAAC,EAAA,EAAA,OAAA,CAAA,EACJD,EAAA,EAAA;qBAAA,yBAEIA,EAAA,EAAA;yBAAA,EAAAC,EAAA,EAAA,OAAA,CAAA,EACJD,EAAA,EAAA;qBAAA,4BAPJA,EAAA,EAAA;iBAAA,EAAAE,EAAA,EAAA,MAAA,CAAA,EACIF,EAAA,EAAA;qBAAA,EAAAC,EAAA,EAAA,UAAA,CAAA,EACAD,EAAA,EAAA;qBAAA,EAAAG,EAAA,EAAAC,EAAA,EAAA,CAAA,EAA+B,EAAAC,EAAA,EAAA,CAAA,EAMnCC,EAAA,EACJN,EAAA,EAAA;aAAA,kBARiBO,EAAA,CAAA,EAAAC,EAAA,OAAAC,EAAAC,qBAAA,EACTH,EAAA,CAAA,EAAAI,EAAAF,EAAAG,wBAAA,EAAA,EAAA,EAGAL,EAAA,EAAAI,EAAAF,EAAAG,wBAAA,GAAA,CAAA,GASpB,IAAaC,GAA0B,IAAA,CAAjC,MAAOA,CAA0B,CAC1BC,SACAC,YAA4B,CAAA,EAErCH,wBAA0B,GAC1BI,YAAc,GAGdN,sBAAwBA,EAKxBO,aAAW,CACP,GAAI,KAAKH,SAASI,QAAS,CACvB,IAAMC,EAAMC,EAAK,EACjB,KAAKR,wBAA0BO,EAAIE,SAAS,KAAKP,SAASI,OAAO,EACjE,KAAKF,YAAcG,EAAIE,SAAS,KAAKC,iBAAgB,CAAE,GAAK,CAAC,KAAKR,SAASS,qBAC/E,CACJ,CAEQD,kBAAgB,CACpB,OAAO,KAAKP,YACPS,IAAKC,GAAeA,EAAWC,eAAeC,iBAAiB,EAC/DC,OAAO,CAACC,EAAQC,IAAUA,GAAQA,EAAKC,QAAQF,CAAM,EAAIC,EAAOD,EAAS,KAAKf,SAASI,OAAO,CACvG,4CAzBSL,EAA0B,2BAA1BA,EAA0BmB,UAAA,CAAA,CAAA,wBAAA,CAAA,EAAAC,OAAA,CAAAnB,SAAA,WAAAC,YAAA,aAAA,EAAAmB,SAAA,CAAAC,CAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,aAAA,EAAA,CAAA,OAAA,KAAA,YAAA,cAAA,EAAA,eAAA,EAAA,MAAA,EAAA,CAAA,eAAA,yCAAA,EAAA,CAAA,eAAA,mDAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,IAhB/BxC,EAAA,EAAA;SAAA,EAAAE,EAAA,EAAA,IAAA,EACIF,EAAA,EAAA;aAAA,EAAAG,EAAA,EAAAuC,EAAA,EAAA,CAAA,EAWJpC,EAAA,EACJN,EAAA,EAAA;KAAA,SAZQO,EAAA,CAAA,EAAAI,EAAA8B,EAAAzB,YAAA,EAAA,EAAA,kBAaE2B,EAAiBC,CAAkB,EAAAC,cAAA,CAAA,CAAA,SAEpChC,CAA0B,GAAA",
  "names": ["\u0275\u0275text", "\u0275\u0275element", "\u0275\u0275elementStart", "\u0275\u0275template", "AssessmentWarningComponent_Conditional_3_Conditional_5_Template", "AssessmentWarningComponent_Conditional_3_Conditional_6_Template", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275property", "ctx_r0", "faExclamationTriangle", "\u0275\u0275conditional", "isBeforeExerciseDueDate", "AssessmentWarningComponent", "exercise", "submissions", "showWarning", "ngOnChanges", "dueDate", "now", "dayjs", "isBefore", "getLatestDueDate", "allowFeedbackRequests", "map", "submission", "participation", "individualDueDate", "reduce", "latest", "next", "isAfter", "selectors", "inputs", "features", "\u0275\u0275NgOnChangesFeature", "decls", "vars", "consts", "template", "rf", "ctx", "AssessmentWarningComponent_Conditional_3_Template", "FaIconComponent", "TranslateDirective", "encapsulation"]
}
