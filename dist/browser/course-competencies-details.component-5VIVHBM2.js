import{a as Ce}from"./chunk-J2B6GP6U.js";import{a as me}from"./chunk-6DH5KPBD.js";import{a as _e}from"./chunk-7MKMUXV6.js";import{a as le,b as fe,c as xe,d as ge,e as ue}from"./chunk-TXYCUEEB.js";import"./chunk-477H2IQN.js";import"./chunk-KIXGOQMJ.js";import"./chunk-UBFIUABE.js";import"./chunk-KNK6NHCW.js";import"./chunk-FLTLUO4X.js";import"./chunk-GM5QZPKO.js";import"./chunk-IJRVZ46L.js";import"./chunk-NUC4ZXFE.js";import"./chunk-FLFES4R7.js";import"./chunk-47G2PPX4.js";import{a as de}from"./chunk-AYOCTQ7R.js";import"./chunk-SBDPY7ZH.js";import"./chunk-MVBHDJDH.js";import"./chunk-POPNQ63B.js";import"./chunk-RPFDXKEJ.js";import"./chunk-SKB5UJGX.js";import"./chunk-TBEJU7WR.js";import"./chunk-SUUJN3EQ.js";import"./chunk-4NYYKXW4.js";import"./chunk-5A2TLSYI.js";import"./chunk-MY22ELD7.js";import"./chunk-T4L3VFV2.js";import"./chunk-YSX3GO3R.js";import"./chunk-W3K7VYWC.js";import"./chunk-QU4DXSXD.js";import{g as te,n as ne,o as ie,p as oe,q as re,r as ae,s as se,t as ce}from"./chunk-DOLVNMRR.js";import{a as pe}from"./chunk-JRBFEQNN.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-22YQSX6Z.js";import"./chunk-R56P6PAY.js";import"./chunk-65Z25AP3.js";import"./chunk-5M3YV54C.js";import"./chunk-RYZEETVB.js";import"./chunk-VTF2OQPK.js";import"./chunk-BNRTXX46.js";import"./chunk-VPHPBAVR.js";import"./chunk-N4VVKRBU.js";import"./chunk-5AQXEKLE.js";import"./chunk-3JSWSN6W.js";import"./chunk-7XNS72RJ.js";import{a as ee}from"./chunk-KYCCMZSV.js";import"./chunk-DXTZ4GAW.js";import"./chunk-2UXGFGK3.js";import"./chunk-O4VJ5OXY.js";import"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-OTNXTVPX.js";import"./chunk-Z2YUBN6N.js";import"./chunk-PA7LJOOC.js";import"./chunk-AOI2U3YC.js";import"./chunk-USOMQCKZ.js";import"./chunk-6EYB5QBP.js";import"./chunk-GERFCPB6.js";import"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import{a as Z}from"./chunk-2QXIMOEO.js";import"./chunk-KK6FVDB6.js";import"./chunk-JHBUBEY6.js";import"./chunk-QA7Y7QBM.js";import"./chunk-ZPITQMA6.js";import"./chunk-AZBLKUAM.js";import"./chunk-2CUFQLAH.js";import"./chunk-Z6NSEM73.js";import{a as G}from"./chunk-HQ6UGNQX.js";import{a as W,f as X}from"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import{c as k}from"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-UHM5AJSI.js";import"./chunk-CT44YL7Q.js";import"./chunk-JNO6DNVW.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import{K as N}from"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import"./chunk-GG62Q4DZ.js";import"./chunk-VK7JPHFE.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{a as K}from"./chunk-K3W6YFKH.js";import"./chunk-TL3DYXRE.js";import{c as $}from"./chunk-JXJXC4DZ.js";import{d as q}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import{p as R}from"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{q as B}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import{a as H,b as J}from"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as Q}from"./chunk-U54OSGNH.js";import{f as z,i as V}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{n as Y}from"./chunk-IOA4DPXY.js";import{A as T,Db as o,Dc as y,Ea as g,F as S,Ma as _,Mc as h,Na as C,Oc as p,Rc as I,Tb as P,Zb as f,dd as e,ed as j,fd as O,kc as l,rd as F,sc as d,sd as A,uc as L,vc as D,wb as E,wc as U,xc as r,yc as a,yd as b,zc as c,zd as v}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";function be(n,s){n&1&&(e(0,`
        `),r(1,"div",0),e(2,`
            `),c(3,"div",1),e(4,`
            `),c(5,"div",2),e(6,`
        `),a(),e(7,`
    `))}var ye=(()=>{class n{active=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=P({type:n,selectors:[["jhi-fireworks"]],inputs:{active:"active"},decls:2,vars:1,consts:[[1,"pyro"],[1,"before"],[1,"after"]],template:function(i,m){i&1&&(e(0," "),f(1,be,8,0)),i&2&&(o(),d(m.active?1:-1))},styles:[".pyro[_ngcontent-%COMP%] > .before[_ngcontent-%COMP%], .pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;border-radius:50%;box-shadow:0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff;z-index:1000;-moz-animation:1s bang ease-out infinite backwards,1s gravity ease-in infinite backwards,5s position linear infinite backwards;-webkit-animation:1s _ngcontent-%COMP%_bang ease-out infinite backwards,1s _ngcontent-%COMP%_gravity ease-in infinite backwards,5s _ngcontent-%COMP%_position linear infinite backwards;-o-animation:1s bang ease-out infinite backwards,1s gravity ease-in infinite backwards,5s position linear infinite backwards;-ms-animation:1s bang ease-out infinite backwards,1s gravity ease-in infinite backwards,5s position linear infinite backwards;animation:1s _ngcontent-%COMP%_bang ease-out infinite backwards,1s _ngcontent-%COMP%_gravity ease-in infinite backwards,5s _ngcontent-%COMP%_position linear infinite backwards}.pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{-moz-animation-delay:1.25s,1.25s,1.25s;-webkit-animation-delay:1.25s,1.25s,1.25s;-o-animation-delay:1.25s,1.25s,1.25s;-ms-animation-delay:1.25s,1.25s,1.25s;animation-delay:1.25s,1.25s,1.25s;-moz-animation-duration:1.25s,1.25s,6.25s;-webkit-animation-duration:1.25s,1.25s,6.25s;-o-animation-duration:1.25s,1.25s,6.25s;-ms-animation-duration:1.25s,1.25s,6.25s;animation-duration:1.25s,1.25s,6.25s}@-webkit-keyframes _ngcontent-%COMP%_bang{to{box-shadow:-151px -68.6666666667px #ff00c3,-38px -226.6666666667px #00ffc8,-166px 24.3333333333px #0ef,234px 65.3333333333px #2bff00,-70px 63.3333333333px #ff1e00,-142px 53.3333333333px #ffd900,-232px -246.6666666667px #ff00c3,-105px -312.6666666667px #f09,245px -264.6666666667px #d400ff,-195px -52.6666666667px #5f0,160px -18.6666666667px #ff009d}}@-moz-keyframes bang{to{box-shadow:-151px -68.6666666667px #ff00c3,-38px -226.6666666667px #00ffc8,-166px 24.3333333333px #0ef,234px 65.3333333333px #2bff00,-70px 63.3333333333px #ff1e00,-142px 53.3333333333px #ffd900,-232px -246.6666666667px #ff00c3,-105px -312.6666666667px #f09,245px -264.6666666667px #d400ff,-195px -52.6666666667px #5f0,160px -18.6666666667px #ff009d}}@-o-keyframes bang{to{box-shadow:-151px -68.6666666667px #ff00c3,-38px -226.6666666667px #00ffc8,-166px 24.3333333333px #0ef,234px 65.3333333333px #2bff00,-70px 63.3333333333px #ff1e00,-142px 53.3333333333px #ffd900,-232px -246.6666666667px #ff00c3,-105px -312.6666666667px #f09,245px -264.6666666667px #d400ff,-195px -52.6666666667px #5f0,160px -18.6666666667px #ff009d}}@-ms-keyframes bang{to{box-shadow:-151px -68.6666666667px #ff00c3,-38px -226.6666666667px #00ffc8,-166px 24.3333333333px #0ef,234px 65.3333333333px #2bff00,-70px 63.3333333333px #ff1e00,-142px 53.3333333333px #ffd900,-232px -246.6666666667px #ff00c3,-105px -312.6666666667px #f09,245px -264.6666666667px #d400ff,-195px -52.6666666667px #5f0,160px -18.6666666667px #ff009d}}@keyframes _ngcontent-%COMP%_bang{to{box-shadow:-151px -68.6666666667px #ff00c3,-38px -226.6666666667px #00ffc8,-166px 24.3333333333px #0ef,234px 65.3333333333px #2bff00,-70px 63.3333333333px #ff1e00,-142px 53.3333333333px #ffd900,-232px -246.6666666667px #ff00c3,-105px -312.6666666667px #f09,245px -264.6666666667px #d400ff,-195px -52.6666666667px #5f0,160px -18.6666666667px #ff009d}}@-webkit-keyframes _ngcontent-%COMP%_gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@-moz-keyframes gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@-o-keyframes gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@-ms-keyframes gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@keyframes _ngcontent-%COMP%_gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@-webkit-keyframes _ngcontent-%COMP%_position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}@-moz-keyframes position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}@-o-keyframes position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}@-ms-keyframes position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}@keyframes _ngcontent-%COMP%_position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}"]})}return n})();var ve=(n,s)=>["/course-management",n,"competency-management",s,"edit"],we=n=>["/courses",n,"dashboard"];function Pe(n,s){n&1&&(e(0,`
    `),r(1,"div",1),e(2,`
        `),r(3,"div",2),e(4,`
            `),c(5,"span",3),e(6,`
        `),a(),e(7,`
    `),a(),e(8,`
`))}function Oe(n,s){n&1&&(e(0,`
                            `),c(1,"span",17),e(2,`
                        `))}function Me(n,s){n&1&&(e(0,`
                            `),c(1,"span",18),e(2,`
                        `))}function ke(n,s){if(n&1&&(e(0,`
                        `),c(1,"div",19),b(2,"htmlForMarkdown"),e(3,`
                    `)),n&2){let t=p(2);o(),l("innerHTML",v(2,1,t.competency.description),E)}}function Te(n,s){if(n&1&&(e(0,`
                    `),r(1,"div",20),e(2,`
                        `),c(3,"span",21),e(4,`
                        `),r(5,"span",22),e(6),b(7,"artemisTimeAgo"),a(),e(8,`
                    `),a(),e(9,`
                `)),n&2){let t=p(2);o(5),l("ngClass",t.softDueDatePassed?"bg-danger":"bg-success"),o(),O(" ",v(7,2,t.competency.softDueDate)," ")}}function Se(n,s){if(n&1&&(e(0,`
                        `),r(1,"a",23),e(2,`
                            `),c(3,"fa-icon",24),e(4,`
                            `),c(5,"span",25),e(6,`
                        `),a(),e(7,`
                    `)),n&2){let t=p(2);o(),l("routerLink",A(2,ve,t.courseId,t.competency.id)),o(2),l("icon",t.faPencilAlt)}}function Ee(n,s){if(n&1&&(e(0,`
                                        `),c(1,"jhi-exercise-unit",27),e(2,`
                                    `)),n&2){let t=p(),i=p(3);o(),l("exerciseUnit",t)("course",i.competency.course)}}function Le(n,s){if(n&1){let t=y();e(0,`
                                        `),r(1,"jhi-attachment-unit",28),h("onCompletion",function(m){_(t);let x=p(4);return C(x.completeLectureUnit(m))}),a(),e(2,`
                                    `)}if(n&2){let t=p();o(),l("lectureUnit",t)}}function De(n,s){if(n&1){let t=y();e(0,`
                                        `),r(1,"jhi-video-unit",28),h("onCompletion",function(m){_(t);let x=p(4);return C(x.completeLectureUnit(m))}),a(),e(2,`
                                    `)}if(n&2){let t=p();o(),l("lectureUnit",t)}}function Ue(n,s){if(n&1){let t=y();e(0,`
                                        `),r(1,"jhi-text-unit",28),h("onCompletion",function(m){_(t);let x=p(4);return C(x.completeLectureUnit(m))}),a(),e(2,`
                                    `)}if(n&2){let t=p();o(),l("lectureUnit",t)}}function Ie(n,s){if(n&1){let t=y();e(0,`
                                        `),r(1,"jhi-online-unit",28),h("onCompletion",function(m){_(t);let x=p(4);return C(x.completeLectureUnit(m))}),a(),e(2,`
                                    `)}if(n&2){let t=p();o(),l("lectureUnit",t)}}function je(n,s){if(n&1&&(e(0,`
                            `),r(1,"div",26),e(2,`
                                `),f(3,Ee,3,2)(4,Le,3,1)(5,De,3,1)(6,Ue,3,1)(7,Ie,3,1),e(8,`
                            `),a(),e(9,`
                        `)),n&2){let t,i=p(3);o(3),d((t=s.type)===i.LectureUnitType.EXERCISE?3:t===i.LectureUnitType.ATTACHMENT?4:t===i.LectureUnitType.VIDEO?5:t===i.LectureUnitType.TEXT?6:t===i.LectureUnitType.ONLINE?7:-1)}}function Fe(n,s){if(n&1&&(e(0,`
                        `),f(1,je,10,1)),n&2){let t,i=s.$implicit;o(),d((t=i.lectureUnit)?1:-1,t)}}function Ae(n,s){if(n&1&&(e(0,`
                                    `),c(1,"jhi-help-icon",37),e(2,`
                                `)),n&2){let t=p(3);o(),I("text","artemisApp.competency.confidenceReasons."+t.competencyProgress.confidenceReason)}}function Ye(n,s){if(n&1&&(e(0,`
                    `),r(1,"jhi-side-panel",29),b(2,"artemisTranslate"),e(3,`
                        `),r(4,"div",30),e(5,`
                            `),r(6,"div",31),c(7,"span",32)(8,"jhi-help-icon",33),a(),e(9,`
                            `),r(10,"div",34),e(11,`
                                `),r(12,"span"),e(13),a(),e(14,`
                                `),f(15,Ae,3,1),a(),e(16,`
                        `),a(),e(17,`
                        `),r(18,"div",30),e(19,`
                            `),r(20,"div",31),c(21,"span",35)(22,"jhi-help-icon",36),a(),e(23,`
                            `),r(24,"div",34),e(25),a(),e(26,`
                        `),a(),e(27,`
                    `),a(),e(28,`
                `)),n&2){let t=p(2);o(),l("panelHeader",v(2,4,"artemisApp.competency.table.panelHeader")),o(12),O(" ",t.mastery," %"),o(2),d(t.competencyProgress!=null&&t.competencyProgress.confidenceReason&&t.competencyProgress.confidenceReason!==t.ConfidenceReason.NO_REASON?15:-1),o(10),O("",t.progress," %")}}function Re(n,s){if(n&1&&(e(0,`
                    `),r(1,"div",38),e(2,`
                        `),c(3,"a",39),e(4,`
                    `),a(),e(5,`
                `)),n&2){let t=p(2);o(3),l("routerLink",F(1,we,t.courseId))}}function ze(n,s){if(n&1&&(e(0,`
    `),r(1,"div",4),e(2,`
        `),e(3,`
        `),r(4,"div",5),e(5,`
            `),r(6,"div",6),e(7,`
                `),r(8,"div",7),e(9,`
                    `),r(10,"h3",8),e(11,`
                        `),c(12,"fa-icon",9),b(13,"artemisTranslate"),e(14,`
                        `),r(15,"span"),e(16),a(),e(17,`
                        `),f(18,Oe,3,0)(19,Me,3,0),a(),e(20,`
                    `),f(21,ke,4,3),a(),e(22,`
                `),f(23,Te,10,4),r(24,"div",10),e(25,`
                    `),f(26,Se,8,5),a(),e(27,`
            `),a(),e(28,`
        `),a(),e(29,`
        `),e(30,`
        `),r(31,"div",11),e(32,`
            `),r(33,"div",12),e(34,`
                `),r(35,"div",13),e(36,`
                    `),D(37,Fe,2,1,null,null,L),a(),e(39,`
            `),a(),e(40,`
            `),r(41,"div",14),e(42,`
                `),r(43,"div",15),e(44,`
                    `),c(45,"jhi-competency-rings",16),e(46,`
                `),a(),e(47,`
                `),f(48,Ye,29,6)(49,Re,6,3),a(),e(50,`
        `),a(),e(51,`
    `),a(),e(52,`
`)),n&2){let t,i=p();o(12),l("icon",i.getIcon(i.competency.taxonomy))("fixedWidth",!0)("ngbTooltip",v(13,14,"artemisApp.courseCompetency.taxonomies."+((t=i.competency.taxonomy)!==null&&t!==void 0?t:"none"))),o(4),j(i.competency.title),o(2),d(i.isMastered?18:-1),o(),d(i.competency.optional?19:-1),o(2),d(i.competency.description?21:-1),o(2),d(i.competency.softDueDate?23:-1),o(3),d(i.competency.course!=null&&i.competency.course.isAtLeastInstructor?26:-1),o(11),U(i.competency.lectureUnitLinks),o(8),l("progress",i.progress)("mastery",i.mastery)("hideProgress",i.judgementOfLearningEnabled&&i.promptForJolRating&&i.judgementOfLearning===void 0),o(3),d(!i.promptForJolRating||!i.judgementOfLearningEnabled||i.judgementOfLearning!==void 0?48:-1),o(),d(i.judgementOfLearningEnabled&&i.promptForJolRating&&i.competency.id!==void 0&&i.judgementOfLearning===void 0?49:-1)}}var yt=(()=>{class n{featureToggleService=g(J);courseStorageService=g(G);alertService=g($);activatedRoute=g(z);courseCompetencyService=g(_e);lectureUnitService=g(X);competencyId;course;courseId;isLoading=!1;competency;competencyProgress;judgementOfLearning;promptForJolRating=!1;showFireworks=!1;dashboardFeatureActive=!1;paramsSubscription;LectureUnitType=W;ConfidenceReason=oe;faPencilAlt=B;getIcon=re;ngOnInit(){let t=this.activatedRoute.parent?.parent?.params,i=this.activatedRoute.params,m=this.featureToggleService.getFeatureToggleActive(H.StudentCourseAnalyticsDashboard);t&&(this.paramsSubscription=T([t,i,m]).subscribe(([x,M,u])=>{this.competencyId=Number(M.competencyId),this.courseId=Number(x.courseId),this.dashboardFeatureActive=u,this.course=this.courseStorageService.getCourse(this.courseId),this.competencyId&&this.courseId&&this.loadData()}))}ngOnDestroy(){this.paramsSubscription?.unsubscribe()}loadData(){this.isLoading=!0;let t=[this.courseCompetencyService.findById(this.competencyId,this.courseId)];this.judgementOfLearningEnabled&&(t.push(this.courseCompetencyService.getAllForCourse(this.courseId)),t.push(this.courseCompetencyService.getJoL(this.courseId,this.competencyId))),S(t).subscribe({next:([i,m,x])=>{if(this.competency=i.body,this.competencyProgress=this.getUserProgress(),this.judgementOfLearningEnabled){let M=m.body,u=this.competency.userProgress?.first();this.promptForJolRating=ie.shouldPromptForJol(this.competency,u,M);let w=x?.body??void 0;!w?.current||w.current.competencyProgress!==(u?.progress??0)||w.current.competencyConfidence!==(u?.confidence??1)?this.judgementOfLearning=void 0:this.judgementOfLearning=w?.current}this.handleExerciseLinks(),this.isLoading=!1},error:i=>k(this.alertService,i)})}handleExerciseLinks(){this.competency.exerciseLinks&&(this.competency.lectureUnitLinks=this.competency.lectureUnitLinks??[],this.competency.lectureUnitLinks.push(...this.competency.exerciseLinks.map(t=>{let i=new de;return i.id=t.exercise?.id,i.exercise=t.exercise,new ne(this.competency,i,te)})))}showFireworksIfMastered(){this.mastery>=100&&!this.showFireworks&&(setTimeout(()=>this.showFireworks=!0,1e3),setTimeout(()=>this.showFireworks=!1,6e3))}getUserProgress(){return this.competency.userProgress?.length?this.competency.userProgress.first():{progress:0,confidence:1}}get progress(){return ae(this.competencyProgress)}get confidence(){return se(this.competencyProgress)}get mastery(){return ce(this.competencyProgress)}get isMastered(){return this.mastery>=100}completeLectureUnit(t){!t.lectureUnit.lecture||!t.lectureUnit.visibleToStudents||t.lectureUnit.completed===t.completed||this.lectureUnitService.setCompletion(t.lectureUnit.id,t.lectureUnit.lecture.id,t.completed).subscribe({next:()=>{t.lectureUnit.completed=t.completed,this.courseCompetencyService.getProgress(this.competencyId,this.courseId,!0).subscribe({next:i=>{this.competency.userProgress=[i.body],this.showFireworksIfMastered()}})},error:i=>k(this.alertService,i)})}get softDueDatePassed(){return R().isAfter(this.competency.softDueDate)}get judgementOfLearningEnabled(){return(this.course?.studentCourseAnalyticsDashboardEnabled??!1)&&this.dashboardFeatureActive}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=P({type:n,selectors:[["jhi-course-competencies-details"]],decls:4,vars:3,consts:[[3,"active"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],["jhiTranslate","loading",1,"sr-only"],[1,"mt-n3"],[1,"course-info-bar"],[1,"row","align-items-center"],[1,"general-info","col"],[1,"mb-0"],["container","body",3,"icon","fixedWidth","ngbTooltip"],[1,"col-auto"],[1,"row","mt-2"],[1,"col-lg-9","col-md-8"],[1,"row"],[1,"col-lg-3","col-md-4"],[1,"w-50","mx-auto","my-2"],[3,"progress","mastery","hideProgress"],["jhiTranslate","artemisApp.competency.mastered",1,"badge","text-white","text-bg-success"],["jhiTranslate","artemisApp.competency.optional",1,"badge","text-white","bg-warning"],[1,"markdown-preview",3,"innerHTML"],[1,"col-auto","text-right"],["jhiTranslate","artemisApp.competency.competencyCard.softDueDate",2,"vertical-align","middle"],["id","date-badge",1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-warning","float-end",3,"routerLink"],[3,"icon"],["jhiTranslate","entity.action.edit",1,"d-none","d-md-inline"],[1,"col-12","col-lg-11","mt-3"],[3,"exerciseUnit","course"],[3,"onCompletion","lectureUnit"],[1,"d-block","mt-3",3,"panelHeader"],[1,"row","mb-1","g-0"],[1,"col-7"],["jhiTranslate","artemisApp.competency.mastery"],["text","artemisApp.competency.masteryDescription"],[1,"col-5"],["jhiTranslate","artemisApp.competency.progress"],["text","artemisApp.competency.progressDescription"],[3,"text"],[1,"mt-3","d-flex","justify-content-center"],["jhiTranslate","artemisApp.courseStudentDashboard.judgementOfLearning.redirectButton",1,"btn","btn-info",3,"routerLink"]],template:function(i,m){i&1&&(c(0,"jhi-fireworks",0),e(1,`
`),f(2,Pe,9,0)(3,ze,53,16)),i&2&&(l("active",m.showFireworks),o(2),d(m.isLoading?2:-1),o(),d(m.competency?3:-1))},dependencies:[ye,Q,q,N,Y,V,fe,le,xe,ge,ue,Ce,me,Z,K,ee,pe],styles:[".course-body-container[_ngcontent-%COMP%]{position:relative}.refresh-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:flex-start;opacity:0;pointer-events:none;transition:.1s ease-out opacity}.refresh-overlay.active[_ngcontent-%COMP%]{background-color:var(--overview-refresh-overlay-bg-color);opacity:1;pointer-events:auto;transition:.2s ease-in opacity}.refresh-overlay[_ngcontent-%COMP%]   .ng-fa-icon[_ngcontent-%COMP%]{position:relative;top:calc(47.5vh - 150px);transform:translateY(-50%);color:var(--overview-refresh-overlay-color)}.back-button[_ngcontent-%COMP%]{cursor:pointer}.current-week-row[_ngcontent-%COMP%]    >div{background-color:var(--overview-light-primary-background-color)}.statistic-summary[_ngcontent-%COMP%]{margin-top:25px}.statistic-summary[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:flex-end;margin-bottom:20px}.statistic-summary[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-text[_ngcontent-%COMP%]{position:absolute;width:350px}.statistic-summary[_ngcontent-%COMP%]   .color-legend-container[_ngcontent-%COMP%]{margin-bottom:40px}.statistic-summary[_ngcontent-%COMP%]   .color-legend-container[_ngcontent-%COMP%]   .color-legend-entry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;width:100%}.exercise-row-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{cursor:pointer}.exercise-row-container[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{margin-top:1rem;border-bottom:1px solid var(--overview-light-border-color)}.icon-container[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;horiz-align:center}.course-information[_ngcontent-%COMP%]{padding-top:29px}.course-information[_ngcontent-%COMP%]   .exercise-panel[_ngcontent-%COMP%]   .row.has-exercises[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px}.course-information[_ngcontent-%COMP%]   .exercise-panel[_ngcontent-%COMP%]   .row.has-exercises[_ngcontent-%COMP%]:hover{background-color:var(--overview-light-background-color)}.course-information[_ngcontent-%COMP%]   .exercise-panel[_ngcontent-%COMP%]   .row.has-exercises[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:var(--primary)}.exercise-divider[_ngcontent-%COMP%]{height:0;width:100%;margin:1rem 0 .5rem;border-top:1px solid var(--overview-light-border-color)}.color-indicator[_ngcontent-%COMP%]{height:20px;width:20px;background-color:#0f6ab4;position:relative;top:-4px;margin-right:5px;border-radius:3px}canvas#complete-chart[_ngcontent-%COMP%]{z-index:99}.dev-button[_ngcontent-%COMP%]{text-align:left;color:#fff;background-color:#3e8acc;border:none;border-radius:1px}.dev-button[_ngcontent-%COMP%]:hover{background-color:#0f6ab4}.dev-button[_ngcontent-%COMP%]:active{box-shadow:0 2px 0 var(--artemis-dark)}.dev-button[_ngcontent-%COMP%]:disabled{background-color:gray}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:disabled, .btn-info[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:hover{color:#fff}@media (max-width: 768px){.col-12[_ngcontent-%COMP%]{width:100%!important}}.fadeInIcon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s;animation-iteration-count:initial}@media (max-width: 655px){.horizontal-scroll[_ngcontent-%COMP%]{overflow-x:auto}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}50%{opacity:.5}to{visibility:visible;opacity:1}}.exercise-content-sidebar-width[_ngcontent-%COMP%]{width:calc(100% - 263px)!important;transition:width .1s 0s ease-in-out}.exercise-content-width[_ngcontent-%COMP%]{width:100%;transition:width .1s 0s ease-in-out}"]})}return n})();export{yt as CourseCompetenciesDetailsComponent};
//# sourceMappingURL=course-competencies-details.component-5VIVHBM2.js.map
