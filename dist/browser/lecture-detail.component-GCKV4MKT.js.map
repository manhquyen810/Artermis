{
  "version": 3,
  "sources": ["src/main/webapp/app/lecture/lecture-detail.component.ts", "src/main/webapp/app/lecture/lecture-detail.component.html"],
  "sourcesContent": ["import { Component, OnDestroy, OnInit, inject } from '@angular/core';\r\nimport { ActivatedRoute, RouterLink } from '@angular/router';\r\nimport { faFile, faFileExport, faPencilAlt, faPuzzlePiece } from '@fortawesome/free-solid-svg-icons';\r\nimport { PROFILE_IRIS } from 'app/app.constants';\r\nimport { Lecture } from 'app/entities/lecture.model';\r\nimport { DetailOverviewSection, DetailType } from 'app/detail-overview-list/detail-overview-list.component';\r\nimport { ProfileService } from 'app/shared/layouts/profiles/profile.service';\r\nimport { ArtemisMarkdownService } from 'app/shared/markdown.service';\r\nimport { LectureService } from 'app/lecture/lecture.service';\r\nimport { IrisSettingsService } from 'app/iris/settings/shared/iris-settings.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { TranslateDirective } from '../shared/language/translate.directive';\r\nimport { DetailOverviewListComponent } from '../detail-overview-list/detail-overview-list.component';\r\nimport { FaIconComponent } from '@fortawesome/angular-fontawesome';\r\nimport { captureException } from '@sentry/angular';\r\n@Component({\r\n    selector: 'jhi-lecture-detail',\r\n    templateUrl: './lecture-detail.component.html',\r\n    imports: [TranslateDirective, DetailOverviewListComponent, RouterLink, FaIconComponent],\r\n})\r\nexport class LectureDetailComponent implements OnInit, OnDestroy {\r\n    private activatedRoute = inject(ActivatedRoute);\r\n    private artemisMarkdown = inject(ArtemisMarkdownService);\r\n    private alertService = inject(AlertService);\r\n    protected lectureService = inject(LectureService);\r\n    private profileService = inject(ProfileService);\r\n    private irisSettingsService = inject(IrisSettingsService);\r\n\r\n    lecture: Lecture;\r\n    lectureIngestionEnabled = false;\r\n\r\n    // Icons\r\n    faPencilAlt = faPencilAlt;\r\n    faFile = faFile;\r\n    faPuzzlePiece = faPuzzlePiece;\r\n    faFileExport = faFileExport;\r\n\r\n    detailSections: DetailOverviewSection[];\r\n    irisEnabled = false;\r\n    private profileInfoSubscription: Subscription;\r\n\r\n    /**\r\n     * Life cycle hook called by Angular to indicate that Angular is done creating the component\r\n     */\r\n    ngOnInit() {\r\n        this.activatedRoute.data.subscribe(({ lecture }) => {\r\n            this.lecture = lecture;\r\n            this.getLectureDetailSections();\r\n            this.profileInfoSubscription = this.profileService.getProfileInfo().subscribe(async (profileInfo) => {\r\n                this.irisEnabled = profileInfo.activeProfiles.includes(PROFILE_IRIS);\r\n                if (this.irisEnabled && this.lecture.course?.id) {\r\n                    this.irisSettingsService.getCombinedCourseSettings(this.lecture.course?.id).subscribe((settings) => {\r\n                        this.lectureIngestionEnabled = settings?.irisLectureIngestionSettings?.enabled || false;\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.profileInfoSubscription?.unsubscribe();\r\n    }\r\n\r\n    getLectureDetailSections() {\r\n        const lecture = this.lecture;\r\n        const descriptionMarkdown = this.artemisMarkdown.safeHtmlForMarkdown(lecture.description);\r\n        if (lecture.course) {\r\n            this.detailSections = [\r\n                {\r\n                    headline: 'artemisApp.lecture.detail.sections.general',\r\n                    details: [\r\n                        {\r\n                            type: DetailType.Link,\r\n                            title: 'artemisApp.lecture.course',\r\n                            data: { routerLink: ['/course-management', lecture.course.id], text: lecture.course.title },\r\n                        },\r\n                        { type: DetailType.Text, title: 'artemisApp.lecture.title', data: { text: lecture.title } },\r\n                        {\r\n                            type: DetailType.Markdown,\r\n                            title: 'artemisApp.lecture.description',\r\n                            data: { innerHtml: descriptionMarkdown },\r\n                        },\r\n                        {\r\n                            type: DetailType.Date,\r\n                            title: 'artemisApp.lecture.visibleDate',\r\n                            data: { date: lecture.visibleDate },\r\n                        },\r\n                        { type: DetailType.Date, title: 'artemisApp.lecture.startDate', data: { date: lecture.startDate } },\r\n                        { type: DetailType.Date, title: 'artemisApp.lecture.endDate', data: { date: lecture.endDate } },\r\n                    ],\r\n                },\r\n            ];\r\n        }\r\n    }\r\n    /**\r\n     * Trigger the ingestion of this lecture in Iris.\r\n     */\r\n    ingestLectureInPyris() {\r\n        this.lectureService.ingestLecturesInPyris(this.lecture.course!.id!, this.lecture.id).subscribe({\r\n            next: () => this.alertService.success('artemisApp.iris.ingestionAlert.lectureSuccess'),\r\n            error: (error) => {\r\n                this.alertService.error('artemisApp.iris.ingestionAlert.lectureError');\r\n                captureException('Failed to send Ingestion request', error);\r\n            },\r\n        });\r\n    }\r\n}\r\n", "<div class=\"row justify-content-center\">\r\n    <div class=\"col-md-8\">\r\n        @if (lecture) {\r\n            <div>\r\n                <h2><span jhiTranslate=\"artemisApp.lecture.detail.title\"></span> {{ lecture.id }}</h2>\r\n                <hr />\r\n                @if (detailSections) {\r\n                    <jhi-detail-overview-list [sections]=\"detailSections\" />\r\n                }\r\n                @if (lecture.course?.isAtLeastEditor) {\r\n                    <a [routerLink]=\"['/course-management', lecture.course?.id, 'lectures', lecture.id, 'edit']\" class=\"btn btn-primary\">\r\n                        <fa-icon [icon]=\"faPencilAlt\" />\r\n                        <span jhiTranslate=\"entity.action.edit\"></span>\r\n                    </a>\r\n                    <a [routerLink]=\"['attachments']\" class=\"btn btn-primary\">\r\n                        <fa-icon [icon]=\"faFile\" />\r\n                        <span jhiTranslate=\"entity.action.attachments\"></span>\r\n                    </a>\r\n                    <a [routerLink]=\"['unit-management']\" class=\"btn btn-primary\">\r\n                        <fa-icon [icon]=\"faPuzzlePiece\" />\r\n                        <span jhiTranslate=\"entity.action.units\"></span>\r\n                    </a>\r\n                }\r\n                @if (lecture.course?.isAtLeastInstructor && lectureIngestionEnabled) {\r\n                    <button (click)=\"ingestLectureInPyris()\" class=\"btn btn-primary\">\r\n                        <fa-icon [icon]=\"faFileExport\" />\r\n                        <span jhiTranslate=\"entity.action.sendToIris\"></span>\r\n                    </button>\r\n                }\r\n            </div>\r\n        }\r\n    </div>\r\n</div>\r\n"],
  "mappings": "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",
  "names": ["\u0275\u0275text", "\u0275\u0275element", "\u0275\u0275advance", "\u0275\u0275property", "ctx_r0", "detailSections", "\u0275\u0275elementStart", "\u0275\u0275elementEnd", "\u0275\u0275pureFunction2", "_c0", "lecture", "course", "id", "faPencilAlt", "\u0275\u0275pureFunction0", "_c1", "faFile", "_c2", "faPuzzlePiece", "\u0275\u0275listener", "\u0275\u0275restoreView", "_r2", "\u0275\u0275nextContext", "\u0275\u0275resetView", "ingestLectureInPyris", "faFileExport", "\u0275\u0275template", "LectureDetailComponent_Conditional_4_Conditional_9_Template", "LectureDetailComponent_Conditional_4_Conditional_10_Template", "LectureDetailComponent_Conditional_4_Conditional_11_Template", "\u0275\u0275textInterpolate1", "\u0275\u0275conditional", "isAtLeastEditor", "isAtLeastInstructor", "lectureIngestionEnabled", "LectureDetailComponent", "activatedRoute", "inject", "ActivatedRoute", "artemisMarkdown", "ArtemisMarkdownService", "alertService", "AlertService", "lectureService", "LectureService", "profileService", "ProfileService", "irisSettingsService", "IrisSettingsService", "irisEnabled", "profileInfoSubscription", "ngOnInit", "data", "subscribe", "getLectureDetailSections", "getProfileInfo", "profileInfo", "__async", "activeProfiles", "includes", "PROFILE_IRIS", "getCombinedCourseSettings", "settings", "irisLectureIngestionSettings", "enabled", "ngOnDestroy", "unsubscribe", "descriptionMarkdown", "safeHtmlForMarkdown", "description", "headline", "details", "type", "DetailType", "Link", "title", "routerLink", "text", "Text", "Markdown", "innerHtml", "Date", "date", "visibleDate", "startDate", "endDate", "ingestLecturesInPyris", "next", "success", "error", "captureException", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "LectureDetailComponent_Conditional_4_Template", "TranslateDirective", "DetailOverviewListComponent", "RouterLink", "FaIconComponent", "encapsulation"]
}
