import{a as v}from"./chunk-OTCBNILH.js";import{a as i}from"./chunk-W7RIOT23.js";import{u as S}from"./chunk-VZRSC3LP.js";import{Qa as f,sd as C}from"./chunk-Z4VHWOB5.js";import{h as u}from"./chunk-M6Z6DKZQ.js";import{L as l}from"./chunk-IOA4DPXY.js";import{Ea as o,Jb as d,Tb as g,U as m,f as c,oa as h,ra as p}from"./chunk-5LC5EQRR.js";var a=class{createHttpParams(s){return new l().set("pageSize",String(s.pageSize)).set("page",String(s.page)).set("sortingOrder",s.sortingOrder).set("searchTerm",s.searchTerm).set("sortedColumn",s.sortedColumn)}};var G=(()=>{class r{pagingService;router=o(u);sortService=o(v);activeModal=o(S);loading=!1;content;total=0;state={page:1,pageSize:10,searchTerm:"",sortingOrder:i.DESCENDING,sortedColumn:"ID"};entityName;columns;disabledIds=[];faSort=f;faCheck=C;search=new c;sort=new c;constructor(t){this.pagingService=t}get page(){return this.state.page}set page(t){this.setSearchParam({page:t})}get listSorting(){return this.state.sortingOrder===i.ASCENDING}set listSorting(t){let e=t?i.ASCENDING:i.DESCENDING;this.setSearchParam({sortingOrder:e})}get sortedColumn(){return this.state.sortedColumn}set sortedColumn(t){this.setSearchParam({sortedColumn:t})}get searchTerm(){return this.state.searchTerm}set searchTerm(t){this.state.searchTerm=t,this.search.next()}ngOnInit(){this.content={resultsOnPage:[],numberOfPages:0},this.performSearch(this.sort,0),this.performSearch(this.search,300)}sortRows(){this.sortService.sortByProperty(this.content.resultsOnPage,this.sortedColumn,this.listSorting)}trackId(t,e){return e.id}selectImport(t){this.activeModal.close(t)}clear(){this.activeModal.dismiss("cancel")}onPageChange(t){t&&(this.page=t)}performSearch(t,e){t.pipe(m(e),p(()=>this.loading=!0),h(()=>this.pagingService.search(this.state,this.createOptions()))).subscribe(n=>{this.content=n,this.loading=!1,this.total=n.numberOfPages*this.state.pageSize,this.onSearchResult()})}createOptions(){}onSearchResult(){}setSearchParam(t){Object.assign(this.state,t),this.sort.next()}static \u0275fac=function(e){return new(e||r)(d(a))};static \u0275cmp=g({type:r,selectors:[["ng-component"]],inputs:{disabledIds:"disabledIds"},decls:0,vars:0,template:function(e,n){},encapsulation:2})}return r})();export{a,G as b};
//# sourceMappingURL=chunk-NV4PYWIT.js.map
