import{a as u,b as H}from"./chunk-LFOGFBTL.js";import"./chunk-GXLYQKDJ.js";import"./chunk-HTZAAFOQ.js";import"./chunk-3GEJHWIQ.js";import"./chunk-XX5ZSHAB.js";import"./chunk-HPCUFM6M.js";import"./chunk-RTRBZQHM.js";import"./chunk-3A7JIXAS.js";import"./chunk-GOZO62KC.js";import"./chunk-YUF2Y3HT.js";import"./chunk-CCVWGTN5.js";import"./chunk-MD22LTSS.js";import"./chunk-RKZRHQUL.js";import"./chunk-JCAGYDTX.js";import"./chunk-OI2L2OHD.js";import"./chunk-4RRONT5E.js";import"./chunk-5PWC33TE.js";import"./chunk-A2A6JFSH.js";import"./chunk-MD6Z63OB.js";import"./chunk-M2FHCXD3.js";import"./chunk-RGQYMQQL.js";import"./chunk-EAC2ODNH.js";import"./chunk-SLVT6IA5.js";import"./chunk-FAFORKWV.js";import"./chunk-YOWUV6EQ.js";import"./chunk-X3HHHVRJ.js";import"./chunk-EHCOTJGL.js";import"./chunk-FLZTDUOG.js";import"./chunk-4NYYKXW4.js";import"./chunk-5A2TLSYI.js";import"./chunk-MY22ELD7.js";import"./chunk-T4L3VFV2.js";import"./chunk-YSX3GO3R.js";import"./chunk-W3K7VYWC.js";import"./chunk-QU4DXSXD.js";import"./chunk-GAUWMTOK.js";import"./chunk-656XE4CO.js";import"./chunk-YGSJB6WY.js";import"./chunk-O2WHE2S3.js";import"./chunk-JJUII2KT.js";import"./chunk-U4DJRHYQ.js";import"./chunk-BIKLNSC4.js";import{a as V}from"./chunk-QZKVSIAC.js";import"./chunk-JRBFEQNN.js";import{a as O}from"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-PNTOXB52.js";import"./chunk-MBS3WUDO.js";import"./chunk-22YQSX6Z.js";import"./chunk-R56P6PAY.js";import"./chunk-65Z25AP3.js";import"./chunk-5M3YV54C.js";import"./chunk-RYZEETVB.js";import"./chunk-VTF2OQPK.js";import"./chunk-BNRTXX46.js";import"./chunk-VPHPBAVR.js";import"./chunk-N4VVKRBU.js";import"./chunk-5AQXEKLE.js";import"./chunk-3JSWSN6W.js";import"./chunk-7XNS72RJ.js";import"./chunk-KYCCMZSV.js";import"./chunk-DXTZ4GAW.js";import"./chunk-2UXGFGK3.js";import"./chunk-O4VJ5OXY.js";import"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-OTNXTVPX.js";import"./chunk-Z2YUBN6N.js";import"./chunk-OTCBNILH.js";import"./chunk-PA7LJOOC.js";import"./chunk-AOI2U3YC.js";import"./chunk-USOMQCKZ.js";import"./chunk-6EYB5QBP.js";import"./chunk-GERFCPB6.js";import"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-2QXIMOEO.js";import"./chunk-JHBUBEY6.js";import"./chunk-R2SUWIPY.js";import"./chunk-35PLMJNP.js";import"./chunk-4I367PEU.js";import"./chunk-QA7Y7QBM.js";import"./chunk-ZPITQMA6.js";import"./chunk-HK7MJBP6.js";import"./chunk-2CUFQLAH.js";import"./chunk-MKPB4JKY.js";import"./chunk-I76AVIQH.js";import"./chunk-H2ETPEH6.js";import"./chunk-Z6NSEM73.js";import"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import{a as j}from"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-ZFM7LHJQ.js";import"./chunk-JNO6DNVW.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import{r as M}from"./chunk-VK7JPHFE.js";import{c as F}from"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import"./chunk-K3W6YFKH.js";import{c as w}from"./chunk-JXJXC4DZ.js";import{d as z}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Wa as k,ed as T,q as A,qc as P}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import{a as I}from"./chunk-NOBD5HSR.js";import{a as R}from"./chunk-U54OSGNH.js";import{f as D,i as E}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{Db as n,Dc as b,Ea as s,Ma as _,Mc as g,Na as h,Oc as p,Tb as y,Zb as x,dd as t,fd as C,kc as a,qd as v,sc as f,sd as L,xc as c,yc as l,zc as r}from"./chunk-5LC5EQRR.js";import{j as S}from"./chunk-3E746U5Y.js";var q=(i,m)=>["/course-management",i,"lectures",m,"edit"],B=()=>["attachments"],G=()=>["unit-management"];function J(i,m){if(i&1&&(t(0,`
                    `),r(1,"jhi-detail-overview-list",3),t(2,`
                `)),i&2){let e=p(2);n(),a("sections",e.detailSections)}}function K(i,m){if(i&1&&(t(0,`
                    `),c(1,"a",4),t(2,`
                        `),r(3,"fa-icon",5),t(4,`
                        `),r(5,"span",6),t(6,`
                    `),l(),t(7,`
                    `),c(8,"a",4),t(9,`
                        `),r(10,"fa-icon",5),t(11,`
                        `),r(12,"span",7),t(13,`
                    `),l(),t(14,`
                    `),c(15,"a",4),t(16,`
                        `),r(17,"fa-icon",5),t(18,`
                        `),r(19,"span",8),t(20,`
                    `),l(),t(21,`
                `)),i&2){let e=p(2);n(),a("routerLink",L(6,q,e.lecture.course==null?null:e.lecture.course.id,e.lecture.id)),n(2),a("icon",e.faPencilAlt),n(5),a("routerLink",v(9,B)),n(2),a("icon",e.faFile),n(5),a("routerLink",v(10,G)),n(2),a("icon",e.faPuzzlePiece)}}function N(i,m){if(i&1){let e=b();t(0,`
                    `),c(1,"button",9),g("click",function(){_(e);let d=p(2);return h(d.ingestLectureInPyris())}),t(2,`
                        `),r(3,"fa-icon",5),t(4,`
                        `),r(5,"span",10),t(6,`
                    `),l(),t(7,`
                `)}if(i&2){let e=p(2);n(3),a("icon",e.faFileExport)}}function Q(i,m){if(i&1&&(t(0,`
            `),c(1,"div"),t(2,`
                `),c(3,"h2"),r(4,"span",2),t(5),l(),t(6,`
                `),r(7,"hr"),t(8,`
                `),x(9,J,3,1)(10,K,22,11)(11,N,8,1),l(),t(12,`
        `)),i&2){let e=p();n(5),C(" ",e.lecture.id,""),n(4),f(e.detailSections?9:-1),n(),f(e.lecture.course!=null&&e.lecture.course.isAtLeastEditor?10:-1),n(),f(e.lecture.course!=null&&e.lecture.course.isAtLeastInstructor&&e.lectureIngestionEnabled?11:-1)}}var ue=(()=>{class i{activatedRoute=s(D);artemisMarkdown=s(O);alertService=s(w);lectureService=s(j);profileService=s(F);irisSettingsService=s(V);lecture;lectureIngestionEnabled=!1;faPencilAlt=A;faFile=P;faPuzzlePiece=k;faFileExport=T;detailSections;irisEnabled=!1;profileInfoSubscription;ngOnInit(){this.activatedRoute.data.subscribe(({lecture:e})=>{this.lecture=e,this.getLectureDetailSections(),this.profileInfoSubscription=this.profileService.getProfileInfo().subscribe(o=>S(this,null,function*(){this.irisEnabled=o.activeProfiles.includes(M),this.irisEnabled&&this.lecture.course?.id&&this.irisSettingsService.getCombinedCourseSettings(this.lecture.course?.id).subscribe(d=>{this.lectureIngestionEnabled=d?.irisLectureIngestionSettings?.enabled||!1})}))})}ngOnDestroy(){this.profileInfoSubscription?.unsubscribe()}getLectureDetailSections(){let e=this.lecture,o=this.artemisMarkdown.safeHtmlForMarkdown(e.description);e.course&&(this.detailSections=[{headline:"artemisApp.lecture.detail.sections.general",details:[{type:u.Link,title:"artemisApp.lecture.course",data:{routerLink:["/course-management",e.course.id],text:e.course.title}},{type:u.Text,title:"artemisApp.lecture.title",data:{text:e.title}},{type:u.Markdown,title:"artemisApp.lecture.description",data:{innerHtml:o}},{type:u.Date,title:"artemisApp.lecture.visibleDate",data:{date:e.visibleDate}},{type:u.Date,title:"artemisApp.lecture.startDate",data:{date:e.startDate}},{type:u.Date,title:"artemisApp.lecture.endDate",data:{date:e.endDate}}]}])}ingestLectureInPyris(){this.lectureService.ingestLecturesInPyris(this.lecture.course.id,this.lecture.id).subscribe({next:()=>this.alertService.success("artemisApp.iris.ingestionAlert.lectureSuccess"),error:e=>{this.alertService.error("artemisApp.iris.ingestionAlert.lectureError"),I("Failed to send Ingestion request",e)}})}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=y({type:i,selectors:[["jhi-lecture-detail"]],decls:7,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-md-8"],["jhiTranslate","artemisApp.lecture.detail.title"],[3,"sections"],[1,"btn","btn-primary",3,"routerLink"],[3,"icon"],["jhiTranslate","entity.action.edit"],["jhiTranslate","entity.action.attachments"],["jhiTranslate","entity.action.units"],[1,"btn","btn-primary",3,"click"],["jhiTranslate","entity.action.sendToIris"]],template:function(o,d){o&1&&(c(0,"div",0),t(1,`
    `),c(2,"div",1),t(3,`
        `),x(4,Q,13,4),l(),t(5,`
`),l(),t(6,`
`)),o&2&&(n(4),f(d.lecture?4:-1))},dependencies:[R,H,E,z],encapsulation:2})}return i})();export{ue as LectureDetailComponent};
//# sourceMappingURL=lecture-detail.component-GCKV4MKT.js.map
