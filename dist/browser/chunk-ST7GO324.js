import{a as _e}from"./chunk-WL6UHE7V.js";import{a as ue}from"./chunk-BIK4CL5A.js";import{a as pe}from"./chunk-HMZID6NQ.js";import{a as j,b as k,d as de}from"./chunk-O26CMRR4.js";import{a as xe}from"./chunk-UQ4R3Q4B.js";import{a as ce}from"./chunk-2QXIMOEO.js";import{c as oe,d as ae}from"./chunk-AR57MWOI.js";import{a as le}from"./chunk-CT44YL7Q.js";import{u as Y,v as J}from"./chunk-VZRSC3LP.js";import{K as q,i as $,k as K,n as Q}from"./chunk-WA5GEAJB.js";import{c as re}from"./chunk-JXJXC4DZ.js";import{d as se}from"./chunk-EDXSOKK5.js";import{Da as Z,Zc as ie,cb as ee,fa as X,gc as te,sd as ne,y as W}from"./chunk-Z4VHWOB5.js";import{a as me}from"./chunk-U54OSGNH.js";import{M as z}from"./chunk-IOA4DPXY.js";import{Db as r,Dc as D,Ea as S,Ma as I,Mc as g,Na as _,Oc as x,Tb as U,Va as L,Yc as V,Zb as f,Zc as H,_c as P,dd as e,ed as u,f as O,fd as F,kc as l,mc as A,sc as h,uc as M,vc as N,wb as B,wc as w,xc as t,yc as i,zc as m}from"./chunk-5LC5EQRR.js";import{a as C,b as T,h as Ie,j as y}from"./chunk-3E746U5Y.js";var Ee=Ie(_e());var Ce=["importForm"];function Te(o,c){if(o&1&&(e(0,`
            `),t(1,"div",17),e(2,`
                `),t(3,"table",18),e(4,`
                    `),t(5,"thead"),e(6,`
                        `),t(7,"tr"),e(8,`
                            `),t(9,"th"),e(10,"Login"),i(),e(11,`
                            `),t(12,"th",3),e(13,"Email"),i(),e(14,`
                            `),t(15,"th",3),e(16,"Matriculation Number"),i(),e(17,`
                        `),i(),e(18,`
                    `),i(),e(19,`
                    `),t(20,"tbody"),e(21,`
                        `),t(22,"tr"),e(23,`
                            `),t(24,"td"),e(25,"user_1"),i(),e(26,`
                            `),m(27,"td"),e(28,`
                            `),m(29,"td"),e(30,`
                        `),i(),e(31,`
                        `),t(32,"tr"),e(33,`
                            `),m(34,"td"),e(35,`
                            `),t(36,"td"),e(37,"user_2@artemis.org"),i(),e(38,`
                            `),m(39,"td"),e(40,`
                        `),i(),e(41,`
                        `),t(42,"tr"),e(43,`
                            `),m(44,"td"),e(45,`
                            `),m(46,"td"),e(47,`
                            `),t(48,"td"),e(49,"11712345"),i(),e(50,`
                        `),i(),e(51,`
                    `),i(),e(52,`
                `),i(),e(53,`
                `),m(54,"fa-icon",19),e(55,`
                `),t(56,"span"),e(57,"user_1, user_2, user_3"),i(),e(58,`
            `),i(),e(59,`
        `)),o&2){let n=x();r(12),l("jhiTranslate","artemisApp.importUsers.email"),r(3),l("jhiTranslate","artemisApp.importUsers.registrationNumber"),r(39),l("icon",n.faArrowRight)}}function ye(o,c){if(o&1&&(e(0,`
            `),t(1,"div",17),e(2,`
                `),t(3,"table",18),e(4,`
                    `),t(5,"thead"),e(6,`
                        `),t(7,"tr"),e(8,`
                            `),t(9,"th"),e(10,"Login"),i(),e(11,`
                            `),t(12,"th",3),e(13,"Email"),i(),e(14,`
                            `),t(15,"th",3),e(16,"Matriculation Number"),i(),e(17,`
                            `),t(18,"th",3),e(19,"Room"),i(),e(20,`
                            `),t(21,"th",3),e(22,"Seat"),i(),e(23,`
                        `),i(),e(24,`
                    `),i(),e(25,`
                    `),t(26,"tbody"),e(27,`
                        `),t(28,"tr"),e(29,`
                            `),t(30,"td"),e(31,"user_1"),i(),e(32,`
                            `),t(33,"td"),e(34,"user_2@artemis.org"),i(),e(35,`
                            `),t(36,"td"),e(37,"11712345"),i(),e(38,`
                            `),t(39,"td"),e(40,"10.101"),i(),e(41,`
                            `),t(42,"td"),e(43,"25F"),i(),e(44,`
                        `),i(),e(45,`
                    `),i(),e(46,`
                `),i(),e(47,`
                `),m(48,"fa-icon",19),e(49,`
                `),t(50,"span"),e(51,"user_1"),i(),e(52,`
            `),i(),e(53,`
        `)),o&2){let n=x();r(12),l("jhiTranslate","artemisApp.importUsers.email"),r(3),l("jhiTranslate","artemisApp.importUsers.registrationNumber"),r(3),l("jhiTranslate","artemisApp.importUsers.room"),r(3),l("jhiTranslate","artemisApp.importUsers.seat"),r(27),l("icon",n.faArrowRight)}}function Ae(o,c){if(o&1&&(e(0,`
                    `),m(1,"fa-icon",20),e(2,`
                `)),o&2){let n=x();r(),l("icon",n.faSpinner)}}function Me(o,c){if(o&1&&(e(0,`
                                `),t(1,"li"),e(2,`
                                    `),m(3,"b",3),e(4,`
                                    `),t(5,"b",23),e(6," "),i(),e(7,`
                                `),i(),e(8,`
                            `)),o&2){let n=x(2);r(3),l("jhiTranslate","artemisApp.importUsers.usersForImport.failedRows"),r(2),l("innerHTML",n.validationError,B)}}function Ne(o,c){o&1&&(e(0,`
                                `),t(1,"li"),e(2,`
                                    `),m(3,"b",3),e(4,`
                                `),i(),e(5,`
                            `)),o&2&&(r(3),l("jhiTranslate","artemisApp.importUsers.usersForImport.noUsersFound"))}function we(o,c){if(o&1&&(e(0,`
                    `),t(1,"div",21),e(2,`
                        `),m(3,"div",3),e(4,`
                        `),t(5,"ul",22),e(6,`
                            `),f(7,Me,9,2)(8,Ne,6,1),i(),e(9,`
                    `),i(),e(10,`
                `)),o&2){let n=x();r(3),l("jhiTranslate","artemisApp.importUsers.usersForImport.importFailed"),r(4),h(n.validationError?7:-1),r(),h(n.noUsersFoundError?8:-1)}}function De(o,c){if(o&1&&(e(0,`
                            `),t(1,"tr"),e(2,`
                                `),t(3,"th",32),e(4),i(),e(5,`
                                `),t(6,"td",33),e(7),i(),e(8,`
                                `),t(9,"td"),e(10),i(),e(11,`
                                `),t(12,"td"),e(13),i(),e(14,`
                                `),t(15,"td"),e(16),i(),e(17,`
                                `),t(18,"td"),e(19),i(),e(20,`
                            `),i(),e(21,`
                        `)),o&2){let n=c.$implicit,s=c.$index,a=x(2);r(),A("import-success",a.wasImported(n))("import-fail",a.wasNotImported(n)),r(3),u(s+1),r(3),u(n.registrationNumber),r(3),u(n.login),r(3),u(n.email),r(3),u(n.firstName),r(3),u(n.lastName)}}function Fe(o,c){if(o&1&&(e(0,`
            `),t(1,"div",24),e(2,`
                `),t(3,"div"),e(4,`
                    `),m(5,"label",25),e(6,`
                    `),m(7,"jhi-help-icon",26),e(8,`
                `),i(),e(9,`
                `),t(10,"table",27),e(11,`
                    `),t(12,"thead"),e(13,`
                        `),t(14,"tr"),e(15,`
                            `),t(16,"th",28),e(17,"#"),i(),e(18,`
                            `),t(19,"th",29),e(20,"Matriculation number"),i(),e(21,`
                            `),t(22,"th",28),e(23,"Login"),i(),e(24,`
                            `),t(25,"th",30),e(26,"Email"),i(),e(27,`
                            `),t(28,"th",30),e(29,"First name"),i(),e(30,`
                            `),t(31,"th",30),e(32,"Last name"),i(),e(33,`
                        `),i(),e(34,`
                    `),i(),e(35,`
                    `),t(36,"tbody",31),e(37,`
                        `),N(38,De,22,10,null,null,M),i(),e(40,`
                `),i(),e(41,`
            `),i(),e(42,`
        `)),o&2){let n=x();r(19),l("jhiTranslate","artemisApp.importUsers.registrationNumber"),r(6),l("jhiTranslate","artemisApp.importUsers.email"),r(3),l("jhiTranslate","artemisApp.importUsers.firstName"),r(3),l("jhiTranslate","artemisApp.importUsers.lastName"),r(7),w(n.usersToImport)}}function je(o,c){if(o&1&&(e(0,`
                            `),t(1,"tr"),e(2,`
                                `),t(3,"th",32),e(4),i(),e(5,`
                                `),t(6,"td",36),e(7),i(),e(8,`
                                `),t(9,"td"),e(10),i(),e(11,`
                                `),t(12,"td"),e(13),i(),e(14,`
                                `),t(15,"td"),e(16),i(),e(17,`
                                `),t(18,"td"),e(19),i(),e(20,`
                                `),t(21,"td"),e(22),i(),e(23,`
                                `),t(24,"td"),e(25),i(),e(26,`
                            `),i(),e(27,`
                        `)),o&2){let n=c.$implicit,s=c.$index,a=x(2);r(),A("import-success",a.wasImported(n))("import-fail",a.wasNotImported(n)),r(3),u(s+1),r(3),u(n.registrationNumber),r(3),u(n.login),r(3),u(n.email),r(3),u(n.firstName),r(3),u(n.lastName),r(3),u(n.room),r(3),u(n.seat)}}function ke(o,c){if(o&1&&(e(0,`
            `),t(1,"div",34),e(2,`
                `),t(3,"div"),e(4,`
                    `),m(5,"label",25),e(6,`
                    `),m(7,"jhi-help-icon",26),e(8,`
                `),i(),e(9,`
                `),t(10,"table",27),e(11,`
                    `),t(12,"thead"),e(13,`
                        `),t(14,"tr"),e(15,`
                            `),t(16,"th",28),e(17,"#"),i(),e(18,`
                            `),t(19,"th",35),e(20,"Matriculation number"),i(),e(21,`
                            `),t(22,"th",28),e(23,"Login"),i(),e(24,`
                            `),t(25,"th",30),e(26,"Email"),i(),e(27,`
                            `),t(28,"th",30),e(29,"First name"),i(),e(30,`
                            `),t(31,"th",30),e(32,"Last name"),i(),e(33,`
                            `),t(34,"th",30),e(35,"Room"),i(),e(36,`
                            `),t(37,"th",30),e(38,"Seat"),i(),e(39,`
                        `),i(),e(40,`
                    `),i(),e(41,`
                    `),t(42,"tbody",31),e(43,`
                        `),N(44,je,28,12,null,null,M),i(),e(46,`
                `),i(),e(47,`
            `),i(),e(48,`
        `)),o&2){let n=x();r(19),l("jhiTranslate","artemisApp.importUsers.registrationNumber"),r(6),l("jhiTranslate","artemisApp.importUsers.email"),r(3),l("jhiTranslate","artemisApp.importUsers.firstName"),r(3),l("jhiTranslate","artemisApp.importUsers.lastName"),r(3),l("jhiTranslate","artemisApp.exam.examUsers.room"),r(3),l("jhiTranslate","artemisApp.exam.examUsers.seat"),r(7),w(n.examUsersToImport)}}function Re(o,c){if(o&1&&(e(0,`
                    `),t(1,"div"),e(2,`
                        `),m(3,"strong",38),e(4,`
                        `),t(5,"span"),e(6),i(),e(7,`
                    `),i(),e(8,`
                `)),o&2){let n=x(2);r(6),F("\xA0",n.usersToImport.length,"")}}function Ge(o,c){if(o&1&&(e(0,`
                    `),t(1,"div"),e(2,`
                        `),m(3,"strong",39),e(4,`
                        `),t(5,"span"),e(6),i(),e(7,`
                    `),i(),e(8,`
                    `),t(9,"div",40),e(10,`
                        `),m(11,"strong",41),e(12,`
                        `),t(13,"span")(14,"b",42),e(15),i()(),e(16,`
                    `),i(),e(17,`
                `)),o&2){let n=x(2);r(6),u(n.numberOfUsersImported),r(9),u(n.numberOfUsersNotImported)}}function Oe(o,c){if(o&1&&(e(0,`
            `),t(1,"div",37),e(2,`
                `),f(3,Re,9,1)(4,Ge,18,2),i(),e(5,`
        `)),o&2){let n=x();r(3),h(n.hasImported?4:3)}}function Le(o,c){if(o&1&&(e(0,`
                    `),t(1,"div"),e(2,`
                        `),m(3,"strong",38),e(4,`
                        `),t(5,"span"),e(6),i(),e(7,`
                    `),i(),e(8,`
                `)),o&2){let n=x(2);r(6),F("\xA0",n.examUsersToImport.length,"")}}function Be(o,c){if(o&1&&(e(0,`
                    `),t(1,"div"),e(2,`
                        `),m(3,"strong",39),e(4,`
                        `),t(5,"span"),e(6),i(),e(7,`
                    `),i(),e(8,`
                    `),t(9,"div",40),e(10,`
                        `),m(11,"strong",41),e(12,`
                        `),t(13,"span")(14,"b",42),e(15),i()(),e(16,`
                    `),i(),e(17,`
                `)),o&2){let n=x(2);r(6),u(n.numberOfUsersImported),r(9),u(n.numberOfUsersNotImported)}}function Ve(o,c){if(o&1&&(e(0,`
            `),t(1,"div",37),e(2,`
                `),f(3,Le,9,1)(4,Be,18,2),i(),e(5,`
        `)),o&2){let n=x();r(3),h(n.hasImported?4:3)}}function He(o,c){if(o&1){let n=D();e(0,`
                `),t(1,"button",43),g("click",function(){I(n);let a=x();return _(a.clear())}),e(2,`
                    `),m(3,"fa-icon",44),e(4,"\xA0"),m(5,"span",45),e(6,`
                `),i(),e(7,`
                `),t(8,"button",46),g("click",function(){I(n);let a=x();return _(a.importUsers())}),e(9,`
                    `),m(10,"fa-icon",47),e(11,`
                    `),m(12,"span",48),e(13,`
                    `),m(14,"fa-icon",49),e(15,`
                `),i(),e(16,`
            `)}if(o&2){let n=x();r(3),l("icon",n.faBan),r(5),l("disabled",n.isSubmitDisabled),r(2),l("icon",n.faUpload),r(4),l("hidden",!n.isImporting)("icon",n.faCircleNotch)}}function Pe(o,c){if(o&1){let n=D();e(0,`
                `),t(1,"button",50),g("click",function(){I(n);let a=x();return _(a.onFinish())}),e(2,`
                    `),m(3,"fa-icon",47),e(4,`
                    `),m(5,"span",51),e(6,`
                `),i(),e(7,`
            `)}if(o&2){let n=x();r(3),l("icon",n.faCheck)}}var he=["registrationnumber","matriculationnumber","matrikelnummer","number"],fe=["login","user","username","benutzer","benutzername"],Se=["email","e-mail","mail"],ze=["firstname","firstnameofstudent","givenname","forename","vorname"],$e=["familyname","lastname","familynameofstudent","surname","nachname","familienname","name"],Ke=["actualroom","actualRoom","raum","room","Room"],Qe=["actualseat","actualSeat","sitzplatz","sitz","seat","Seat"],ge=(()=>{class o{activeModal=S(Y);alertService=S(re);examManagementService=S(ue);courseManagementService=S(ae);adminUserService=S(xe);tutorialGroupService=S(oe);ActionType=pe;importForm;courseId;courseGroup;exam;tutorialGroup;examUserMode;adminUserMode;usersToImport=[];examUsersToImport=[];notFoundUsers=[];isParsing=!1;validationError;noUsersFoundError;isImporting=!1;hasImported=!1;dialogErrorSource=new O;dialogError$=this.dialogErrorSource.asObservable();faBan=X;faSpinner=ie;faCheck=ne;faCircleNotch=W;faUpload=te;faArrowRight=ee;ngOnDestroy(){this.dialogErrorSource.unsubscribe()}resetDialog(){this.usersToImport=[],this.examUsersToImport=[],this.notFoundUsers=[],this.hasImported=!1}onCSVFileSelect(n){return y(this,null,function*(){n.target.files.length>0&&(this.resetDialog(),this.examUserMode?this.examUsersToImport=yield this.readUsersFromCSVFile(n,n.target.files[0]):this.usersToImport=yield this.readUsersFromCSVFile(n,n.target.files[0]))})}readUsersFromCSVFile(n,s){return y(this,null,function*(){let a=[];try{this.isParsing=!0,this.validationError=void 0,a=yield this.parseCSVFile(s)}catch(d){this.validationError=d.message}finally{this.isParsing=!1}if(a.length>0?this.performExtraValidations(a):a.length===0&&(this.noUsersFoundError=!0),this.validationError||a.length===0)return n.target.value="",[];let p=Object.keys(a.first()||[]),E=p.find(d=>he.includes(d))||"",b=p.find(d=>fe.includes(d))||"",v=p.find(d=>Se.includes(d))||"",R=p.find(d=>ze.includes(d))||"",G=p.find(d=>$e.includes(d))||"",be=p.find(d=>Ke.includes(d))||"",ve=p.find(d=>Qe.includes(d))||"";return this.examUserMode?a.map(d=>({registrationNumber:d[E]?.trim()||"",login:d[b]?.trim()||"",email:d[v]?.trim()||"",firstName:d[R]?.trim()||"",lastName:d[G]?.trim()||"",room:d[be]?.trim()||"",seat:d[ve]?.trim()||""})):a.map(d=>({registrationNumber:d[E]?.trim()||"",login:d[b]?.trim()||"",email:d[v]?.trim()||"",firstName:d[R]?.trim()||"",lastName:d[G]?.trim()||""}))})}performExtraValidations(n){let s=this.computeInvalidUserEntries(n);s&&(this.validationError=s.length<=30?s:s.slice(0,30)+"...")}checkIfEntryContainsKey(n,s){return s.some(a=>n[a]!==void 0&&n[a]!=="")}computeInvalidUserEntries(n){let s=[];for(let[a,p]of n.entries()){let E=this.checkIfEntryContainsKey(p,fe),b=this.checkIfEntryContainsKey(p,he),v=this.checkIfEntryContainsKey(p,Se);!E&&!b&&!v&&s.push(a+2)}return s.length===0?void 0:s.join(", ")}parseCSVFile(n){return new Promise((s,a)=>{(0,Ee.parse)(n,{header:!0,transformHeader:p=>le(p),skipEmptyLines:!0,complete:p=>s(p.data),error:p=>a(p)})})}importUsers(){if(this.isImporting=!0,this.tutorialGroup)this.tutorialGroupService.registerMultipleStudents(this.courseId,this.tutorialGroup.id,this.usersToImport).subscribe({next:n=>this.onSaveSuccess(n),error:()=>this.onSaveError()});else if(this.courseGroup&&!this.exam)this.courseManagementService.addUsersToGroupInCourse(this.courseId,this.usersToImport,this.courseGroup).subscribe({next:n=>this.onSaveSuccess(n),error:()=>this.onSaveError()});else if(!this.courseGroup&&this.exam)this.examManagementService.addStudentsToExam(this.courseId,this.exam.id,this.examUsersToImport).subscribe({next:n=>this.onSaveSuccess(n),error:()=>this.onSaveError()});else if(this.adminUserMode){let n=this.usersToImport.map(s=>T(C({},s),{visibleRegistrationNumber:s.registrationNumber}));this.adminUserService.importAll(n).subscribe({next:s=>{let a=new z({body:s.body?.map(p=>T(C({},p),{registrationNumber:p.visibleRegistrationNumber}))});this.onSaveSuccess(a)},error:()=>this.onSaveError()})}else this.alertService.error("artemisApp.importUsers.genericErrorMessage")}wasImported(n){return this.hasImported&&!this.wasNotImported(n)}wasNotImported(n){if(this.hasImported&&this.notFoundUsers?.length===0)return!1;for(let s of this.notFoundUsers)if(s.registrationNumber?.length&&s.registrationNumber===n.registrationNumber||s.login?.length&&s.login===n.login||s.email?.length&&s.email===n.email)return!0;return!1}get numberOfUsersImported(){return this.hasImported?this.examUserMode?this.examUsersToImport.length-this.numberOfUsersNotImported:this.usersToImport.length-this.numberOfUsersNotImported:0}get numberOfUsersNotImported(){return this.hasImported?this.notFoundUsers.length:0}get isSubmitDisabled(){return this.examUserMode?this.isImporting||!this.examUsersToImport?.length:this.isImporting||!this.usersToImport?.length}onSaveSuccess(n){this.isImporting=!1,this.hasImported=!0,this.notFoundUsers=n.body||[]}onSaveError(){this.alertService.error("artemisApp.importUsers.genericErrorMessage"),this.isImporting=!1}clear(){this.activeModal.dismiss("cancel")}onFinish(){this.activeModal.close()}static \u0275fac=function(s){return new(s||o)};static \u0275cmp=U({type:o,selectors:[["jhi-users-import-dialog"]],viewQuery:function(s,a){if(s&1&&V(Ce,5),s&2){let p;H(p=P())&&(a.importForm=p.first)}},inputs:{courseId:"courseId",courseGroup:"courseGroup",exam:"exam",tutorialGroup:"tutorialGroup",examUserMode:"examUserMode",adminUserMode:"adminUserMode"},decls:60,vars:10,consts:[["id","userImportDialogForm","name","importForm","role","form","novalidate",""],[1,"modal-header"],[1,"modal-title"],[3,"jhiTranslate"],["type","button","data-dismiss","modal","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["jhiTranslate","artemisApp.importUsers.introText",1,"intro-text"],["jhiTranslate","artemisApp.importUsers.dialogText",1,"intro-text"],["jhiTranslate","artemisApp.importUsers.csvExampleText",1,"intro-text"],[1,"d-flex","align-items-end"],["for","importCSV","jhiTranslate","artemisApp.importUsers.csvFile.label",1,"label-narrow","font-weight-bold"],["text","artemisApp.importUsers.csvFile.tooltip",1,"me-1"],[1,"mt-2"],["id","importCSV","type","file","accept",".csv",3,"change"],[1,"modal-footer","justify-content-between"],[1,"flex-grow-1","d-flex","justify-content-end"],[1,"d-flex","justify-content-center","align-items-center"],[1,"table","table-bordered","w-auto"],[1,"mx-2",3,"icon"],["animation","spin",1,"loading-spinner","ms-1",3,"icon"],[1,"mt-4","mb-2","text-danger"],[1,"mt-1"],[3,"innerHTML"],[1,"form-group","mt-4"],["jhiTranslate","artemisApp.importUsers.usersForImport.label",1,"label-narrow","font-weight-bold"],["text","artemisApp.importUsers.usersForImport.tooltip",1,"me-1"],[1,"table","table-striped","table-sm","header-fixed","mt-2"],["scope","col"],["scope","col",2,"width","300px",3,"jhiTranslate"],["scope","col",3,"jhiTranslate"],[1,"table-body--students"],["scope","row"],[2,"width","300px"],[1,"form-group","mt-4","table-responsive"],["scope","col",2,"width","350px",3,"jhiTranslate"],[2,"width","350px"],[1,"flex-shrink-0","me-2","d-flex"],["jhiTranslate","artemisApp.importUsers.numberOfUsers"],["jhiTranslate","artemisApp.importUsers.numberOfUsersImported"],[1,"ms-2"],["jhiTranslate","artemisApp.importUsers.numberOfUsersNotImported"],[2,"color","red"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","cancel","me-2",3,"click"],[3,"icon"],["jhiTranslate","entity.action.cancel"],["type","submit","id","import","name","importButton",1,"btn","btn-primary",3,"click","disabled"],[1,"me-2",3,"icon"],["jhiTranslate","entity.action.to-import"],["animation","spin",1,"ms-1",3,"hidden","icon"],["id","finish-button",1,"btn","btn-success",3,"click"],["jhiTranslate","entity.action.finish"]],template:function(s,a){s&1&&(t(0,"form",0),e(1,`
    `),t(2,"div",1),e(3,`
        `),t(4,"h4",2),e(5,`
            `),t(6,"span",3),e(7," Import users into: "),i(),e(8,`
        `),i(),e(9,`
        `),t(10,"button",4),g("click",function(){return a.clear()}),i(),e(11,`
    `),i(),e(12,`
    `),t(13,"div",5),e(14,`
        `),t(15,"div",6),e(16,`
            `),m(17,"p",7),e(18,`
            `),m(19,"p",8),e(20,`
            `),m(21,"p",9),e(22,`
        `),i(),e(23,`
        `),f(24,Te,60,3)(25,ye,54,5),t(26,"div",6),e(27,`
            `),t(28,"div",10),e(29,`
                `),t(30,"div"),e(31,`
                    `),m(32,"label",11),e(33,`
                    `),m(34,"jhi-help-icon",12),e(35,`
                `),i(),e(36,`
                `),f(37,Ae,3,1),i(),e(38,`
            `),t(39,"div",13),e(40,`
                `),t(41,"input",14),g("change",function(E){return a.onCSVFileSelect(E)}),i(),e(42,`
                `),f(43,we,11,3),i(),e(44,`
        `),i(),e(45,`
        `),f(46,Fe,43,4)(47,ke,49,6),i(),e(48,`
    `),t(49,"div",15),e(50,`
        `),f(51,Oe,6,1)(52,Ve,6,1),t(53,"div",16),e(54,`
            `),f(55,He,17,5)(56,Pe,8,1),i(),e(57,`
    `),i(),e(58,`
`),i(),e(59,`
`)),s&2&&(r(6),l("jhiTranslate","artemisApp.importUsers.dialogTitle"),r(18),h(a.examUserMode?-1:24),r(),h(a.examUserMode?25:-1),r(12),h(a.isParsing?37:-1),r(6),h(a.validationError||a.noUsersFoundError?43:-1),r(3),h(a.usersToImport&&a.usersToImport.length>0&&!a.examUserMode?46:-1),r(),h(a.examUsersToImport&&a.examUsersToImport.length>0&&a.examUserMode?47:-1),r(4),h(a.usersToImport&&a.usersToImport.length>0?51:-1),r(),h(a.examUsersToImport&&a.examUsersToImport.length>0?52:-1),r(3),h(a.hasImported?56:55))},dependencies:[q,Q,$,K,me,se,ce],styles:[`:host{display:block}.loading-spinner{position:relative;top:-2px}.label-narrow{display:inline-block;margin-bottom:.1rem}.import-success,.import-fail{position:relative}.import-success:nth-child(odd):before,.import-fail:nth-child(odd):before{content:"";pointer-events:none;position:absolute;inset:0;background:#00000008}table.table.table-striped .import-success td,table.table.table-striped .import-success th{color:#155724;background-color:#d4edda}table.table.table-striped .import-fail td,table.table.table-striped .import-fail th{color:#dc3545;background-color:#f8d7da}.header-fixed{width:100%}.header-fixed thead,.header-fixed tbody,.header-fixed thead>tr,.header-fixed tbody>tr,.header-fixed thead>tr>th,.header-fixed tbody>tr>td,.header-fixed th{display:block}.header-fixed tbody>tr:after,.header-fixed thead>tr:after{content:" ";display:block;visibility:hidden;clear:both}.header-fixed thead{overflow-y:scroll}.header-fixed tbody{overflow-y:scroll;min-height:150px;max-height:max(300px,100vh - 500px)}.header-fixed tbody>tr>td,.header-fixed th{width:25%;float:left}.header-fixed tr{display:flex!important}.header-fixed td,.header-fixed th{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.modal-footer button[disabled]{cursor:not-allowed}
`],encapsulation:2})}return o})();var Mt=(()=>{class o{modalService=S(J);ButtonType=j;ButtonSize=k;tutorialGroup=void 0;examUserMode;adminUserMode;courseGroup;courseId;buttonSize=k.MEDIUM;buttonType=j.PRIMARY;exam;importDone=new L;faFileImport=Z;openUsersImportDialog(n){n.stopPropagation();let s=this.modalService.open(ge,{keyboard:!0,size:"lg",backdrop:"static"});s.componentInstance.courseId=this.courseId,s.componentInstance.courseGroup=this.courseGroup,s.componentInstance.exam=this.exam,s.componentInstance.tutorialGroup=this.tutorialGroup,s.componentInstance.examUserMode=this.examUserMode,s.componentInstance.adminUserMode=this.adminUserMode,s.result.then(()=>this.importDone.emit(),()=>{})}static \u0275fac=function(s){return new(s||o)};static \u0275cmp=U({type:o,selectors:[["jhi-user-import-button"]],inputs:{tutorialGroup:"tutorialGroup",examUserMode:"examUserMode",adminUserMode:"adminUserMode",courseGroup:"courseGroup",courseId:"courseId",buttonSize:"buttonSize",buttonType:"buttonType",exam:"exam"},outputs:{importDone:"importDone"},decls:3,vars:4,consts:[[3,"onClick","btnType","btnSize","icon","title"]],template:function(s,a){s&1&&(e(0,`
        `),t(1,"jhi-button",0),g("onClick",function(E){return a.openUsersImportDialog(E)}),i(),e(2,`
    `)),s&2&&(r(),l("btnType",a.buttonType)("btnSize",a.buttonSize)("icon",a.faFileImport)("title","artemisApp.importUsers.buttonLabel"))},dependencies:[de],encapsulation:2})}return o})();export{Mt as a};
//# sourceMappingURL=chunk-ST7GO324.js.map
