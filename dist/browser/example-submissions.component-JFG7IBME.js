import{a as R}from"./chunk-UVXOAEFF.js";import"./chunk-FNJRUM5G.js";import{a as _e,b as Se}from"./chunk-NV4PYWIT.js";import{b as V}from"./chunk-22YQSX6Z.js";import"./chunk-R56P6PAY.js";import"./chunk-65Z25AP3.js";import"./chunk-5M3YV54C.js";import"./chunk-RYZEETVB.js";import"./chunk-VTF2OQPK.js";import"./chunk-BNRTXX46.js";import"./chunk-VPHPBAVR.js";import"./chunk-N4VVKRBU.js";import"./chunk-5AQXEKLE.js";import"./chunk-3JSWSN6W.js";import"./chunk-7XNS72RJ.js";import"./chunk-KYCCMZSV.js";import"./chunk-DXTZ4GAW.js";import"./chunk-2UXGFGK3.js";import"./chunk-O4VJ5OXY.js";import"./chunk-BDII35IB.js";import"./chunk-LARBQRTJ.js";import"./chunk-OTNXTVPX.js";import"./chunk-Z2YUBN6N.js";import"./chunk-OTCBNILH.js";import"./chunk-6EYB5QBP.js";import"./chunk-W7RIOT23.js";import"./chunk-GERFCPB6.js";import{a as de,b as ue}from"./chunk-VRAVBLUK.js";import{d as xe}from"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-QA7Y7QBM.js";import"./chunk-ZPITQMA6.js";import"./chunk-2CUFQLAH.js";import"./chunk-Z6NSEM73.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import{c as pe}from"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import{c as ce}from"./chunk-JNO6DNVW.js";import"./chunk-EELXLOHY.js";import{D as ie,K as L,v as te}from"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import{K as ee,c as X,h as q,i as J,k as K,m as Y,n as Z}from"./chunk-WA5GEAJB.js";import"./chunk-VK7JPHFE.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{a as B}from"./chunk-K3W6YFKH.js";import{c as le}from"./chunk-JXJXC4DZ.js";import{d as D}from"./chunk-EDXSOKK5.js";import{b as me}from"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import{c as z,k as re}from"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Lc as oe,Oc as ae,kb as P,wc as ne,wd as se}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as M}from"./chunk-U54OSGNH.js";import{f as U,i as $}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{O as H}from"./chunk-IOA4DPXY.js";import{Db as s,Dc as g,Ea as b,Ma as C,Mc as h,Na as E,Oc as p,Rc as Q,Tb as A,Xb as W,Zb as u,dd as e,ed as T,fd as v,gd as G,kc as c,ld as k,md as y,nd as F,sc as x,uc as I,vc as w,wc as j,xc as n,ya as O,yc as o,yd as _,z as N,zc as r,zd as S}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";var fe=(()=>{class i extends _e{http=b(H);static RESOURCE_URL="api/exercise/exercises";constructor(){super()}search(t,m){let a=this.createHttpParams(t);return this.http.get(`${i.RESOURCE_URL}/${m.exerciseId}/submissions-for-import`,{params:a,observe:"response"}).pipe(N(d=>d&&d.body))}static \u0275fac=function(m){return new(m||i)};static \u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ee(i,l){i&1&&(e(0,`
                `),r(1,"span",9),e(2,`
            `))}function he(i,l){if(i&1&&(e(0,`
                                    `),r(1,"fa-icon",22),_(2,"artemisTranslate"),e(3,`
                                `)),i&2){let t=p(2);s(),c("icon",t.faQuestionCircle)("ngbTooltip",S(2,2,"artemisApp.exampleSubmission.textSubmissionSizeHint"))}}function ge(i,l){if(i&1&&(e(0,`
                                    `),r(1,"fa-icon",22),_(2,"artemisTranslate"),e(3,`
                                `)),i&2){let t=p(2);s(),c("icon",t.faQuestionCircle)("ngbTooltip",S(2,2,"artemisApp.exampleSubmission.modelingSubmissionSizeHint"))}}function Te(i,l){if(i&1){let t=g();e(0,`
                            `),n(1,"tr"),e(2,`
                                `),n(3,"td"),e(4),o(),e(5,`
                                `),n(6,"td"),e(7),o(),e(8,`
                                `),n(9,"td"),e(10),_(11,"artemisDate"),o(),e(12,`
                                `),n(13,"td"),e(14,`
                                    `),r(15,"jhi-result",23),e(16,`
                                `),o(),e(17,`
                                `),n(18,"td"),e(19),o(),e(20,`
                                `),n(21,"td"),e(22,`
                                    `),n(23,"jhi-button",24),h("onClick",function(){let a=C(t).$implicit,d=p(2);return E(d.selectImport(a))}),o(),e(24,`
                                `),o(),e(25,`
                            `),o(),e(26,`
                        `)}if(i&2){let t=l.$implicit,m=l.$index,a=p(2);s(4),T(m+1),s(3),T(t.participation==null?null:t.participation.participantName),s(3),T(S(11,7,t.submissionDate)),s(5),c("exercise",a.exercise)("participation",t.participation),s(4),v(`
                                    `,t.submissionSize,`
                                `),s(4),c("title","artemisApp.exercise.import.table.doImport")}}function ve(i,l){if(i&1){let t=g();e(0,`
            `),n(1,"div",10),e(2,`
                `),n(3,"table",11),e(4,`
                    `),n(5,"thead",12),e(6,`
                        `),n(7,"tr",13),F("predicateChange",function(a){C(t);let d=p();return y(d.sortedColumn,a)||(d.sortedColumn=a),E(a)})("ascendingChange",function(a){C(t);let d=p();return y(d.listSorting,a)||(d.listSorting=a),E(a)}),h("sortChange",function(){C(t);let a=p();return E(a.sortRows())}),e(8,`
                            `),n(9,"th",14),e(10,`
                                `),n(11,"span"),e(12,"#"),o(),e(13,`
                            `),o(),e(14,`
                            `),n(15,"th",15),e(16,`
                                `),r(17,"span",16),e(18,`
                                `),r(19,"fa-icon",17),e(20,`
                            `),o(),e(21,`
                            `),n(22,"th"),e(23,`
                                `),r(24,"span",18),e(25,`
                            `),o(),e(26,`
                            `),n(27,"th"),e(28,`
                                `),r(29,"span",19),e(30,`
                            `),o(),e(31,`
                            `),n(32,"th",20),e(33,`
                                `),r(34,"span",21),e(35,`
                                `),u(36,he,4,4)(37,ge,4,4),o(),e(38,`
                            `),r(39,"th"),e(40,`
                        `),o(),e(41,`
                    `),o(),e(42,`
                    `),n(43,"tbody"),e(44,`
                        `),w(45,Te,27,9,null,null,I),o(),e(47,`
                `),o(),e(48,`
            `),o(),e(49,`
        `)}if(i&2){let t=p();s(7),k("predicate",t.sortedColumn)("ascending",t.listSorting),s(12),c("icon",t.faSort),s(17),x(t.exercise&&t.exercise.type===t.ExerciseType.TEXT?36:-1),s(),x(t.exercise&&t.exercise.type===t.ExerciseType.MODELING?37:-1),s(8),j(t.content.resultsOnPage)}}function ye(i,l){i&1&&(e(0,`
                `),r(1,"p",25),e(2,`
            `))}function Ae(i,l){i&1&&(e(0,`
                `),r(1,"p",26),e(2,`
            `))}function Ie(i,l){if(i&1&&(e(0,`
            `),u(1,ye,3,0)(2,Ae,3,0)),i&2){let t=p();s(),x(t.searchTermEntered?1:-1),s(),x(t.searchTermEntered?-1:2)}}var Ce=(()=>{class i extends Se{exampleSubmissionService=b(R);exercise;faQuestionCircle=P;ExerciseType=z;constructor(){let t=b(fe);super(t)}get searchTermEntered(){return!!(this.state?.searchTerm?.length&&this.state.searchTerm.length>0)}onSearchResult(){this.content?.resultsOnPage?.forEach(t=>{t.submissionSize=this.exampleSubmissionService.getSubmissionSize(t,this.exercise)})}createOptions(){return{exerciseId:this.exercise.id}}static \u0275fac=function(m){return new(m||i)};static \u0275cmp=A({type:i,selectors:[["jhi-example-submission-import"]],features:[W],decls:29,vars:11,consts:[[1,"modal-header"],["jhiTranslate","artemisApp.exampleSubmission.useAsExampleSubmissionLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group","form-inline"],["jhiTranslate","artemisApp.exampleSubmission.searchSubmission","for","searchParticipant",1,"form-control-label"],["type","text","name","searchParticipant","id","searchParticipant",1,"form-control","ms-2",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","maxSize","rotate","collectionSize","page","pageSize"],["jhiTranslate","artemisApp.exercise.import.loading",1,"ms-3"],[1,"table-responsive"],[1,"table","table-striped"],[1,"thead-dark"],["jhiSort","",3,"predicateChange","ascendingChange","sortChange","predicate","ascending"],["jhiSortBy","ID"],["jhiSortBy","STUDENT_NAME"],["jhiTranslate","artemisApp.exercise.name"],[3,"icon"],["jhiTranslate","artemisApp.assessment.dashboard.columns.submissionDate"],["jhiTranslate","artemisApp.assessment.dashboard.columns.result"],[2,"display","table-caption"],["jhiTranslate","artemisApp.exampleSubmission.submissionSize"],[1,"text-secondary","ps-1",3,"icon","ngbTooltip"],[3,"exercise","participation"],[3,"onClick","title"],["jhiTranslate","artemisApp.assessment.dashboard.empty"],["jhiTranslate","artemisApp.assessment.dashboard.emptySearch"]],template:function(m,a){m&1&&(n(0,"form"),e(1,`
    `),n(2,"div",0),e(3,`
        `),r(4,"h4",1),e(5,`
        `),n(6,"button",2),h("click",function(){return a.clear()}),o(),e(7,`
    `),o(),e(8,`
    `),n(9,"div",3),e(10,`
        `),n(11,"div",4),e(12,`
            `),r(13,"label",5),e(14,`
            `),n(15,"input",6),_(16,"artemisTranslate"),F("ngModelChange",function(f){return y(a.searchTerm,f)||(a.searchTerm=f),f}),o(),e(17,`
            `),u(18,Ee,3,0),o(),e(19,`
        `),u(20,ve,50,5)(21,Ie,3,2),n(22,"div",7),e(23,`
            `),n(24,"ngb-pagination",8),F("pageChange",function(f){return y(a.state.page,f)||(a.state.page=f),f}),h("pageChange",function(f){return a.onPageChange(f)}),o(),e(25,`
        `),o(),e(26,`
    `),o(),e(27,`
`),o(),e(28,`
`)),m&2&&(s(15),Q("placeholder",S(16,9,"artemisApp.exercise.name")),k("ngModel",a.searchTerm),s(3),x(a.loading?18:-1),s(2),x(a.content.resultsOnPage&&a.content.resultsOnPage.length>0?20:21),s(4),c("maxSize",10)("rotate",!0)("collectionSize",a.total),k("page",a.state.page),c("pageSize",a.state.pageSize))},dependencies:[ee,Z,X,q,J,Y,K,M,de,ue,D,L,V,xe,ie,ce,B],encapsulation:2})}return i})();function we(i,l){if(i&1&&(e(0,`
                    `),n(1,"a",5),e(2,`
                        `),r(3,"fa-icon",6),e(4,`
                        `),r(5,"fa-icon",7),e(6,`
                        `),r(7,"span",8),e(8,`
                    `),o(),e(9,`
                `)),i&2){let t=p(2);s(),c("routerLink",t.getLinkToExampleSubmission("new")),s(2),c("icon",t.faPlus),s(2),c("icon",t.faFont)}}function je(i,l){if(i&1){let t=g();e(0,`
                    `),n(1,"a",9),h("click",function(){C(t);let a=p(2);return E(a.openImportModal())}),e(2,`
                        `),r(3,"fa-icon",6),e(4,`
                        `),r(5,"fa-icon",7),e(6,`
                        `),r(7,"span",10),e(8,`
                    `),o(),e(9,`
                `)}if(i&2){let t=p(2);s(3),c("icon",t.faPlus),s(2),c("icon",t.faFont)}}function ke(i,l){if(i&1&&(e(0,`
        `),n(1,"div",1),e(2,`
            `),n(3,"div",2),e(4,`
                `),n(5,"h4"),e(6,`
                    `),r(7,"span",3),e(8,`
                `),o(),e(9,`
            `),o(),e(10,`
            `),n(11,"div",4),e(12,`
                `),u(13,we,10,3)(14,je,10,2),o(),e(15,`
        `),o(),e(16,`
    `)),i&2){let t=p();s(13),x(t.exercise.course.isAtLeastEditor?13:-1),s(),x(t.exercise.course.isAtLeastEditor?14:-1)}}function Fe(i,l){if(i&1&&(e(0,`
                                `),r(1,"fa-icon",19),_(2,"artemisTranslate"),e(3,`
                            `)),i&2){let t=p(2);s(),c("icon",t.faQuestionCircle)("ngbTooltip",S(2,2,"artemisApp.exampleSubmission.textSubmissionSizeHint"))}}function Le(i,l){if(i&1&&(e(0,`
                                `),r(1,"fa-icon",19),_(2,"artemisTranslate"),e(3,`
                            `)),i&2){let t=p(2);s(),c("icon",t.faQuestionCircle)("ngbTooltip",S(2,2,"artemisApp.exampleSubmission.modelingSubmissionSizeHint"))}}function Pe(i,l){i&1&&(e(0,`
                            `),r(1,"th"),e(2,`
                        `))}function ze(i,l){if(i&1&&(e(0,`
                                    `),r(1,"jhi-result",21),e(2,`
                                `)),i&2){let t=p().$implicit,m=p(2);s(),c("result",t.submission.results[0])("exercise",m.exercise)}}function Be(i,l){i&1&&(e(0,`
                                    `),r(1,"jhi-result"),e(2,`
                                `))}function De(i,l){i&1&&(e(0,`
                                    `),r(1,"span",22),e(2,`
                                `))}function Me(i,l){i&1&&(e(0,`
                                    `),r(1,"span",23),e(2,`
                                `))}function Ve(i,l){if(i&1&&(e(0,`
                                    `),r(1,"fa-icon",24),_(2,"artemisTranslate"),e(3,`
                                `)),i&2){let t=p(3);s(),c("icon",t.faExclamationTriangle)("ngbTooltip",S(2,2,"artemisApp.exampleSubmission.exampleAssessmentWarning"))}}function Re(i,l){if(i&1){let t=g();e(0,`
                                `),n(1,"td"),e(2,`
                                    `),n(3,"button",25),h("click",function(){C(t);let a=p().$index,d=p(2);return E(d.deleteExampleSubmission(a))}),e(4,`
                                        `),r(5,"fa-icon",6),e(6),_(7,"artemisTranslate"),o(),e(8,`
                                `),o(),e(9,`
                            `)}if(i&2){let t=p(3);s(5),c("icon",t.faTimes),s(),v(`
                                        `,S(7,2,"entity.action.delete"),`
                                    `)}}function Ne(i,l){if(i&1&&(e(0,`
                        `),n(1,"tr"),e(2,`
                            `),n(3,"td"),e(4,`
                                `),n(5,"a",20),e(6),o(),e(7,`
                            `),o(),e(8,`
                            `),n(9,"td"),e(10,`
                                `),n(11,"a",20),e(12),_(13,"artemisTranslate"),o(),e(14,`
                            `),o(),e(15,`
                            `),n(16,"td"),e(17,`
                                `),u(18,ze,3,2)(19,Be,3,0),o(),e(20,`
                            `),n(21,"td"),e(22),o(),e(23,`
                            `),n(24,"td"),e(25),_(26,"artemisTranslate"),o(),e(27,`
                            `),n(28,"td"),e(29,`
                                `),u(30,De,3,0)(31,Me,3,0)(32,Ve,4,4),o(),e(33,`
                            `),u(34,Re,10,4),o(),e(35,`
                    `)),i&2){let t=l.$implicit,m=l.$index,a=p(2);s(5),c("routerLink",a.getLinkToExampleSubmission(t.id)),s(),v(`
                                    `,t.id,`
                                `),s(5),c("routerLink",a.getLinkToExampleSubmission(t.id)),s(),G(`
                                    `,S(13,12,"artemisApp.exampleSubmission.exampleSubmission")," ",m+1,`
                                `),s(6),x(t.submission&&t.submission.results&&t.submission.results.length>0?18:19),s(4),v(`
                                `,t.submission.submissionSize,`
                            `),s(3),T(S(26,14,"artemisApp.exampleSubmission."+(t.usedForTutorial?"assessCorrectly":"readAndConfirm"))),s(5),x(a.createdExampleAssessment[m]?30:-1),s(),x(a.createdExampleAssessment[m]?-1:31),s(),x(a.createdExampleAssessment[m]?-1:32),s(2),x(a.exercise.course.isAtLeastEditor?34:-1)}}function Oe(i,l){if(i&1&&(e(0,`
            `),n(1,"table",11),e(2,`
                `),n(3,"thead"),e(4,`
                    `),n(5,"tr"),e(6,`
                        `),n(7,"th"),r(8,"span",12),o(),e(9,`
                        `),n(10,"th"),r(11,"span",13),o(),e(12,`
                        `),n(13,"th"),r(14,"span",14),o(),e(15,`
                        `),n(16,"th"),e(17,`
                            `),r(18,"span",15),e(19,`
                            `),u(20,Fe,4,4)(21,Le,4,4),o(),e(22,`
                        `),n(23,"th"),r(24,"span",16),o(),e(25,`
                        `),n(26,"th"),r(27,"span",17),o(),e(28,`
                        `),u(29,Pe,3,0),o(),e(30,`
                `),o(),e(31,`
                `),n(32,"tbody",18),e(33,`
                    `),w(34,Ne,36,16,null,null,I),o(),e(36,`
            `),o(),e(37,`
        `)),i&2){let t=p();s(20),x(t.exercise.type===t.exerciseType.TEXT?20:-1),s(),x(t.exercise.type===t.exerciseType.MODELING?21:-1),s(8),x(t.exercise.course.isAtLeastEditor?29:-1),s(5),j(t.exercise.exampleSubmissions)}}var wt=(()=>{class i{alertService=b(le);exampleSubmissionService=b(R);activatedRoute=b(U);modalService=b(te);accountService=b(me);exercise;exerciseType=z;createdExampleAssessment;faPlus=oe;faTimes=ae;faFont=ne;faQuestionCircle=P;faExclamationTriangle=se;ngOnInit(){this.activatedRoute.data.subscribe(({exercise:t})=>{t.course=re(t),this.accountService.setAccessRightsForCourse(t.course),this.exercise=t,this.createdExampleAssessment=this.exercise.exampleSubmissions?.map(m=>m.submission?.results?.some(a=>a.exampleResult)??!1)??[]}),this.exercise?.exampleSubmissions?.forEach(t=>{t.submission&&(t.submission.submissionSize=this.exampleSubmissionService.getSubmissionSize(t.submission,this.exercise))})}ngOnDestroy(){this.modalService?.hasOpenModals()&&this.modalService.dismissAll()}deleteExampleSubmission(t){let m=this.exercise.exampleSubmissions[t].id;this.exampleSubmissionService.delete(m).subscribe({next:()=>{this.exercise.exampleSubmissions.splice(t,1),this.createdExampleAssessment.splice(t,1)},error:a=>{this.alertService.error(a.message)}})}getLinkToExampleSubmission(t){return this.exercise.exerciseGroup?["/course-management",this.exercise.course.id,"exams",this.exercise.exerciseGroup.exam.id,"exercise-groups",this.exercise.exerciseGroup.id,this.exercise.type+"-exercises",this.exercise.id,"example-submissions",t]:["/course-management",this.exercise.course.id,this.exercise.type+"-exercises",this.exercise.id,"example-submissions",t]}openImportModal(){let t=this.modalService.open(Ce,{size:"lg",backdrop:"static"});t.componentInstance.exercise=this.exercise,t.result.then(m=>{this.exampleSubmissionService.import(m.id,this.exercise.id).subscribe({next:()=>{this.alertService.success("artemisApp.exampleSubmission.submitSuccessful"),location.reload()},error:a=>pe(this.alertService,a)})})}static \u0275fac=function(m){return new(m||i)};static \u0275cmp=A({type:i,selectors:[["ng-component"]],decls:10,vars:2,consts:[[1,"table-responsive"],[1,"row"],[1,"col-12","col-sm"],["jhiTranslate","artemisApp.exampleSubmission.exampleSubmissions"],[1,"col-12","col-sm-auto","d-flex","flex-btn-group-container","me-1","mb-1"],[1,"btn","btn-primary","me-1","mb-1",3,"routerLink"],[3,"icon"],[1,"d-xl-none",3,"icon"],["jhiTranslate","artemisApp.modelingExercise.createExampleSubmission","id","create-example-submission",1,"d-none","d-xl-inline"],[1,"btn","btn-primary","me-1","mb-1",3,"click"],["jhiTranslate","artemisApp.exampleSubmission.useAsExampleSubmission",1,"d-none","d-xl-inline"],[1,"table","table-striped"],["jhiTranslate","global.field.id"],["jhiTranslate","artemisApp.exercise.title"],["jhiTranslate","artemisApp.assessment.dashboard.columns.result"],["jhiTranslate","artemisApp.exampleSubmission.submissionSize"],["jhiTranslate","artemisApp.exampleSubmission.assessmentTraining"],["jhiTranslate","artemisApp.exampleSubmission.exampleAssessmentCreated"],[1,"markdown-preview"],[1,"text-secondary","ps-1",3,"icon","ngbTooltip"],[1,"btn-link",3,"routerLink"],[3,"result","exercise"],["jhiTranslate","global.generic.yes"],["jhiTranslate","global.generic.no",1,"text-danger"],[1,"text-warning",3,"icon","ngbTooltip"],[1,"btn","btn-danger","col-auto",3,"click"]],template:function(m,a){m&1&&(n(0,"div"),e(1,`
    `),u(2,ke,17,2),r(3,"br"),e(4,`
    `),n(5,"div",0),e(6,`
        `),u(7,Oe,38,3),o(),e(8,`
`),o(),e(9,`
`)),m&2&&(s(2),x(a.exercise&&a.exercise.id&&a.exercise.course&&a.exercise.course.id?2:-1),s(5),x(a.exercise&&a.exercise.id&&a.exercise.course&&a.exercise.course.id?7:-1))},dependencies:[M,$,D,L,V,B],encapsulation:2})}return i})();export{wt as ExampleSubmissionsComponent};
//# sourceMappingURL=example-submissions.component-JFG7IBME.js.map
