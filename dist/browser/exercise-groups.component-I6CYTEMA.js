import{a as Ke}from"./chunk-XHKY56WD.js";import{a as Xe}from"./chunk-DMHWBHTD.js";import"./chunk-57BCHYEO.js";import{a as qe}from"./chunk-NGVPTCRP.js";import{a as We}from"./chunk-7ETSMUGK.js";import"./chunk-TWQT4PWU.js";import{a as Qe}from"./chunk-EJ5LGD43.js";import{a as Ze}from"./chunk-3FYXV53Z.js";import"./chunk-NV4PYWIT.js";import"./chunk-IJRVZ46L.js";import"./chunk-RPFDXKEJ.js";import"./chunk-SUUJN3EQ.js";import{a as ze,b as Ne}from"./chunk-GOZO62KC.js";import{a as $e}from"./chunk-YUF2Y3HT.js";import{a as Y}from"./chunk-SLVT6IA5.js";import{f as J}from"./chunk-FAFORKWV.js";import"./chunk-U4DJRHYQ.js";import{a as Be}from"./chunk-MBS3WUDO.js";import{a as le}from"./chunk-5AQXEKLE.js";import"./chunk-3JSWSN6W.js";import"./chunk-DXTZ4GAW.js";import{q as Ve}from"./chunk-Z2YUBN6N.js";import"./chunk-OTCBNILH.js";import"./chunk-6EYB5QBP.js";import"./chunk-MYJYCKA4.js";import{a as Ue}from"./chunk-BIK4CL5A.js";import"./chunk-W7RIOT23.js";import"./chunk-GERFCPB6.js";import"./chunk-VRAVBLUK.js";import{b as H}from"./chunk-T624HJJL.js";import"./chunk-HQTS6JOY.js";import"./chunk-HMZID6NQ.js";import"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import{a as Oe}from"./chunk-2QXIMOEO.js";import"./chunk-JHBUBEY6.js";import"./chunk-5JBXU6VG.js";import"./chunk-ZPITQMA6.js";import{c as Re}from"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import{c as je}from"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import{K as ye,v as ge}from"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import"./chunk-WA5GEAJB.js";import{m as U,n as X,u as ke}from"./chunk-VK7JPHFE.js";import{c as O}from"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{a as V}from"./chunk-K3W6YFKH.js";import{a as W,c as K}from"./chunk-JXJXC4DZ.js";import{d as B}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import{p as ne}from"./chunk-DID2YGL7.js";import{c as G}from"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{$b as ae,A as ve,Bb as Z,Da as Ge,Ic as ce,Lc as Fe,Rb as re,S as he,Sc as Me,Ua as be,cc as Pe,ed as Le,hb as Q,ic as Ae,nb as Se,q as Te,qd as we,ra as oe,rb as Ie,wc as se,wd as De}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as $}from"./chunk-U54OSGNH.js";import{f as Ce,h as Ee,i as k}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import{v as fe}from"./chunk-IOA4DPXY.js";import{Db as n,Dc as h,Ea as C,F as xe,Ma as y,Mc as v,Na as T,Oc as c,P as me,Rc as P,Tb as I,Va as de,Za as S,Zb as u,dd as e,ed as L,f as q,fd as b,gd as ue,kc as x,mc as z,qd as j,rd as w,s as pe,sc as m,sd as _e,uc as ee,ud as D,vc as te,vd as A,wc as ie,xb as R,xc as a,yc as s,yd as F,zc as l,zd as M}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";function ot(i,p){if(i&1&&(e(0,`
        `),a(1,"div"),e(2),s(),e(3,`
    `)),i&2){let t=c(2);n(2),b(`
            `,t.exercise().shortName||"",`
        `)}}function rt(i,p){if(i&1&&(e(0,`
                        `),a(1,"span"),e(2,`
                            `),a(3,"a",0),e(4,"Template"),s(),e(5,`
                        `),s(),e(6,`
                    `)),i&2){let t,r=c(4);n(3),P("href",((t=r.exercise().templateParticipation)==null?null:t.repositoryUri)||"",R)}}function at(i,p){if(i&1){let t=h();e(0,`
                        `),a(1,"a",1),v("click",function(){y(t);let o=c(4);return T(o.downloadRepository(o.RepositoryType.TEMPLATE))}),e(2," "),l(3,"fa-icon",2),e(4," Template "),s(),e(5,`
                    `)}if(i&2){let t=c(4);n(3),x("icon",t.faDownload)}}function st(i,p){if(i&1&&(e(0,`
                    `),e(1,`
                    `),u(2,rt,7,1)(3,at,6,1)),i&2){let t=c(3);n(2),m(t.localVCEnabled?3:2)}}function ct(i,p){if(i&1&&(e(0,`
                    `),l(1,"jhi-programming-exercise-instructor-status",3),e(2,`
                `)),i&2){let t=c(3);n(),x("participationType",t.participationType.TEMPLATE)("participation",t.exercise().templateParticipation)("exercise",t.exercise())}}function lt(i,p){if(i&1&&(e(0,`
                        `),a(1,"span"),e(2,`
                            `),a(3,"a",0),e(4,"Solution"),s(),e(5,`
                        `),s(),e(6,`
                    `)),i&2){let t,r=c(4);n(3),P("href",((t=r.exercise().solutionParticipation)==null?null:t.repositoryUri)||"",R)}}function pt(i,p){if(i&1){let t=h();e(0,`
                        `),a(1,"a",1),v("click",function(){y(t);let o=c(4);return T(o.downloadRepository(o.RepositoryType.SOLUTION))}),e(2," "),l(3,"fa-icon",2),e(4," Solution "),s(),e(5,`
                    `)}if(i&2){let t=c(4);n(3),x("icon",t.faDownload)}}function xt(i,p){if(i&1&&(e(0,`
                    `),u(1,lt,7,1)(2,pt,6,1)),i&2){let t=c(3);n(),m(t.localVCEnabled?2:1)}}function mt(i,p){if(i&1&&(e(0,`
                    `),l(1,"jhi-programming-exercise-instructor-status",3),e(2,`
                `)),i&2){let t=c(3);n(),x("participationType",t.participationType.SOLUTION)("participation",t.exercise().solutionParticipation)("exercise",t.exercise())}}function dt(i,p){if(i&1&&(e(0,`
                        `),a(1,"span"),e(2,`
                            `),a(3,"a",0),e(4,"Test"),s(),e(5,`
                        `),s(),e(6,`
                    `)),i&2){let t=c(4);n(3),P("href",t.exercise().testRepositoryUri,R)}}function ut(i,p){if(i&1){let t=h();e(0,`
                        `),a(1,"a",1),v("click",function(){y(t);let o=c(4);return T(o.downloadRepository(o.RepositoryType.TESTS))}),e(2," "),l(3,"fa-icon",2),e(4," Test "),s(),e(5,`
                    `)}if(i&2){let t=c(4);n(3),x("icon",t.faDownload)}}function _t(i,p){if(i&1&&(e(0,`
                    `),u(1,dt,7,1)(2,ut,6,1)),i&2){let t=c(3);n(),m(t.localVCEnabled?2:1)}}function ft(i,p){if(i&1&&(e(0,`
        `),a(1,"div"),e(2,`
            `),a(3,"div"),e(4,`
                `),u(5,st,4,1)(6,ct,3,3),s(),e(7,`
            `),a(8,"div"),e(9,`
                `),u(10,xt,3,1)(11,mt,3,3),s(),e(12,`
            `),a(13,"div"),e(14,`
                `),u(15,_t,3,1),s(),e(16,`
        `),s(),e(17,`
    `)),i&2){let t,r,o,d,_=c(2);n(5),m((t=_.exercise().templateParticipation)!=null&&t.repositoryUri?5:-1),n(),m(!((r=_.exercise().templateParticipation)==null||r.results==null)&&r.results.length?6:-1),n(4),m((o=_.exercise().solutionParticipation)!=null&&o.repositoryUri?10:-1),n(),m(!((d=_.exercise().solutionParticipation)==null||d.results==null)&&d.results.length?11:-1),n(4),m(_.exercise().testRepositoryUri?15:-1)}}function Ct(i,p){if(i&1&&(e(0,`
                        `),a(1,"a",4),e(2,"Template"),s(),e(3,`
                    `)),i&2){let t=c(4);n(),P("href",t.exercise().templateParticipation.buildPlanUrl,R)}}function Et(i,p){if(i&1&&e(0),i&2){let t=c(4);b(`
                        `,t.exercise().templateParticipation.buildPlanId,`
                    `)}}function gt(i,p){if(i&1&&(e(0,`
                `),a(1,"span"),e(2,`
                    `),u(3,Ct,4,1)(4,Et,1,1),s(),e(5,`
            `)),i&2){let t=c(3);n(3),m(t.localVCEnabled?4:3)}}function yt(i,p){if(i&1&&(e(0,`
                        `),a(1,"a",4),e(2,"Solution"),s(),e(3,`
                    `)),i&2){let t=c(4);n(),P("href",t.exercise().solutionParticipation.buildPlanUrl,R)}}function Tt(i,p){if(i&1&&e(0),i&2){let t=c(4);b(`
                        `,t.exercise().solutionParticipation.buildPlanId,`
                    `)}}function vt(i,p){if(i&1&&(e(0,`
                `),a(1,"span"),e(2,`
                    `),u(3,yt,4,1)(4,Tt,1,1),s(),e(5,`
            `)),i&2){let t=c(3);n(3),m(t.localVCEnabled?4:3)}}function ht(i,p){if(i&1&&(e(0,`
        `),a(1,"div"),e(2,`
            `),u(3,gt,6,1),l(4,"br"),e(5,`
            `),u(6,vt,6,1),l(7,"br"),e(8,`
        `),s(),e(9,`
    `)),i&2){let t,r,o=c(2);n(3),m((t=o.exercise().templateParticipation)!=null&&t.buildPlanId?3:-1),n(3),m((r=o.exercise().solutionParticipation)!=null&&r.buildPlanId?6:-1)}}function Gt(i,p){if(i&1&&(e(0,`
                `),a(1,"div",5),e(2,`
                    `),l(3,"span",6),e(4,`
                    `),l(5,"span",7),e(6,`
                `),s(),e(7,`
            `)),i&2){let t=c(3);n(3),x("jhiTranslate","artemisApp.programmingExercise.onlineIde"),n(2),x("jhiTranslate",t.exercise().allowOnlineIde?"artemisApp.exercise.yes":"artemisApp.exercise.no")}}function bt(i,p){if(i&1&&(e(0,`
        `),a(1,"div"),e(2,`
            `),a(3,"div",5),e(4,`
                `),l(5,"span",6),e(6,`
                `),l(7,"span",7),e(8,`
            `),s(),e(9,`
            `),a(10,"div",5),e(11,`
                `),l(12,"span",6),e(13,`
                `),l(14,"span",7),e(15,`
            `),s(),e(16,`
            `),u(17,Gt,8,2),s(),e(18,`
    `)),i&2){let t=c(2);n(5),x("jhiTranslate","artemisApp.programmingExercise.offlineIde"),n(2),x("jhiTranslate",t.exercise().allowOfflineIde?"artemisApp.exercise.yes":"artemisApp.exercise.no"),n(5),x("jhiTranslate","artemisApp.programmingExercise.onlineEditor"),n(2),x("jhiTranslate",t.exercise().allowOnlineEditor?"artemisApp.exercise.yes":"artemisApp.exercise.no"),n(3),m(t.onlineIdeEnabled?17:-1)}}function St(i,p){if(i&1&&(e(0,`
    `),u(1,ot,4,1)(2,ft,18,5)(3,ht,10,2)(4,bt,19,5)),i&2){let t=c();n(),m(t.displayShortName()?1:-1),n(),m(t.displayRepositoryUri()?2:-1),n(),m(t.displayTemplateUrls()?3:-1),n(),m(t.displayEditorModus()?4:-1)}}var He=(()=>{class i{profileService=C(O);programmingExerciseService=C(Y);alertService=C(K);participationType=ze;RepositoryType=J;localVCEnabled=!1;onlineIdeEnabled=!1;displayShortName=S(!1);displayRepositoryUri=S(!1);displayTemplateUrls=S(!1);displayEditorModus=S(!1);exercise=S.required();faDownload=Pe;ngOnInit(){this.profileService.getProfileInfo().subscribe(t=>{this.localVCEnabled=t.activeProfiles.includes(U),this.onlineIdeEnabled=t.activeProfiles.includes(ke);let r=this.exercise()?.projectKey;if(r){let o=this.exercise()?.solutionParticipation;o?.buildPlanId&&(o.buildPlanUrl=le(t.buildPlanURLTemplate,r,o.buildPlanId));let d=this.exercise()?.templateParticipation;d?.buildPlanId&&(d.buildPlanUrl=le(t.buildPlanURLTemplate,r,d.buildPlanId))}})}downloadRepository(t){let r=this.exercise()?.id;r&&this.programmingExerciseService.exportInstructorRepository(r,t,void 0).subscribe(o=>{Be(o),this.alertService.success("artemisApp.programmingExercise.export.successMessageRepos")})}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["jhi-programming-exercise-group-cell"]],inputs:{displayShortName:[1,"displayShortName"],displayRepositoryUri:[1,"displayRepositoryUri"],displayTemplateUrls:[1,"displayTemplateUrls"],displayEditorModus:[1,"displayEditorModus"],exercise:[1,"exercise"]},decls:1,vars:1,consts:[["target","_blank",3,"href"],[3,"click","routerLink"],[3,"icon"],[3,"participationType","participation","exercise"],["target","_blank","rel","noreferrer",3,"href"],[1,"d-flex","justify-content-between"],[1,"colon-suffix",3,"jhiTranslate"],[3,"jhiTranslate"]],template:function(r,o){r&1&&u(0,St,5,4),r&2&&m(o.exercise()?0:-1)},dependencies:[k,B,Ne,$],styles:["[_nghost-%COMP%]{display:contents}"]})}return i})();function It(i,p){if(i&1&&e(0),i&2){let t,r=c();b(`
    `,((t=r.exercise().quizQuestions)==null?null:t.length)||0,`
`)}}var Je=(()=>{class i{exerciseType=G;exercise=S.required();static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["jhi-quiz-exercise-group-cell"]],inputs:{exercise:[1,"exercise"]},decls:1,vars:1,template:function(r,o){r&1&&u(0,It,1,1),r&2&&m(o.exercise().type===o.exerciseType.QUIZ?0:-1)},styles:["[_nghost-%COMP%]{display:contents}"]})}return i})();function Pt(i,p){if(i&1&&(e(0),F(1,"artemisTranslate")),i&2){let t=c();b(`
    `,M(1,1,"artemisApp.DiagramType."+t.exercise().diagramType),`
`)}}var Ye=(()=>{class i{exerciseType=G;exercise=S.required();static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["jhi-modeling-exercise-group-cell"]],inputs:{exercise:[1,"exercise"]},decls:1,vars:1,template:function(r,o){r&1&&u(0,Pt,2,3),r&2&&m(o.exercise().type===o.exerciseType.MODELING?0:-1)},dependencies:[V],styles:["[_nghost-%COMP%]{display:contents}"]})}return i})();function At(i,p){if(i&1&&e(0),i&2){let t=c();b(`
    `,t.exercise().filePattern||"",`
`)}}var et=(()=>{class i{exerciseType=G;exercise=S.required();static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["jhi-file-upload-exercise-group-cell"]],inputs:{exercise:[1,"exercise"]},decls:1,vars:1,template:function(r,o){r&1&&u(0,At,1,1),r&2&&m(o.exercise().type===o.exerciseType.FILE_UPLOAD?0:-1)},styles:["[_nghost-%COMP%]{display:contents}"]})}return i})();var Ft=(i,p,t,r,o)=>["/course-management",i,"exams",p,"exercise-groups",t,r,o,"participations"],Mt=(i,p,t,r,o)=>["/course-management",i,"exams",p,"exercise-groups",t,r,o,"scores"],Lt=(i,p,t,r)=>["/course-management",i,"exams",p,"exercise-groups",t,"programming-exercises",r,"grading","test-cases"],wt=(i,p,t,r,o)=>["/course-management",i,"exams",p,"exercise-groups",t,r,o,"example-submissions"],Dt=(i,p,t,r)=>["/course-management",i,"exams",p,"exercise-groups",t,"quiz-exercises",r,"quiz-point-statistic"],Rt=(i,p)=>["/course-management",i,"exercises",p,"teams"],jt=(i,p,t,r)=>["/course-management",i,"programming-exercises",p,"code-editor",t,r],kt=(i,p,t,r)=>["/course-management",i,"exams",p,"exercise-groups",t,"quiz-exercises",r,"preview"],Ot=(i,p,t,r)=>["/course-management",i,"exams",p,"exercise-groups",t,"quiz-exercises",r,"solution"],Ut=(i,p,t,r)=>["/course-management",i,"exams",p,"exercise-groups",t,"quiz-exercises",r,"re-evaluate"],tt=(i,p,t,r,o)=>["/course-management",i,"exams",p,"exercise-groups",t,r,o,"edit"],Vt=()=>({}),Bt=()=>({deleteStudentReposBuildPlans:"artemisApp.programmingExercise.delete.studentReposBuildPlans",deleteBaseReposBuildPlans:"artemisApp.programmingExercise.delete.baseReposBuildPlans"});function $t(i,p){if(i&1&&(e(0,`
        `),a(1,"a",1),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",3),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",A(2,Ft,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.type+"-exercises",t.exercise.id)),n(2),x("icon",t.farListAlt)}}function zt(i,p){if(i&1&&(e(0,`
        `),a(1,"a",4),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",5),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",A(2,Mt,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.type+"-exercises",t.exercise.id)),n(2),x("icon",t.faTable)}}function Nt(i,p){if(i&1&&(e(0,`
        `),a(1,"a",6),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",7),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",D(2,Lt,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.id)),n(2),x("icon",t.faFileSignature)}}function qt(i,p){if(i&1&&(e(0,`
        `),a(1,"a",8),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",9),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",A(2,wt,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.type+"-exercises",t.exercise.id)),n(2),x("icon",t.faBook)}}function Qt(i,p){if(i&1&&(e(0,`
        `),a(1,"a",4),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",10),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",D(2,Dt,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.id)),n(2),x("icon",t.faSignal)}}function Zt(i,p){if(i&1&&(e(0,`
        `),a(1,"a",1),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",11),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",_e(2,Rt,t.course.id,t.exercise.id)),n(2),x("icon",t.faUsers)}}function Wt(i,p){if(i&1&&(e(0,`
        `),a(1,"a",6),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",12),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",D(2,jt,t.course.id,t.exercise.id,t.RepositoryType.TEMPLATE,-1)),n(2),x("icon",t.faPencilAlt)}}function Kt(i,p){if(i&1&&(e(0,`
        `),a(1,"a",8),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",13),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",D(2,kt,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.id)),n(2),x("icon",t.faEye)}}function Xt(i,p){if(i&1&&(e(0,`
        `),a(1,"a",8),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",14),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",D(2,Ot,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.id)),n(2),x("icon",t.faEye)}}function Ht(i,p){if(i&1){let t=h();e(0,`
        `),a(1,"button",15),v("click",function(){y(t);let o=c();return T(o.exportQuizById(!0))}),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",16),e(6,`
        `),s(),e(7,`
    `)}if(i&2){let t=c();n(3),x("icon",t.faFileExport)}}function Jt(i,p){if(i&1&&(e(0,`
            `),a(1,"a",6),e(2,`
                `),l(3,"fa-icon",2),e(4,`
                `),l(5,"span",17),e(6,`
            `),s(),e(7,`
        `)),i&2){let t=c(2);n(),x("routerLink",D(2,Ut,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.id)),n(2),x("icon",t.faWrench)}}function Yt(i,p){if(i&1&&(e(0,`
                    `),l(1,"fa-icon",20),F(2,"artemisTranslate"),e(3,`
                `)),i&2){let t=c(3);n(),x("icon",t.faExclamationTriangle)("ngbTooltip",M(2,2,"artemisApp.quizExercise.edit.testRunSubmissionsExist"))}}function ei(i,p){if(i&1&&(e(0,`
            `),a(1,"div",18),e(2,`
                `),e(3,`
                `),u(4,Yt,4,4),a(5,"a",6),e(6,`
                    `),l(7,"fa-icon",2),e(8,`
                    `),l(9,"span",19),e(10,`
                `),s(),e(11,`
            `),s(),e(12,`
        `)),i&2){let t=c(2);n(4),m(t.exercise.testRunParticipationsExist?4:-1),n(),z("disabled",t.hasExamStarted()),x("routerLink",A(5,tt,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.type+"-exercises",t.exercise.id)),n(2),x("icon",t.faWrench)}}function ti(i,p){if(i&1&&(e(0,`
        `),e(1,`
        `),u(2,Jt,8,7)(3,ei,13,11)),i&2){let t=c();n(2),m(t.isExamOver()&&t.course.isAtLeastInstructor?2:-1),n(),m(t.isExamOver()?-1:3)}}function ii(i,p){if(i&1&&(e(0,`
        `),a(1,"a",6),e(2,`
            `),l(3,"fa-icon",2),e(4,`
            `),l(5,"span",19),e(6,`
        `),s(),e(7,`
    `)),i&2){let t=c();n(),x("routerLink",A(2,tt,t.course.id,t.exam.id,t.exerciseGroupId,t.exercise.type+"-exercises",t.exercise.id)),n(2),x("icon",t.faWrench)}}function ni(i,p){if(i&1){let t=h();e(0,`
        `),a(1,"button",21),v("delete",function(){y(t);let o=c();return T(o.deleteExercise())}),e(2,`
            `),l(3,"fa-icon",2),e(4,`
        `),s(),e(5,`
    `)}if(i&2){let t=c();n(),x("entityTitle",t.exercise.title||"")("dialogError",t.dialogError$),n(2),x("icon",t.faTrash)}}function oi(i,p){if(i&1){let t=h();e(0,`
        `),a(1,"button",22),v("delete",function(o){y(t);let d=c();return T(d.deleteProgrammingExercise(o))}),e(2,`
            `),l(3,"fa-icon",2),e(4,`
        `),s(),e(5,`
    `)}if(i&2){let t=c();n(),P("deleteQuestion",t.localVCEnabled?"artemisApp.programmingExercise.delete.questionLocalVC.single":"artemisApp.programmingExercise.delete.question"),x("entityTitle",t.exercise.title||"")("dialogError",t.dialogError$)("additionalChecks",t.localCIEnabled?j(5,Vt):j(6,Bt)),n(2),x("icon",t.faTrash)}}var it=(()=>{class i{textExerciseService=C(Ze);fileUploadExerciseService=C(qe);programmingExerciseService=C(Y);modelingExerciseService=C($e);quizExerciseService=C(Xe);eventManager=C(W);profileService=C(O);course;exercise;exam;exerciseGroupId;latestIndividualEndDate;onDeleteExercise=new de;dialogErrorSource=new q;dialogError$=this.dialogErrorSource.asObservable();exerciseType=G;faTrash=Z;faBook=we;faEye=Se;faWrench=Q;faUsers=he;faTable=ve;faExclamationTriangle=De;faSignal=Ie;faPencilAlt=Te;faFileExport=Le;faFileSignature=be;farListAlt=Ve;localVCEnabled=!1;localCIEnabled=!1;ngOnInit(){this.profileService.getProfileInfo().subscribe(t=>{this.localVCEnabled=t.activeProfiles.includes(U),this.localCIEnabled=t.activeProfiles.includes(X)})}isExamOver(){return this.latestIndividualEndDate?this.latestIndividualEndDate.isBefore(ne()):!1}hasExamStarted(){return this.exam.startDate?this.exam.startDate.isBefore(ne()):!1}deleteExercise(){switch(this.exercise.type){case G.TEXT:this.deleteTextExercise();break;case G.FILE_UPLOAD:this.deleteFileUploadExercise();break;case G.QUIZ:this.deleteQuizExercise();break;case G.MODELING:this.deleteModelingExercise();break}}deleteTextExercise(){this.textExerciseService.delete(this.exercise.id).subscribe({next:()=>{this.eventManager.broadcast({name:"textExerciseListModification",content:"Deleted a textExercise"}),this.dialogErrorSource.next(""),this.onDeleteExercise.emit()},error:t=>this.dialogErrorSource.next(t.message)})}deleteModelingExercise(){this.modelingExerciseService.delete(this.exercise.id).subscribe({next:()=>{this.eventManager.broadcast({name:"modelingExerciseListModification",content:"Deleted a modelingExercise"}),this.dialogErrorSource.next(""),this.onDeleteExercise.emit()},error:t=>this.dialogErrorSource.next(t.message)})}deleteFileUploadExercise(){this.fileUploadExerciseService.delete(this.exercise.id).subscribe({next:()=>{this.eventManager.broadcast({name:"fileUploadExerciseListModification",content:"Deleted a fileUploadExercise"}),this.dialogErrorSource.next(""),this.onDeleteExercise.emit()},error:t=>this.dialogErrorSource.next(t.message)})}deleteQuizExercise(){this.quizExerciseService.delete(this.exercise.id).subscribe({next:()=>{this.eventManager.broadcast({name:"quizExerciseListModification",content:"Deleted a quiz"}),this.dialogErrorSource.next(""),this.onDeleteExercise.emit()},error:t=>this.dialogErrorSource.next(t.message)})}deleteProgrammingExercise(t){this.programmingExerciseService.delete(this.exercise.id,t.deleteStudentReposBuildPlans,t.deleteBaseReposBuildPlans).subscribe({next:()=>{this.eventManager.broadcast({name:"programmingExerciseListModification",content:"Deleted a programming exercise"}),this.dialogErrorSource.next(""),this.onDeleteExercise.emit()},error:r=>this.dialogErrorSource.next(r.message)})}exportQuizById(t){this.quizExerciseService.find(this.exercise.id).subscribe(r=>{let o=r.body;this.quizExerciseService.exportQuiz(o.quizQuestions,t,o.title)})}RepositoryType=J;static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["jhi-exam-exercise-row-buttons"]],inputs:{course:"course",exercise:"exercise",exam:"exam",exerciseGroupId:"exerciseGroupId",latestIndividualEndDate:"latestIndividualEndDate"},outputs:{onDeleteExercise:"onDeleteExercise"},decls:17,vars:14,consts:[[1,"btn-group","flex-btn-group-container"],[1,"btn","btn-primary","btn-sm","me-1",3,"routerLink"],[3,"icon"],["jhiTranslate","artemisApp.exercise.participations",1,"d-none","d-md-inline"],[1,"btn","btn-info","btn-sm","me-1",3,"routerLink"],["jhiTranslate","entity.action.scores",1,"d-none","d-md-inline"],[1,"btn","btn-warning","btn-sm","me-1",3,"routerLink"],["jhiTranslate","artemisApp.programmingExercise.configureGrading.shortTitle",1,"d-none","d-md-inline"],[1,"btn","btn-success","btn-sm","me-1",3,"routerLink"],["jhiTranslate","entity.action.exampleSubmissions",1,"d-none","d-md-inline"],["jhiTranslate","artemisApp.quizExercise.statistics",1,"d-none","d-md-inline"],["jhiTranslate","artemisApp.exercise.teams",1,"d-none","d-md-inline"],["jhiTranslate","entity.action.editInEditor",1,"d-none","d-md-inline"],["jhiTranslate","artemisApp.quizExercise.preview",1,"d-none","d-md-inline"],["jhiTranslate","artemisApp.quizExercise.solution",1,"d-none","d-md-inline"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],["jhiTranslate","entity.action.export",1,"d-none","d-md-inline"],["jhiTranslate","entity.action.re-evaluate",1,"d-none","d-md-inline"],[2,"display","flex"],["jhiTranslate","entity.action.edit",1,"d-none","d-md-inline"],[1,"text-warning",2,"margin","0.3em",3,"icon","ngbTooltip"],["jhiDeleteButton","","deleteQuestion","artemisApp.exercise.delete.question","deleteConfirmationText","artemisApp.exercise.delete.typeNameToConfirm",3,"delete","entityTitle","dialogError"],["jhiDeleteButton","","deleteConfirmationText","artemisApp.exercise.delete.typeNameToConfirm",3,"delete","entityTitle","deleteQuestion","dialogError","additionalChecks"]],template:function(r,o){r&1&&(a(0,"div",0),e(1,`
    `),u(2,$t,8,8)(3,zt,8,8)(4,Nt,8,7)(5,qt,8,8)(6,Qt,8,7)(7,Zt,8,5)(8,Wt,8,7)(9,Kt,8,7)(10,Xt,8,7)(11,Ht,8,1)(12,ti,4,2)(13,ii,8,8)(14,ni,6,3)(15,oi,6,7),s(),e(16,`
`)),r&2&&(n(2),m(o.course.isAtLeastInstructor?2:-1),n(),m(o.course.isAtLeastInstructor?3:-1),n(),m(o.course.isAtLeastEditor&&o.exercise.type===o.exerciseType.PROGRAMMING?4:-1),n(),m(o.course.isAtLeastEditor&&o.exercise.type!==o.exerciseType.QUIZ&&o.exercise.type!==o.exerciseType.PROGRAMMING&&o.exercise.type!==o.exerciseType.FILE_UPLOAD?5:-1),n(),m(o.course.isAtLeastInstructor&&o.exercise.type===o.exerciseType.QUIZ?6:-1),n(),m(o.course.isAtLeastInstructor&&o.exercise.teamMode?7:-1),n(),m(o.course.isAtLeastEditor&&o.exercise.type===o.exerciseType.PROGRAMMING?8:-1),n(),m(o.course.isAtLeastEditor&&o.exercise.type===o.exerciseType.QUIZ?9:-1),n(),m(o.course.isAtLeastEditor&&o.exercise.type===o.exerciseType.QUIZ?10:-1),n(),m(o.course.isAtLeastEditor&&o.exercise.type===o.exerciseType.QUIZ?11:-1),n(),m(o.course.isAtLeastEditor&&o.exercise.type===o.exerciseType.QUIZ?12:-1),n(),m(o.course.isAtLeastEditor&&o.exercise.type!==o.exerciseType.QUIZ?13:-1),n(),m(o.course.isAtLeastInstructor&&o.exercise.type!==o.exerciseType.PROGRAMMING?14:-1),n(),m(o.course.isAtLeastInstructor&&o.exercise.type===o.exerciseType.PROGRAMMING?15:-1))},dependencies:[k,B,$,ye,H,V],encapsulation:2})}return i})();var ri=i=>[i,"file-upload-exercises","new"],ai=i=>[i,"quiz-exercises","new"],si=i=>[i,"text-exercises","new"],ci=i=>[i,"modeling-exercises","new"],li=i=>[i,"programming-exercises","new"],pi=i=>[i,"edit"],xi=()=>({}),mi=()=>({deleteStudentReposBuildPlans:"artemisApp.programmingExercise.delete.studentReposBuildPlans",deleteBaseReposBuildPlans:"artemisApp.programmingExercise.delete.baseReposBuildPlans"}),nt=(i,p,t,r,o)=>["/course-management",i,"exams",p,"exercise-groups",t,r,o];function di(i,p){if(i&1){let t=h();e(0,`
        `),a(1,"div",4),e(2,`
            `),a(3,"a",5),v("click",function(){y(t);let o=c();return T(o.openExerciseGroupImportModal())}),e(4,`
                `),l(5,"fa-icon",6),e(6,`
                `),l(7,"span",7),e(8,`
            `),s(),e(9,`
            `),a(10,"a",8),e(11,`
                `),l(12,"fa-icon",6),e(13,`
                `),l(14,"span",9),e(15,`
            `),s(),e(16,`
        `),s(),e(17,`
    `)}if(i&2){let t=c();n(5),x("icon",t.faFileImport),n(7),x("icon",t.faPlus)}}function ui(i,p){if(i&1){let t=h();e(0,`
                            `),a(1,"div",25),e(2,`
                                `),a(3,"a",26),e(4,`
                                    `),l(5,"fa-icon",6),e(6,`
                                    `),l(7,"span",27),e(8,`
                                    `),l(9,"fa-icon",6),e(10,`
                                `),s(),e(11,`
                                `),a(12,"a",28),v("click",function(){y(t);let o=c().$implicit,d=c();return T(d.openImportModal(o,d.exerciseType.FILE_UPLOAD))}),e(13,`
                                    `),l(14,"fa-icon",6),e(15,`
                                    `),l(16,"span",29),e(17,`
                                    `),l(18,"fa-icon",6),e(19,`
                                `),s(),e(20,`
                            `),s(),e(21,`
                        `)}if(i&2){let t=c().$implicit,r=c();n(3),x("routerLink",w(5,ri,t.id)),n(2),x("icon",r.faPlus),n(4),x("icon",r.faFileUpload),n(5),x("icon",r.faFileImport),n(4),x("icon",r.faFileUpload)}}function _i(i,p){if(i&1){let t=h();e(0,`
                            `),a(1,"div",25),e(2,`
                                `),a(3,"a",30),e(4,`
                                    `),l(5,"fa-icon",6),e(6,`
                                    `),l(7,"span",31),e(8,`
                                    `),l(9,"fa-icon",6),e(10,`
                                `),s(),e(11,`
                                `),a(12,"a",28),v("click",function(){y(t);let o=c().$implicit,d=c();return T(d.openImportModal(o,d.exerciseType.QUIZ))}),e(13,`
                                    `),l(14,"fa-icon",6),e(15,`
                                    `),l(16,"span",32),e(17,`
                                    `),l(18,"fa-icon",6),e(19,`
                                `),s(),e(20,`
                            `),s(),e(21,`
                        `)}if(i&2){let t=c().$implicit,r=c();n(3),x("routerLink",w(5,ai,t.id)),n(2),x("icon",r.faPlus),n(4),x("icon",r.faCheckDouble),n(5),x("icon",r.faFileImport),n(4),x("icon",r.faCheckDouble)}}function fi(i,p){if(i&1){let t=h();e(0,`
                            `),a(1,"div",23),e(2,`
                                `),a(3,"a",33),e(4,`
                                    `),l(5,"fa-icon",6),e(6,`
                                    `),l(7,"span",34),e(8,`
                                    `),l(9,"fa-icon",6),e(10,`
                                `),s(),e(11,`
                                `),a(12,"a",28),v("click",function(){y(t);let o=c().$implicit,d=c();return T(d.openImportModal(o,d.exerciseType.TEXT))}),e(13,`
                                    `),l(14,"fa-icon",6),e(15,`
                                    `),l(16,"span",35),e(17,`
                                    `),l(18,"fa-icon",6),e(19,`
                                `),s(),e(20,`
                            `),s(),e(21,`
                        `)}if(i&2){let t=c().$implicit,r=c();n(3),x("routerLink",w(5,si,t.id)),n(2),x("icon",r.faPlus),n(4),x("icon",r.faFont),n(5),x("icon",r.faFileImport),n(4),x("icon",r.faFont)}}function Ci(i,p){if(i&1){let t=h();e(0,`
                            `),a(1,"div",23),e(2,`
                                `),a(3,"a",36),e(4,`
                                    `),l(5,"fa-icon",6),e(6,`
                                    `),l(7,"span",37),e(8,`
                                    `),l(9,"fa-icon",6),e(10,`
                                `),s(),e(11,`
                                `),a(12,"a",28),v("click",function(){y(t);let o=c().$implicit,d=c();return T(d.openImportModal(o,d.exerciseType.MODELING))}),e(13,`
                                    `),l(14,"fa-icon",6),e(15,`
                                    `),l(16,"span",38),e(17,`
                                    `),l(18,"fa-icon",6),e(19,`
                                `),s(),e(20,`
                            `),s(),e(21,`
                        `)}if(i&2){let t=c().$implicit,r=c();n(3),x("routerLink",w(5,ci,t.id)),n(2),x("icon",r.faPlus),n(4),x("icon",r.faProjectDiagram),n(5),x("icon",r.faFileImport),n(4),x("icon",r.faProjectDiagram)}}function Ei(i,p){if(i&1){let t=h();e(0,`
                            `),a(1,"div",23),e(2,`
                                `),a(3,"a",39),e(4,`
                                    `),l(5,"fa-icon",6),e(6,`
                                    `),l(7,"span",40),e(8,`
                                    `),l(9,"fa-icon",6),e(10,`
                                `),s(),e(11,`
                                `),a(12,"a",28),v("click",function(){y(t);let o=c().$implicit,d=c();return T(d.openImportModal(o,d.exerciseType.PROGRAMMING))}),e(13,`
                                    `),l(14,"fa-icon",6),e(15,`
                                    `),l(16,"span",41),e(17,`
                                    `),l(18,"fa-icon",6),e(19,`
                                `),s(),e(20,`
                            `),s(),e(21,`
                        `)}if(i&2){let t=c().$implicit,r=c();n(3),x("routerLink",w(5,li,t.id)),n(2),x("icon",r.faPlus),n(4),x("icon",r.faKeyboard),n(5),x("icon",r.faFileImport),n(4),x("icon",r.faKeyboard)}}function gi(i,p){if(i&1){let t=h();e(0,`
                                        `),a(1,"button",45),v("delete",function(o){y(t);let d=c(2).$implicit,_=c();return T(_.deleteExerciseGroup(d.id,o))}),e(2,`
                                            `),l(3,"fa-icon",6),e(4,`
                                        `),s(),e(5,`
                                    `)}if(i&2){let t=c(2).$implicit,r=c();n(),P("deleteQuestion",r.localVCEnabled?"artemisApp.examManagement.exerciseGroup.delete.questionLocalVC":"artemisApp.examManagement.exerciseGroup.delete.question"),x("entityTitle",t.title||"")("additionalChecks",r.localCIEnabled?j(5,xi):j(6,mi))("dialogError",r.dialogError),n(2),x("icon",r.faTrash)}}function yi(i,p){if(i&1){let t=h();e(0,`
                                            `),a(1,"button",46),v("delete",function(o){y(t);let d=c(3).$implicit,_=c();return T(_.deleteExerciseGroup(d.id,o))}),e(2,`
                                                `),l(3,"fa-icon",6),e(4,`
                                            `),s(),e(5,`
                                        `)}if(i&2){let t=c(3).$implicit,r=c();n(),x("entityTitle",t.title||"")("dialogError",r.dialogError),n(2),x("icon",r.faTrash)}}function Ti(i,p){if(i&1&&(e(0,`
                                        `),u(1,yi,6,3)),i&2){let t=c(2).$implicit,r=c();n(),m(t.id&&(r.course!=null&&r.course.isAtLeastInstructor)?1:-1)}}function vi(i,p){if(i&1&&(e(0,`
                                `),a(1,"div",42),e(2,`
                                    `),a(3,"a",43),e(4,`
                                        `),l(5,"fa-icon",6),e(6,`
                                        `),l(7,"span",44),e(8,`
                                    `),s(),e(9,`
                                    `),u(10,gi,6,7)(11,Ti,2,1),s(),e(12,`
                            `)),i&2){let t,r=c().$implicit,o=c();n(3),x("routerLink",w(3,pi,r.id)),n(2),x("icon",o.faWrench),n(5),m(r.id&&(o.course!=null&&o.course.isAtLeastInstructor)&&((t=o.exerciseGroupToExerciseTypesDict.get(r.id))!=null&&t.includes(o.exerciseType.PROGRAMMING))?10:11)}}function hi(i,p){i&1&&(e(0,`
                                    `),a(1,"th"),e(2,`
                                        `),l(3,"span",57),e(4,`
                                    `),s(),e(5,`
                                    `),a(6,"th"),e(7,`
                                        `),l(8,"span",58),e(9,`
                                    `),s(),e(10,`
                                    `),a(11,"th"),e(12,`
                                        `),l(13,"span",59),e(14,`
                                    `),s(),e(15,`
                                    `),a(16,"th"),e(17,`
                                        `),l(18,"span",60),e(19,`
                                    `),s(),e(20,`
                                `))}function Gi(i,p){i&1&&(e(0,`
                                    `),a(1,"th"),e(2,`
                                        `),l(3,"span",61),e(4,`
                                    `),s(),e(5,`
                                `))}function bi(i,p){i&1&&(e(0,`
                                    `),a(1,"th"),e(2,`
                                        `),l(3,"span",62),e(4,`
                                    `),s(),e(5,`
                                `))}function Si(i,p){i&1&&(e(0,`
                                    `),a(1,"th"),e(2,`
                                        `),l(3,"span",63),e(4,`
                                    `),s(),e(5,`
                                `))}function Ii(i,p){i&1&&(e(0,`
                                    `),a(1,"th"),e(2,`
                                        `),l(3,"span",64),e(4,`
                                    `),s(),e(5,`
                                `))}function Pi(i,p){if(i&1&&(e(0,`
                                            `),a(1,"a",68),e(2,`
                                                `),a(3,"span"),e(4),s(),e(5,`
                                            `),s(),e(6,`
                                        `)),i&2){let t=c().$implicit,r=c(2).$implicit,o=c();n(),x("routerLink",A(2,nt,o.course.id,o.examId,r.id,t.type+"-exercises",t.id)),n(3),L(t.id)}}function Ai(i,p){if(i&1&&(e(0,`
                                            `),a(1,"span"),e(2),s(),e(3,`
                                        `)),i&2){let t=c().$implicit;n(2),L(t.id)}}function Fi(i,p){if(i&1&&(e(0,`
                                            `),a(1,"a",68),e(2,`
                                                `),a(3,"span"),e(4),s(),e(5,`
                                            `),s(),e(6,`
                                        `)),i&2){let t=c().$implicit,r=c(2).$implicit,o=c();n(),x("routerLink",A(2,nt,o.course.id,o.examId,r.id,t.type+"-exercises",t.id)),n(3),L(t.title)}}function Mi(i,p){if(i&1&&(e(0,`
                                            `),a(1,"span"),e(2),s(),e(3,`
                                        `)),i&2){let t=c().$implicit;n(2),L(t.title)}}function Li(i,p){if(i&1&&(e(0,`
                                                `),l(1,"jhi-programming-exercise-group-cell",69),e(2,`
                                            `)),i&2){let t=c(2).$implicit;n(),x("exercise",t)("displayShortName",!0)}}function wi(i,p){if(i&1&&(e(0,`
                                                `),l(1,"jhi-programming-exercise-group-cell",70),e(2,`
                                            `)),i&2){let t=c(2).$implicit;n(),x("exercise",t)("displayRepositoryUri",!0)}}function Di(i,p){if(i&1&&(e(0,`
                                                `),l(1,"jhi-programming-exercise-group-cell",71),e(2,`
                                            `)),i&2){let t=c(2).$implicit;n(),x("exercise",t)("displayTemplateUrls",!0)}}function Ri(i,p){if(i&1&&(e(0,`
                                                `),l(1,"jhi-programming-exercise-group-cell",72),e(2,`
                                            `)),i&2){let t=c(2).$implicit;n(),x("exercise",t)("displayEditorModus",!0)}}function ji(i,p){if(i&1&&(e(0,`
                                        `),a(1,"td",66),e(2,`
                                            `),u(3,Li,3,2),s(),e(4,`
                                        `),a(5,"td",66),e(6,`
                                            `),u(7,wi,3,2),s(),e(8,`
                                        `),a(9,"td",66),e(10,`
                                            `),u(11,Di,3,2),s(),e(12,`
                                        `),a(13,"td",66),e(14,`
                                            `),u(15,Ri,3,2),s(),e(16,`
                                    `)),i&2){let t=c().$implicit,r=c(3);n(3),m(t.type===r.exerciseType.PROGRAMMING?3:-1),n(4),m(t.type===r.exerciseType.PROGRAMMING?7:-1),n(4),m(t.type===r.exerciseType.PROGRAMMING?11:-1),n(4),m(t.type===r.exerciseType.PROGRAMMING?15:-1)}}function ki(i,p){if(i&1&&(e(0,`
                                        `),a(1,"td",66),e(2,`
                                            `),l(3,"jhi-quiz-exercise-group-cell",73),e(4,`
                                        `),s(),e(5,`
                                    `)),i&2){let t=c().$implicit;n(3),x("exercise",t)}}function Oi(i,p){if(i&1&&(e(0,`
                                        `),a(1,"td",66),e(2,`
                                            `),l(3,"jhi-modeling-exercise-group-cell",73),e(4,`
                                        `),s(),e(5,`
                                    `)),i&2){let t=c().$implicit;n(3),x("exercise",t)}}function Ui(i,p){if(i&1&&(e(0,`
                                        `),a(1,"td",66),e(2,`
                                            `),l(3,"jhi-file-upload-exercise-group-cell",73),e(4,`
                                        `),s(),e(5,`
                                    `)),i&2){let t=c().$implicit;n(3),x("exercise",t)}}function Vi(i,p){if(i&1&&(e(0,`
                                                `),a(1,"div"),e(2),F(3,"artemisTranslate"),s(),e(4,`
                                            `)),i&2){let t=c(2).$implicit;n(2),b(`
                                                    `,M(3,1,"artemisApp.AssessmentType."+t.assessmentType),`
                                                `)}}function Bi(i,p){if(i&1&&(e(0,`
                                        `),a(1,"td",66),e(2,`
                                            `),u(3,Vi,5,3),s(),e(4,`
                                    `)),i&2){let t=c().$implicit,r=c(3);n(3),m(t.type===r.exerciseType.PROGRAMMING||t.type===r.exerciseType.MODELING||t.type===r.exerciseType.TEXT?3:-1)}}function $i(i,p){if(i&1){let t=h();e(0,`
                                            `),a(1,"jhi-exam-exercise-row-buttons",74),v("onDeleteExercise",function(){y(t);let o=c().$implicit,d=c(2).$implicit,_=c();return T(_.removeExercise(o.id,d.id))}),s(),e(2,`
                                        `)}if(i&2){let t=c().$implicit,r=c(2).$implicit,o=c();n(),x("course",o.course)("exam",o.exam)("exercise",t)("exerciseGroupId",r.id)("latestIndividualEndDate",o.latestIndividualEndDate)}}function zi(i,p){if(i&1&&(e(0,`
                                `),a(1,"tr",65),e(2,`
                                    `),a(3,"td",66),e(4,`
                                        `),u(5,Pi,7,8)(6,Ai,4,1),s(),e(7,`
                                    `),a(8,"td",67),e(9,`
                                        `),l(10,"fa-icon",6),e(11,`
                                    `),s(),e(12,`
                                    `),a(13,"td",66),e(14,`
                                        `),u(15,Fi,7,8)(16,Mi,4,1),s(),e(17,`
                                    `),a(18,"td",66),e(19),s(),e(20,`
                                    `),a(21,"td",66),e(22),s(),e(23,`
                                    `),a(24,"td",66),e(25),s(),e(26,`
                                    `),e(27,`
                                    `),u(28,ji,17,4)(29,ki,6,1)(30,Oi,6,1)(31,Ui,6,1)(32,Bi,5,1),a(33,"td",66),e(34,`
                                        `),u(35,$i,3,5),s(),e(36,`
                                `),s(),e(37,`
                            `)),i&2){let t,r,o,d,_,E=p.$implicit,f=c(2).$implicit,g=c();n(),P("id","exercise-"+E.id),n(4),m(g.course.isAtLeastEditor?5:-1),n(),m(g.course.isAtLeastEditor?-1:6),n(4),x("icon",g.exerciseIcon(E)),n(5),m(g.course.isAtLeastEditor?15:-1),n(),m(g.course.isAtLeastEditor?-1:16),n(3),b(`
                                        `,E.maxPoints,`
                                    `),n(3),L(E.bonusPoints),n(3),L(g.exerciseService.isIncludedInScore(E)),n(3),m(f.id&&((t=g.exerciseGroupToExerciseTypesDict.get(f.id))!=null&&t.includes(g.exerciseType.PROGRAMMING))?28:-1),n(),m(f.id&&((r=g.exerciseGroupToExerciseTypesDict.get(f.id))!=null&&r.includes(g.exerciseType.QUIZ))?29:-1),n(),m(f.id&&((o=g.exerciseGroupToExerciseTypesDict.get(f.id))!=null&&o.includes(g.exerciseType.MODELING))?30:-1),n(),m(f.id&&((d=g.exerciseGroupToExerciseTypesDict.get(f.id))!=null&&d.includes(g.exerciseType.FILE_UPLOAD))?31:-1),n(),m(f.id&&((_=g.exerciseGroupToExerciseTypesDict.get(f.id))!=null&&_.includes(g.exerciseType.PROGRAMMING)||(_=g.exerciseGroupToExerciseTypesDict.get(f.id))!=null&&_.includes(g.exerciseType.TEXT)||(_=g.exerciseGroupToExerciseTypesDict.get(f.id))!=null&&_.includes(g.exerciseType.MODELING))?32:-1),n(3),m(E.id&&f.id?35:-1)}}function Ni(i,p){if(i&1&&(e(0,`
                `),a(1,"div",47),e(2,`
                    `),a(3,"table",48),e(4,`
                        `),a(5,"thead"),e(6,`
                            `),a(7,"tr"),e(8,`
                                `),a(9,"th",49),e(10,`
                                    `),l(11,"span",50),e(12,`
                                `),s(),e(13,`
                                `),a(14,"th"),e(15,`
                                    `),l(16,"span",51),e(17,`
                                `),s(),e(18,`
                                `),a(19,"th"),e(20,`
                                    `),l(21,"span",52),e(22,`
                                `),s(),e(23,`
                                `),a(24,"th"),e(25,`
                                    `),l(26,"span",53),e(27,`
                                `),s(),e(28,`
                                `),a(29,"th"),e(30,`
                                    `),l(31,"span",54),e(32,`
                                `),s(),e(33,`
                                `),a(34,"th"),e(35,`
                                    `),l(36,"span",55),e(37,`
                                `),s(),e(38,`
                                `),u(39,hi,21,0)(40,Gi,6,0)(41,bi,6,0)(42,Si,6,0)(43,Ii,6,0),l(44,"th"),e(45,`
                            `),s(),e(46,`
                        `),s(),e(47,`
                        `),a(48,"tbody",56),e(49,`
                            `),te(50,zi,38,15,null,null,ee),s(),e(52,`
                    `),s(),e(53,`
                `),s(),e(54,`
            `)),i&2){let t,r,o,d,_,E=c().$implicit,f=c();n(39),m(E.id&&((t=f.exerciseGroupToExerciseTypesDict.get(E.id))!=null&&t.includes(f.exerciseType.PROGRAMMING))?39:-1),n(),m(E.id&&((r=f.exerciseGroupToExerciseTypesDict.get(E.id))!=null&&r.includes(f.exerciseType.QUIZ))?40:-1),n(),m(E.id&&((o=f.exerciseGroupToExerciseTypesDict.get(E.id))!=null&&o.includes(f.exerciseType.MODELING))?41:-1),n(),m(E.id&&((d=f.exerciseGroupToExerciseTypesDict.get(E.id))!=null&&d.includes(f.exerciseType.FILE_UPLOAD))?42:-1),n(),m(E.id&&((_=f.exerciseGroupToExerciseTypesDict.get(E.id))!=null&&_.includes(f.exerciseType.PROGRAMMING)||(_=f.exerciseGroupToExerciseTypesDict.get(E.id))!=null&&_.includes(f.exerciseType.TEXT)||(_=f.exerciseGroupToExerciseTypesDict.get(E.id))!=null&&_.includes(f.exerciseType.MODELING))?43:-1),n(7),ie(E.exercises)}}function qi(i,p){i&1&&(e(0,`
                `),l(1,"div",75),e(2,`
            `))}function Qi(i,p){if(i&1){let t=h();e(0,`
    `),a(1,"div",10),e(2,`
        `),a(3,"div",11),e(4,`
            `),a(5,"div",12),e(6,`
                `),a(7,"a",13),v("click",function(){let o=y(t).$index,d=c();return T(d.moveUp(o))}),e(8,`
                    `),l(9,"fa-icon",14),e(10,`
                `),s(),e(11,`
                `),a(12,"a",15),v("click",function(){let o=y(t).$index,d=c();return T(d.moveDown(o))}),e(13,`
                    `),l(14,"fa-icon",14),e(15,`
                `),s(),e(16,`
            `),s(),e(17,`
            `),a(18,"div",1),e(19,`
                `),a(20,"h5",16),e(21),s(),e(22,`
            `),s(),e(23,`
            `),a(24,"div",17),e(25,`
                `),l(26,"jhi-help-icon",18),e(27,`
            `),s(),e(28,`
            `),a(29,"div",19),e(30,`
                `),a(31,"span",20),e(32),F(33,"artemisTranslate"),F(34,"lowercase"),s(),e(35,`
            `),s(),e(36,`
            `),a(37,"div",21),e(38,`
                `),a(39,"div",1),e(40,`
                    `),a(41,"div",22),e(42,`
                        `),u(43,ui,22,7)(44,_i,22,7)(45,fi,22,7)(46,Ci,22,7)(47,Ei,22,7),a(48,"div",23),e(49,`
                            `),u(50,vi,13,5),s(),e(51,`
                    `),s(),e(52,`
                `),s(),e(53,`
            `),s(),e(54,`
        `),s(),e(55,`
        `),a(56,"div",24),e(57,`
            `),u(58,Ni,55,5)(59,qi,3,0),s(),e(60,`
    `),s(),e(61,`
`)}if(i&2){let t=p.$implicit,r=p.$index,o=c();n(),P("id","group-"+t.id),n(6),z("disabled",r===0),n(2),x("icon",o.faAngleUp),n(3),z("disabled",r>=o.exerciseGroups.length-1),n(2),x("icon",o.faAngleDown),n(7),L(t.title),n(11),b(`
                    `,M(34,19,M(33,17,t.isMandatory?"artemisApp.examManagement.exerciseGroup.mandatory":"artemisApp.examManagement.exerciseGroup.optional")),`
                `),n(11),m(o.course!=null&&o.course.isAtLeastEditor?43:-1),n(),m(o.course!=null&&o.course.isAtLeastEditor?44:-1),n(),m(o.course!=null&&o.course.isAtLeastEditor?45:-1),n(),m(o.course!=null&&o.course.isAtLeastEditor?46:-1),n(),m(o.course!=null&&o.course.isAtLeastEditor?47:-1),n(3),m(o.course!=null&&o.course.isAtLeastEditor?50:-1),n(8),m(t.exercises?58:-1),n(),m(t.exercises?-1:59)}}var Ao=(()=>{class i{route=C(Ce);exerciseGroupService=C(Qe);exerciseService=C(Re);examManagementService=C(Ue);eventManager=C(W);alertService=C(K);modalService=C(ge);router=C(Ee);profileService=C(O);courseId;course;examId;exam;exerciseGroups;dialogErrorSource=new q;dialogError=this.dialogErrorSource.asObservable();exerciseType=G;latestIndividualEndDate;exerciseGroupToExerciseTypesDict=new Map;localVCEnabled=!1;localCIEnabled=!1;faPlus=Fe;faTrash=Z;faFont=se;faWrench=Q;faCheckDouble=re;faFileUpload=oe;faKeyboard=ae;faProjectDiagram=ce;faAngleUp=Me;faAngleDown=Ae;faFileImport=Ge;ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.examId=Number(this.route.snapshot.paramMap.get("examId")),xe([this.loadExerciseGroups(),this.loadLatestIndividualEndDateOfExam()]).subscribe({next:([t,r])=>{this.exam=t.body,this.exerciseGroups=this.exam.exerciseGroups,this.course=this.exam.course,this.latestIndividualEndDate=r?r.body.latestIndividualEndDate:void 0,this.setupExerciseGroupToExerciseTypesDict()},error:t=>je(this.alertService,t)}),this.profileService.getProfileInfo().subscribe(t=>{this.localVCEnabled=t.activeProfiles.includes(U),this.localCIEnabled=t.activeProfiles.includes(X)})}loadLatestIndividualEndDateOfExam(){return this.examManagementService.getLatestIndividualEndDateOfExam(this.courseId,this.examId).pipe(me(()=>pe(null)))}loadExerciseGroups(){return this.examManagementService.find(this.courseId,this.examId,!1,!0)}removeExercise(t,r){this.exerciseGroups&&this.exerciseGroups.forEach(o=>{o.id===r&&o.exercises&&o.exercises.length>0&&(o.exercises=o.exercises.filter(d=>d.id!==t),this.setupExerciseGroupToExerciseTypesDict())})}deleteExerciseGroup(t,r){this.exerciseGroupService.delete(this.courseId,this.examId,t,r.deleteStudentReposBuildPlans,r.deleteBaseReposBuildPlans).subscribe({next:()=>{this.eventManager.broadcast({name:"exerciseGroupOverviewModification",content:"Deleted an exercise group"}),this.dialogErrorSource.next(""),this.exerciseGroups=this.exerciseGroups.filter(o=>o.id!==t),this.exerciseGroupToExerciseTypesDict.delete(t)},error:o=>this.dialogErrorSource.next(o.message)})}exerciseIcon(t){switch(t.type){case G.QUIZ:return re;case G.FILE_UPLOAD:return oe;case G.MODELING:return ce;case G.PROGRAMMING:return ae;default:return se}}openImportModal(t,r){let o=["/course-management",this.courseId,"exams",this.examId,"exercise-groups",t.id,`${r}-exercises`],d=this.modalService.open(Ke,{size:"lg",backdrop:"static"});d.componentInstance.exerciseType=r,d.result.then(_=>{_.id?(o.push("import",_.id),this.router.navigate(o)):(o.push("import-from-file"),this.router.navigate(o,{state:{programmingExerciseForImportFromFile:_}}))})}moveUp(t){this.exerciseGroups&&([this.exerciseGroups[t],this.exerciseGroups[t-1]]=[this.exerciseGroups[t-1],this.exerciseGroups[t]]),this.saveOrder()}moveDown(t){this.exerciseGroups&&([this.exerciseGroups[t],this.exerciseGroups[t+1]]=[this.exerciseGroups[t+1],this.exerciseGroups[t]]),this.saveOrder()}saveOrder(){this.examManagementService.updateOrder(this.courseId,this.examId,this.exerciseGroups).subscribe({next:t=>this.exerciseGroups=t.body,error:()=>this.alertService.error("artemisApp.examManagement.exerciseGroup.orderCouldNotBeSaved")})}setupExerciseGroupToExerciseTypesDict(){if(this.exerciseGroupToExerciseTypesDict=new Map,this.exerciseGroups){for(let t of this.exerciseGroups)if(this.exerciseGroupToExerciseTypesDict.set(t.id,[]),t.exercises)for(let r of t.exercises)this.exerciseGroupToExerciseTypesDict.get(t.id).push(r.type)}else return}openExerciseGroupImportModal(){let t=this.modalService.open(We,{size:"xl",backdrop:"static"});t.componentInstance.subsequentExerciseGroupSelection.set(!0),t.componentInstance.targetCourseId.set(this.courseId),t.componentInstance.targetExamId.set(this.examId),t.result.then(r=>{r&&(this.exerciseGroups=r,this.alertService.success("artemisApp.examManagement.exerciseGroup.importSuccessful"))})}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["jhi-exercise-groups"]],decls:15,vars:5,consts:[[1,"d-flex","pb-3","border-bottom","mb-2"],[1,"d-flex","flex-column","justify-content-center"],["jhiTranslate","artemisApp.examManagement.exerciseGroups",1,"mb-0"],["id","number-groups",1,"mt-3","text-end",2,"font-size","0.85rem"],[1,"ms-auto","d-flex","flex-wrap"],["id","import-group",1,"btn","btn-primary","me-1",3,"click"],[3,"icon"],["jhiTranslate","artemisApp.examManagement.exerciseGroup.import",1,"hidden-sm-down"],["id","create-new-group","routerLink","new",1,"btn","btn-primary","jh-create-entity","create-course"],["jhiTranslate","artemisApp.examManagement.exerciseGroup.create",1,"hidden-sm-down"],[1,"exercise-group","mt-3",3,"id"],[1,"d-flex","p-3","header","flex-wrap"],[1,"me-3","d-flex","justify-content-center",2,"align-items","center"],[1,"border-0","p-0","me-1","bg-transparent",3,"click"],[2,"font-size","1.3rem",3,"icon"],[1,"border-0","p-0","bg-transparent",3,"click"],[1,"group-title","font-weight-bold","mb-0"],[1,"d-flex","flex-column","justify-content-center","ms-1"],["text","artemisApp.examManagement.exerciseGroup.titleInfo"],[1,"d-flex","flex-column","justify-content-center","ms-3"],[1,"d-block","rounded","px-2","py-1","opt-badge",2,"font-size","0.85rem"],[1,"d-flex","justify-content-end",2,"flex","1"],[1,"btn-group","flex-btn-group-container"],[1,"btn-group-vertical","me-1","mb-1"],[1,"p-3"],[1,"btn-group-vertical","me-1","mb-1",2,"justify-content","end"],[1,"btn","btn-info","btn-sm","me-1","mb-1",2,"max-height","44%",3,"routerLink"],["jhiTranslate","artemisApp.fileUploadExercise.home.createLabel",1,"d-none","d-xl-inline"],[1,"btn","btn-info","btn-sm","me-1","mb-1",3,"click"],["jhiTranslate","artemisApp.fileUploadExercise.home.importLabel",1,"d-none","d-xl-inline"],[1,"add-quiz-exercise","btn","btn-info","btn-sm","me-1","mb-1",2,"max-height","44%",3,"routerLink"],["jhiTranslate","artemisApp.quizExercise.home.createLabel",1,"d-none","d-xl-inline"],["jhiTranslate","artemisApp.quizExercise.home.importLabel",1,"d-none","d-xl-inline"],[1,"add-text-exercise","btn","btn-info","btn-sm","me-1","mb-1",3,"routerLink"],["jhiTranslate","artemisApp.textExercise.home.createLabel",1,"d-none","d-xl-inline"],["jhiTranslate","artemisApp.textExercise.home.importLabel",1,"d-none","d-xl-inline"],[1,"add-modeling-exercise","btn","btn-info","btn-sm","me-1","mb-1",3,"routerLink"],["jhiTranslate","artemisApp.modelingExercise.home.createLabel",1,"d-none","d-xl-inline"],["jhiTranslate","artemisApp.modelingExercise.home.importLabel",1,"d-none","d-xl-inline"],[1,"add-programming-exercise","btn","btn-info","btn-sm","me-1","mb-1",3,"routerLink"],["jhiTranslate","artemisApp.programmingExercise.home.createLabel",1,"d-none","d-xl-inline"],["jhiTranslate","artemisApp.programmingExercise.home.importLabel",1,"d-none","d-xl-inline"],[1,"d-flex","flex-column","me-1","mb-1"],[1,"edit-group","btn","btn-warning","btn-sm","me-1","mb-1",3,"routerLink"],["jhiTranslate","entity.action.edit",1,"d-none","d-xl-inline"],["jhiDeleteButton","","deleteConfirmationText","artemisApp.examManagement.exerciseGroup.delete.typeNameToConfirm",1,"delete-group","mb-0",3,"delete","entityTitle","deleteQuestion","additionalChecks","dialogError"],["jhiDeleteButton","","deleteQuestion","artemisApp.examManagement.exerciseGroup.delete.question","deleteConfirmationText","artemisApp.examManagement.exerciseGroup.delete.typeNameToConfirm",1,"delete-group","mb-0",3,"delete","entityTitle","dialogError"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"d-md-table-cell"],["jhiTranslate","global.field.id"],["jhiTranslate","artemisApp.examManagement.exerciseGroup.type"],["jhiTranslate","artemisApp.examManagement.exerciseGroup.title"],["jhiTranslate","artemisApp.examManagement.exerciseGroup.points"],["jhiTranslate","artemisApp.exercise.bonus"],["jhiTranslate","artemisApp.exercise.includedCompletely"],["id","exercises"],["jhiTranslate","artemisApp.exercise.shortName"],["jhiTranslate","artemisApp.programmingExercise.repositories"],["jhiTranslate","artemisApp.programmingExercise.buildplans"],["jhiTranslate","artemisApp.programmingExercise.participationMode"],["jhiTranslate","artemisApp.quizExercise.questions"],["jhiTranslate","artemisApp.modelingExercise.diagramType"],["jhiTranslate","artemisApp.fileUploadExercise.filePattern"],["jhiTranslate","artemisApp.assessmentMode"],[3,"id"],[1,"align-middle"],[1,"align-middle",2,"font-size","1.35rem"],[3,"routerLink"],[3,"exercise","displayShortName"],[3,"exercise","displayRepositoryUri"],[3,"exercise","displayTemplateUrls"],[3,"exercise","displayEditorModus"],[3,"exercise"],[1,"d-flex","justify-content-end",3,"onDeleteExercise","course","exam","exercise","exerciseGroupId","latestIndividualEndDate"],["jhiTranslate","artemisApp.examManagement.exerciseGroup.noExercises"]],template:function(r,o){r&1&&(a(0,"div",0),e(1,`
    `),a(2,"div",1),e(3,`
        `),l(4,"h4",2),e(5,`
    `),s(),e(6,`
    `),u(7,di,18,2),s(),e(8,`
`),a(9,"div",3),e(10),F(11,"artemisTranslate"),s(),e(12,`
`),te(13,Qi,62,21,null,null,ee)),r&2&&(n(7),m(o.course!=null&&o.course.isAtLeastEditor?7:-1),n(3),ue(`
    `,M(11,3,"artemisApp.examManagement.numberOfExerciseGroups")," ",o.exerciseGroups?o.exerciseGroups.length:0,`
`),n(3),ie(o.exerciseGroups))},dependencies:[$,B,k,Oe,H,He,Je,Ye,et,it,fe,V],styles:[".exercise-group[_ngcontent-%COMP%]{border:1px solid var(--exercise-group-border-color)}.exercise-group[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:var(--exercise-group-header-background)}.exercise-group[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .opt-badge[_ngcontent-%COMP%]{background-color:var(--exercise-group-header-badge-color)}"]})}return i})();export{Ao as ExerciseGroupsComponent};
//# sourceMappingURL=exercise-groups.component-I6CYTEMA.js.map
