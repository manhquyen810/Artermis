{
  "version": 3,
  "sources": ["src/main/webapp/app/shared/feature-toggle/feature-toggle-link.directive.ts"],
  "sourcesContent": ["import { Directive, HostBinding, Input, OnDestroy, OnInit, inject } from '@angular/core';\r\nimport { FeatureToggle, FeatureToggleService } from 'app/shared/feature-toggle/feature-toggle.service';\r\nimport { tap } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Directive({ selector: '[jhiFeatureToggleLink]' })\r\nexport class FeatureToggleLinkDirective implements OnInit, OnDestroy {\r\n    private featureToggleService = inject(FeatureToggleService);\r\n\r\n    @Input('jhiFeatureToggleLink') feature: FeatureToggle;\r\n    /**\r\n     * This input must be used to overwrite the disabled state given that the feature toggle is inactive.\r\n     * If the normal [disabled] directive of Angular would be used, the HostBinding in this directive would always enable the element if the feature is active.\r\n     */\r\n    @Input() overwriteDisabled: boolean | null;\r\n    /**\r\n     * Condition to check even before checking for the feature toggle. If true, the feature toggle won't get checked.\r\n     * This can be useful e.g. if you use the same button for different features (like our delete button) and only want\r\n     * to check the toggle for programming exercises\r\n     */\r\n    @Input() skipFeatureToggle: boolean;\r\n    private featureActive = true;\r\n\r\n    private featureToggleActiveSubscription: Subscription;\r\n\r\n    /**\r\n     * Life cycle hook called by Angular to indicate that Angular is done creating the component\r\n     */\r\n    ngOnInit() {\r\n        // If no feature is set for the toggle, the directive does nothing.\r\n        if (this.feature) {\r\n            this.featureToggleActiveSubscription = this.featureToggleService\r\n                .getFeatureToggleActive(this.feature)\r\n                .pipe(\r\n                    // Disable the element if the feature is inactive.\r\n                    tap((active) => {\r\n                        this.featureActive = this.skipFeatureToggle || active;\r\n                    }),\r\n                )\r\n                .subscribe();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Life cycle hook called by Angular for cleanup just before Angular destroys the component\r\n     */\r\n    ngOnDestroy(): void {\r\n        if (this.featureToggleActiveSubscription) {\r\n            this.featureToggleActiveSubscription.unsubscribe();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This will disable the link if the specified feature flag is inactive OR\r\n     * if there is some other condition given as an Input, which takes higher priority (input overwriteDisabled)\r\n     */\r\n    @HostBinding('class.disabled')\r\n    get disabled(): boolean {\r\n        return this.overwriteDisabled || !this.featureActive;\r\n    }\r\n}\r\n"],
  "mappings": "yGAMA,IAAaA,GAA0B,IAAA,CAAjC,MAAOA,CAA0B,CAC3BC,qBAAuBC,EAAOC,CAAoB,EAE3BC,QAKtBC,kBAMAC,kBACDC,cAAgB,GAEhBC,gCAKRC,UAAQ,CAEA,KAAKL,UACL,KAAKI,gCAAkC,KAAKP,qBACvCS,uBAAuB,KAAKN,OAAO,EACnCO,KAEGC,EAAKC,GAAU,CACX,KAAKN,cAAgB,KAAKD,mBAAqBO,CACnD,CAAC,CAAC,EAELC,UAAS,EAEtB,CAKAC,aAAW,CACH,KAAKP,iCACL,KAAKA,gCAAgCQ,YAAW,CAExD,CAMA,IACIC,UAAQ,CACR,OAAO,KAAKZ,mBAAqB,CAAC,KAAKE,aAC3C,4CArDSP,EAA0B,2BAA1BA,EAA0BkB,UAAA,CAAA,CAAA,GAAA,uBAAA,EAAA,CAAA,EAAAC,SAAA,EAAAC,aAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,GAA1BE,EAAA,WAAAD,EAAAL,QAAA,8IAAAjB,CAA0B,GAAA",
  "names": ["FeatureToggleLinkDirective", "featureToggleService", "inject", "FeatureToggleService", "feature", "overwriteDisabled", "skipFeatureToggle", "featureActive", "featureToggleActiveSubscription", "ngOnInit", "getFeatureToggleActive", "pipe", "tap", "active", "subscribe", "ngOnDestroy", "unsubscribe", "disabled", "selectors", "hostVars", "hostBindings", "rf", "ctx", "\u0275\u0275classProp"]
}
