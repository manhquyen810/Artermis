import{a as X,b as Y}from"./chunk-IMTEX2MJ.js";import"./chunk-LQRMY4JN.js";import"./chunk-J2B6GP6U.js";import"./chunk-CNZ75VIL.js";import"./chunk-LBLXP4B5.js";import"./chunk-7MKMUXV6.js";import"./chunk-GAUWMTOK.js";import"./chunk-DOLVNMRR.js";import"./chunk-JRBFEQNN.js";import"./chunk-DIZEKHOC.js";import"./chunk-V7PDYRDZ.js";import"./chunk-EANMTTQG.js";import"./chunk-KYCCMZSV.js";import{a as U}from"./chunk-OTCBNILH.js";import{a as R,b as H,c as J}from"./chunk-DLAFGQEJ.js";import{a as K,b as Q}from"./chunk-VRAVBLUK.js";import"./chunk-O26CMRR4.js";import"./chunk-MP6UGYTC.js";import"./chunk-QA7Y7QBM.js";import"./chunk-ZPITQMA6.js";import{d as k}from"./chunk-AR57MWOI.js";import"./chunk-A5PTZAPN.js";import"./chunk-AU6UEH3U.js";import"./chunk-FGAONQTL.js";import"./chunk-HQ6UGNQX.js";import"./chunk-ZLJ76G5I.js";import"./chunk-MLVGKM2P.js";import"./chunk-CK7FH6VF.js";import"./chunk-PUNMJFMR.js";import"./chunk-R75LTV62.js";import"./chunk-5MVJAZRV.js";import"./chunk-XBLNBTXN.js";import"./chunk-G3JOQOSD.js";import"./chunk-G4I63THF.js";import"./chunk-PZ7IDTIM.js";import"./chunk-CT44YL7Q.js";import"./chunk-5YQ3ACZE.js";import"./chunk-EELXLOHY.js";import"./chunk-VZRSC3LP.js";import"./chunk-5SKDOIBQ.js";import{K as I,c as P,h as L,m as W}from"./chunk-WA5GEAJB.js";import"./chunk-BNDLMKXK.js";import"./chunk-BQNBT6PW.js";import"./chunk-5GXY5RYT.js";import{a as O}from"./chunk-K3W6YFKH.js";import"./chunk-JXJXC4DZ.js";import{d as z}from"./chunk-EDXSOKK5.js";import"./chunk-R5BZWVRQ.js";import"./chunk-DID2YGL7.js";import"./chunk-CXQURQM5.js";import"./chunk-S4QLGR2R.js";import{Ba as q,Qa as N}from"./chunk-Z4VHWOB5.js";import"./chunk-XUCCGZJR.js";import"./chunk-HKBU2OOC.js";import"./chunk-5ZXXURLP.js";import"./chunk-NOBD5HSR.js";import{a as G}from"./chunk-U54OSGNH.js";import{f as V,h as F}from"./chunk-M6Z6DKZQ.js";import"./chunk-3Y6745HG.js";import"./chunk-E2KBL4LX.js";import"./chunk-PZTBTDSR.js";import"./chunk-IOA4DPXY.js";import{A as E,Db as s,Dc as T,Ea as p,Ma as u,Mc as x,Na as h,Oc as d,Tb as b,Zb as w,dd as e,ed as S,kc as m,ld as v,md as f,nd as y,sc as C,uc as j,vc as A,wc as B,xc as n,yc as r,yd as D,zc as c,zd as M}from"./chunk-5LC5EQRR.js";import"./chunk-3E746U5Y.js";function Z(a,g){if(a&1){let t=T();e(0,`
                        `),n(1,"tr"),e(2,`
                            `),n(3,"td"),e(4,`
                                `),n(5,"span"),e(6),r(),e(7,`
                            `),r(),e(8,`
                            `),n(9,"td"),e(10,`
                                `),n(11,"span"),e(12),r(),e(13,`
                            `),r(),e(14,`
                            `),n(15,"td"),e(16,`
                                `),n(17,"span"),e(18),r(),e(19,`
                            `),r(),e(20,`
                            `),n(21,"td",12),e(22,`
                                `),c(23,"jhi-course-prerequisites-button",13),e(24,`
                            `),r(),e(25,`
                            `),n(26,"td",12),e(27,`
                                `),n(28,"jhi-course-registration-button",14),x("onRegistration",function(){let i=u(t).$implicit,l=d(2);return h(l.removeCourseFromList(i.id))}),r(),e(29,`
                            `),r(),e(30,`
                        `),r(),e(31,`
                    `)}if(a&2){let t=g.$implicit;s(6),S(t.title),s(6),S(t.semester),s(6),S(t.description),s(5),m("course",t),s(5),m("course",t)}}function $(a,g){if(a&1){let t=T();e(0,`
        `),n(1,"div",3),e(2,`
            `),n(3,"table",4),e(4,`
                `),n(5,"thead"),e(6,`
                    `),n(7,"tr",5),y("predicateChange",function(i){u(t);let l=d();return f(l.predicate,i)||(l.predicate=i),h(i)})("ascendingChange",function(i){u(t);let l=d();return f(l.ascending,i)||(l.ascending=i),h(i)}),x("sortChange",function(){u(t);let i=d();return h(i.transition())}),e(8,`
                        `),n(9,"th",6),e(10,`
                            `),c(11,"span",7),e(12,`
                            `),c(13,"fa-icon",8),e(14,`
                        `),r(),e(15,`
                        `),n(16,"th",9),e(17,`
                            `),c(18,"span",10),e(19,`
                            `),c(20,"fa-icon",8),e(21,`
                        `),r(),e(22,`
                        `),n(23,"th"),e(24,`
                            `),c(25,"span",11),e(26,`
                        `),r(),e(27,`
                    `),r(),e(28,`
                `),r(),e(29,`
                `),n(30,"tbody"),e(31,`
                    `),A(32,Z,32,5,null,null,j),r(),e(34,`
            `),r(),e(35,`
        `),r(),e(36,`
    `)}if(a&2){let t=d();s(7),v("predicate",t.predicate)("ascending",t.ascending),s(6),m("icon",t.faSort),s(7),m("icon",t.faSort),s(12),B(t.filteredCoursesToSelect)}}function ee(a,g){a&1&&(e(0,`
        `),c(1,"div",15),e(2,`
    `))}function te(a,g){a&1&&(e(0,`
        `),n(1,"div",16),e(2,`
            `),n(3,"div",17),e(4,`
                `),c(5,"span",18),e(6,`
            `),r(),e(7,`
        `),r(),e(8,`
    `))}var _e=(()=>{class a{courseService=p(k);activatedRoute=p(V);router=p(F);sortService=p(U);coursesToSelect=[];loading=!1;predicate;ascending;searchTermString="";filteredCoursesToSelect=[];faCheckCircle=q;faSort=N;ngOnInit(){this.handleNavigation()}loadRegistrableCourses(){this.loading=!0,this.courseService.findAllForRegistration().subscribe(t=>{let o=t.body;this.predicate==="defaultSort"||!this.predicate?this.coursesToSelect=this.sortService.sortByProperty(o,"title",!0):this.coursesToSelect=this.sortService.sortByProperty(o,this.predicate,this.ascending),this.applySearch(),this.loading=!1})}removeCourseFromList(t){this.coursesToSelect=this.coursesToSelect.filter(o=>o.id!==t)}transition(){this.router.navigate(["/courses/enroll"],{relativeTo:this.activatedRoute.parent,queryParams:{sort:`${this.predicate},${this.ascending?R:H}`,search:this.searchTermString}})}handleNavigation(){E({data:this.activatedRoute.data,params:this.activatedRoute.queryParamMap}).subscribe(({data:t,params:o})=>{let i=o.get(J)??t.defaultSort??"title,asc";if(i&&typeof i=="string"){let l=i.split(",");l.length===2&&(this.predicate=l[0],this.ascending=l[1]===R)}else this.predicate="title",this.ascending=!0;this.searchTermString=o.get("search")||"",this.loadRegistrableCourses()})}applySearch(){this.searchTermString?this.filteredCoursesToSelect=this.coursesToSelect.filter(t=>t.title?t.title.toLowerCase().includes(this.searchTermString.toLowerCase()):!1):this.filteredCoursesToSelect=[...this.coursesToSelect]}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=b({type:a,selectors:[["jhi-course-registration-selector"]],decls:14,vars:7,consts:[["jhiTranslate","artemisApp.studentDashboard.enroll.title"],[1,"col-12","mb-3"],["type","text",1,"form-control",3,"ngModelChange","input","ngModel","placeholder"],[1,"col-12","col-sm-auto"],[1,"table","table-striped"],["jhiSort","",3,"predicateChange","ascendingChange","sortChange","predicate","ascending"],["jhiSortBy","title"],["jhiTranslate","artemisApp.studentDashboard.course"],[3,"icon"],["jhiSortBy","semester"],["jhiTranslate","artemisApp.course.semester"],["jhiTranslate","artemisApp.course.description"],[1,"text-end"],[3,"course"],[3,"onRegistration","course"],["jhiTranslate","artemisApp.studentDashboard.enroll.noCourse",1,"col-12","col-sm-auto"],[1,"col-12","col-sm-auto","d-flex","justify-content-center"],["role","status",1,"spinner-border"],["jhiTranslate","artemisApp.studentDashboard.enroll.coursesLoading",1,"sr-only"]],template:function(o,i){o&1&&(n(0,"div"),e(1,`
    `),c(2,"h3",0),e(3,`
    `),n(4,"div",1),e(5,`
        `),n(6,"input",2),D(7,"artemisTranslate"),y("ngModelChange",function(_){return f(i.searchTermString,_)||(i.searchTermString=_),_}),x("input",function(){return i.applySearch()}),r(),e(8,`
    `),r(),e(9,`
    `),w(10,$,37,4)(11,ee,3,0)(12,te,9,0),r(),e(13,`
`)),o&2&&(s(6),v("ngModel",i.searchTermString),m("placeholder",M(7,5,"artemisApp.course.searchForCourse")),s(4),C(i.coursesToSelect?10:-1),s(),C(!i.loading&&!i.coursesToSelect?11:-1),s(),C(i.loading&&!i.coursesToSelect?12:-1))},dependencies:[G,I,P,L,W,K,Q,z,X,Y,O],encapsulation:2})}return a})();export{_e as CourseRegistrationComponent};
//# sourceMappingURL=course-registration.component-I2PTSHXD.js.map
