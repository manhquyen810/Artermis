{
  "version": 3,
  "sources": ["src/main/webapp/app/lecture/lecture-unit/lecture-unit-management/create-online-unit/create-online-unit.component.ts", "src/main/webapp/app/lecture/lecture-unit/lecture-unit-management/create-online-unit/create-online-unit.component.html"],
  "sourcesContent": ["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, OnInit, inject } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { OnlineUnit } from 'app/entities/lecture-unit/onlineUnit.model';\r\nimport { OnlineUnitFormData } from 'app/lecture/lecture-unit/lecture-unit-management/online-unit-form/online-unit-form.component';\r\nimport { OnlineUnitService } from 'app/lecture/lecture-unit/lecture-unit-management/onlineUnit.service';\r\nimport { onError } from 'app/shared/util/global.utils';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { combineLatest } from 'rxjs';\r\nimport { LectureUnitLayoutComponent } from '../lecture-unit-layout/lecture-unit-layout.component';\r\nimport { OnlineUnitFormComponent } from '../online-unit-form/online-unit-form.component';\r\n\r\n@Component({\r\n    selector: 'jhi-create-online-unit',\r\n    templateUrl: './create-online-unit.component.html',\r\n    imports: [LectureUnitLayoutComponent, OnlineUnitFormComponent],\r\n})\r\nexport class CreateOnlineUnitComponent implements OnInit {\r\n    private activatedRoute = inject(ActivatedRoute);\r\n    private router = inject(Router);\r\n    private onlineUnitService = inject(OnlineUnitService);\r\n    private alertService = inject(AlertService);\r\n\r\n    onlineUnitToCreate: OnlineUnit = new OnlineUnit();\r\n    isLoading: boolean;\r\n    lectureId: number;\r\n    courseId: number;\r\n\r\n    ngOnInit(): void {\r\n        const lectureRoute = this.activatedRoute.parent!.parent!;\r\n        combineLatest([lectureRoute.paramMap, lectureRoute.parent!.paramMap]).subscribe(([params, parentParams]) => {\r\n            this.lectureId = Number(params.get('lectureId'));\r\n            this.courseId = Number(parentParams.get('courseId'));\r\n        });\r\n        this.onlineUnitToCreate = new OnlineUnit();\r\n    }\r\n\r\n    createOnlineUnit(formData: OnlineUnitFormData) {\r\n        if (!formData?.name || !formData?.source) {\r\n            return;\r\n        }\r\n\r\n        const { name, description, releaseDate, source, competencyLinks } = formData;\r\n\r\n        this.onlineUnitToCreate.name = name || undefined;\r\n        this.onlineUnitToCreate.releaseDate = releaseDate || undefined;\r\n        this.onlineUnitToCreate.description = description || undefined;\r\n        this.onlineUnitToCreate.source = source || undefined;\r\n        this.onlineUnitToCreate.competencyLinks = competencyLinks || [];\r\n\r\n        this.isLoading = true;\r\n\r\n        this.onlineUnitService\r\n            .create(this.onlineUnitToCreate!, this.lectureId)\r\n            .pipe(\r\n                finalize(() => {\r\n                    this.isLoading = false;\r\n                }),\r\n            )\r\n            .subscribe({\r\n                next: () => {\r\n                    this.router.navigate(['../../'], { relativeTo: this.activatedRoute });\r\n                },\r\n                error: (res: HttpErrorResponse) => onError(this.alertService, res),\r\n            });\r\n    }\r\n}\r\n", "<jhi-lecture-unit-layout [isLoading]=\"isLoading\">\r\n    <jhi-online-unit-form [isEditMode]=\"false\" (formSubmitted)=\"createOnlineUnit($event)\" />\r\n</jhi-lecture-unit-layout>\r\n"],
  "mappings": "qlDAkBA,IAAaA,GAAyB,IAAA,CAAhC,MAAOA,CAAyB,CAC1BC,eAAiBC,EAAOC,CAAc,EACtCC,OAASF,EAAOG,CAAM,EACtBC,kBAAoBJ,EAAOK,CAAiB,EAC5CC,aAAeN,EAAOO,CAAY,EAE1CC,mBAAiC,IAAIC,EACrCC,UACAC,UACAC,SAEAC,UAAQ,CACJ,IAAMC,EAAe,KAAKf,eAAegB,OAAQA,OACjDC,EAAc,CAACF,EAAaG,SAAUH,EAAaC,OAAQE,QAAQ,CAAC,EAAEC,UAAU,CAAC,CAACC,EAAQC,CAAY,IAAK,CACvG,KAAKT,UAAYU,OAAOF,EAAOG,IAAI,WAAW,CAAC,EAC/C,KAAKV,SAAWS,OAAOD,EAAaE,IAAI,UAAU,CAAC,CACvD,CAAC,EACD,KAAKd,mBAAqB,IAAIC,CAClC,CAEAc,iBAAiBC,EAA4B,CACzC,GAAI,CAACA,GAAUC,MAAQ,CAACD,GAAUE,OAC9B,OAGJ,GAAM,CAAED,KAAAA,EAAME,YAAAA,EAAaC,YAAAA,EAAaF,OAAAA,EAAQG,gBAAAA,CAAe,EAAKL,EAEpE,KAAKhB,mBAAmBiB,KAAOA,GAAQK,OACvC,KAAKtB,mBAAmBoB,YAAcA,GAAeE,OACrD,KAAKtB,mBAAmBmB,YAAcA,GAAeG,OACrD,KAAKtB,mBAAmBkB,OAASA,GAAUI,OAC3C,KAAKtB,mBAAmBqB,gBAAkBA,GAAmB,CAAA,EAE7D,KAAKnB,UAAY,GAEjB,KAAKN,kBACA2B,OAAO,KAAKvB,mBAAqB,KAAKG,SAAS,EAC/CqB,KACGC,EAAS,IAAK,CACV,KAAKvB,UAAY,EACrB,CAAC,CAAC,EAELQ,UAAU,CACPgB,KAAMA,IAAK,CACP,KAAKhC,OAAOiC,SAAS,CAAC,QAAQ,EAAG,CAAEC,WAAY,KAAKrC,cAAc,CAAE,CACxE,EACAsC,MAAQC,GAA2BC,EAAQ,KAAKjC,aAAcgC,CAAG,EACpE,CACT,4CAhDSxC,EAAyB,2BAAzBA,EAAyB0C,UAAA,CAAA,CAAA,wBAAA,CAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,WAAA,EAAA,CAAA,EAAA,gBAAA,YAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,IClBtCE,EAAA,EAAA,0BAAA,CAAA,EACIC,EAAA,EAAA;KAAA,EAAAD,EAAA,EAAA,uBAAA,CAAA,EAA2CE,EAAA,gBAAA,SAAAC,EAAA,CAAA,OAAiBJ,EAAAvB,iBAAA2B,CAAA,CAAwB,CAAA,EAApFC,EAAA,EACJH,EAAA,EAAA;CAAA,EAAAG,EAAA,EACAH,EAAA,EAAA;CAAA,SAHyBI,EAAA,YAAAN,EAAApC,SAAA,EACC2C,EAAA,CAAA,EAAAD,EAAA,aAAA,EAAA,kBDeZE,EAA4BC,CAAuB,EAAAC,cAAA,CAAA,CAAA,SAEpD1D,CAAyB,GAAA",
  "names": ["CreateOnlineUnitComponent", "activatedRoute", "inject", "ActivatedRoute", "router", "Router", "onlineUnitService", "OnlineUnitService", "alertService", "AlertService", "onlineUnitToCreate", "OnlineUnit", "isLoading", "lectureId", "courseId", "ngOnInit", "lectureRoute", "parent", "combineLatest", "paramMap", "subscribe", "params", "parentParams", "Number", "get", "createOnlineUnit", "formData", "name", "source", "description", "releaseDate", "competencyLinks", "undefined", "create", "pipe", "finalize", "next", "navigate", "relativeTo", "error", "res", "onError", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275listener", "$event", "\u0275\u0275elementEnd", "\u0275\u0275property", "\u0275\u0275advance", "LectureUnitLayoutComponent", "OnlineUnitFormComponent", "encapsulation"]
}
